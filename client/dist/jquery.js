function ASTimer(a,b,c){var d=50,e=null,f=0,g=!1,h=!1;this.pause=function(){h&&(g=!0,clearInterval(e))},this.resume=function(){h&&g&&(g=!1,e=setInterval(function(){f+=d,f>a&&(clearInterval(e),b&&b()),c&&c(f/a)},d))},this.stop=function(){clearInterval(e),c&&c(-1),f=0,g=!1,h=!1},this.start=function(){f=0,g=!1,h=!0,e=setInterval(function(){f+=d,f>a&&(clearInterval(e),b&&b()),c&&c(f/a)},d)}}function onYouTubeIframeAPIReady(){ASYouTubeIframeAPIReady=!0}var wysihtml5={version:"0.3.0",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"ï»¿",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46};window.rangy=function(){function a(a,b){var c=typeof a[b];return c==l||!(c!=k||!a[b])||"unknown"==c}function b(a,b){return!(typeof a[b]!=k||!a[b])}function c(a,b){return typeof a[b]!=m}function d(a){return function(b,c){for(var d=c.length;d--;)if(!a(b,c[d]))return!1;return!0}}function e(a){return a&&r(a,q)&&t(a,p)}function f(a){window.alert("Rangy not supported in your browser. Reason: "+a),u.initialized=!0,u.supported=!1}function g(a){var b="Rangy warning: "+a;u.config.alertOnWarn?window.alert(b):typeof window.console!=m&&typeof window.console.log!=m&&window.console.log(b)}function h(){if(!u.initialized){var c,d=!1,g=!1;a(document,"createRange")&&(c=document.createRange(),r(c,o)&&t(c,n)&&(d=!0),c.detach());var h=b(document,"body")?document.body:document.getElementsByTagName("body")[0];h&&a(h,"createTextRange")&&(c=h.createTextRange(),e(c)&&(g=!0)),d||g||f("Neither Range nor TextRange are implemented"),u.initialized=!0,u.features={implementsDomRange:d,implementsTextRange:g};for(var i=w.concat(v),j=0,k=i.length;k>j;++j)try{i[j](u)}catch(l){b(window,"console")&&a(window.console,"log")&&window.console.log("Init listener threw an exception. Continuing.",l)}}}function i(a){a=a||window,h();for(var b=0,c=x.length;c>b;++b)x[b](a)}function j(a){this.name=a,this.initialized=!1,this.supported=!1}var k="object",l="function",m="undefined",n=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer","START_TO_START","START_TO_END","END_TO_START","END_TO_END"],o=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],p=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],q=["collapse","compareEndPoints","duplicate","getBookmark","moveToBookmark","moveToElementText","parentElement","pasteHTML","select","setEndPoint","getBoundingClientRect"],r=d(a),s=d(b),t=d(c),u={version:"1.2.2",initialized:!1,supported:!0,util:{isHostMethod:a,isHostObject:b,isHostProperty:c,areHostMethods:r,areHostObjects:s,areHostProperties:t,isTextRange:e},features:{},modules:{},config:{alertOnWarn:!1,preferTextRange:!1}};u.fail=f,u.warn=g,{}.hasOwnProperty?u.util.extend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}:f("hasOwnProperty not supported");var v=[],w=[];u.init=h,u.addInitListener=function(a){u.initialized?a(u):v.push(a)};var x=[];u.addCreateMissingNativeApiListener=function(a){x.push(a)},u.createMissingNativeApi=i,j.prototype.fail=function(a){throw this.initialized=!0,this.supported=!1,new Error("Module '"+this.name+"' failed to load: "+a)},j.prototype.warn=function(a){u.warn("Module "+this.name+": "+a)},j.prototype.createError=function(a){return new Error("Error in Rangy "+this.name+" module: "+a)},u.createModule=function(a,b){var c=new j(a);u.modules[a]=c,w.push(function(a){b(a,c),c.initialized=!0,c.supported=!0})},u.requireModules=function(a){for(var b,c,d=0,e=a.length;e>d;++d){if(c=a[d],b=u.modules[c],!(b&&b instanceof j))throw new Error("Module '"+c+"' not found");if(!b.supported)throw new Error("Module '"+c+"' not supported")}};var y=!1,z=function(){y||(y=!0,u.initialized||h())};return typeof window==m?void f("No window found"):typeof document==m?void f("No document found"):(a(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",z,!1),a(window,"addEventListener")?window.addEventListener("load",z,!1):a(window,"attachEvent")?window.attachEvent("onload",z):f("Window does not have required addEventListener or attachEvent method"),u)}(),rangy.createModule("DomUtil",function(a,b){function c(a){var b;return typeof a.namespaceURI==z||null===(b=a.namespaceURI)||"http://www.w3.org/1999/xhtml"==b}function d(a){var b=a.parentNode;return 1==b.nodeType?b:null}function e(a){for(var b=0;a=a.previousSibling;)b++;return b}function f(a){var b;return j(a)?a.length:(b=a.childNodes)?b.length:0}function g(a,b){var c,d=[];for(c=a;c;c=c.parentNode)d.push(c);for(c=b;c;c=c.parentNode)if(D(d,c))return c;return null}function h(a,b,c){for(var d=c?b:b.parentNode;d;){if(d===a)return!0;d=d.parentNode}return!1}function i(a,b,c){for(var d,e=c?a:a.parentNode;e;){if(d=e.parentNode,d===b)return e;e=d}return null}function j(a){var b=a.nodeType;return 3==b||4==b||8==b}function k(a,b){var c=b.nextSibling,d=b.parentNode;return c?d.insertBefore(a,c):d.appendChild(a),a}function l(a,b){var c=a.cloneNode(!1);return c.deleteData(0,b),a.deleteData(b,a.length-b),k(c,a),c}function m(a){if(9==a.nodeType)return a;if(typeof a.ownerDocument!=z)return a.ownerDocument;if(typeof a.document!=z)return a.document;if(a.parentNode)return m(a.parentNode);throw new Error("getDocument: no document found for node")}function n(a){var b=m(a);if(typeof b.defaultView!=z)return b.defaultView;if(typeof b.parentWindow!=z)return b.parentWindow;throw new Error("Cannot get a window object for node")}function o(a){if(typeof a.contentDocument!=z)return a.contentDocument;if(typeof a.contentWindow!=z)return a.contentWindow.document;throw new Error("getIframeWindow: No Document object found for iframe element")}function p(a){if(typeof a.contentWindow!=z)return a.contentWindow;if(typeof a.contentDocument!=z)return a.contentDocument.defaultView;throw new Error("getIframeWindow: No Window object found for iframe element")}function q(a){return A.isHostObject(a,"body")?a.body:a.getElementsByTagName("body")[0]}function r(a){for(var b;b=a.parentNode;)a=b;return a}function s(a,b,c,d){var f,h,j,k,l;if(a==c)return b===d?0:d>b?-1:1;if(f=i(c,a,!0))return b<=e(f)?-1:1;if(f=i(a,c,!0))return e(f)<d?-1:1;if(h=g(a,c),j=a===h?h:i(a,h,!0),k=c===h?h:i(c,h,!0),j===k)throw new Error("comparePoints got to case 4 and childA and childB are the same!");for(l=h.firstChild;l;){if(l===j)return-1;if(l===k)return 1;l=l.nextSibling}throw new Error("Should not be here!")}function t(a){for(var b,c=m(a).createDocumentFragment();b=a.firstChild;)c.appendChild(b);return c}function u(a){if(!a)return"[No node]";if(j(a))return'"'+a.data+'"';if(1==a.nodeType){var b=a.id?' id="'+a.id+'"':"";return"<"+a.nodeName+b+">["+a.childNodes.length+"]"}return a.nodeName}function v(a){this.root=a,this._next=a}function w(a){return new v(a)}function x(a,b){this.node=a,this.offset=b}function y(a){this.code=this[a],this.codeName=a,this.message="DOMException: "+this.codeName}var z="undefined",A=a.util;A.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||b.fail("document missing a Node creation method"),A.isHostMethod(document,"getElementsByTagName")||b.fail("document missing getElementsByTagName method");var B=document.createElement("div");A.areHostMethods(B,["insertBefore","appendChild","cloneNode"]||!A.areHostObjects(B,["previousSibling","nextSibling","childNodes","parentNode"]))||b.fail("Incomplete Element implementation"),A.isHostProperty(B,"innerHTML")||b.fail("Element is missing innerHTML property");var C=document.createTextNode("test");A.areHostMethods(C,["splitText","deleteData","insertData","appendData","cloneNode"]||!A.areHostObjects(B,["previousSibling","nextSibling","childNodes","parentNode"])||!A.areHostProperties(C,["data"]))||b.fail("Incomplete Text Node implementation");var D=function(a,b){for(var c=a.length;c--;)if(a[c]===b)return!0;return!1};v.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var a,b,c=this._current=this._next;if(this._current)if(a=c.firstChild)this._next=a;else{for(b=null;c!==this.root&&!(b=c.nextSibling);)c=c.parentNode;this._next=b}return this._current},detach:function(){this._current=this._next=this.root=null}},x.prototype={equals:function(a){return this.node===a.node&this.offset==a.offset},inspect:function(){return"[DomPosition("+u(this.node)+":"+this.offset+")]"}},y.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11},y.prototype.toString=function(){return this.message},a.dom={arrayContains:D,isHtmlNamespace:c,parentElement:d,getNodeIndex:e,getNodeLength:f,getCommonAncestor:g,isAncestorOf:h,getClosestAncestorIn:i,isCharacterDataNode:j,insertAfter:k,splitDataNode:l,getDocument:m,getWindow:n,getIframeWindow:p,getIframeDocument:o,getBody:q,getRootContainer:r,comparePoints:s,inspectNode:u,fragmentFromNodeChildren:t,createIterator:w,DomPosition:x},a.DOMException=y}),rangy.createModule("DomRange",function(a){function b(a,b){return 3!=a.nodeType&&(K.isAncestorOf(a,b.startContainer,!0)||K.isAncestorOf(a,b.endContainer,!0))}function c(a){return K.getDocument(a.startContainer)}function d(a,b,c){var d=a._listeners[b];if(d)for(var e=0,f=d.length;f>e;++e)d[e].call(a,{target:a,args:c})}function e(a){return new L(a.parentNode,K.getNodeIndex(a))}function f(a){return new L(a.parentNode,K.getNodeIndex(a)+1)}function g(a,b,c){var d=11==a.nodeType?a.firstChild:a;return K.isCharacterDataNode(b)?c==b.length?K.insertAfter(a,b):b.parentNode.insertBefore(a,0==c?b:K.splitDataNode(b,c)):c>=b.childNodes.length?b.appendChild(a):b.insertBefore(a,b.childNodes[c]),d}function h(a){for(var b,d,e,f=c(a.range).createDocumentFragment();d=a.next();){if(b=a.isPartiallySelectedSubtree(),d=d.cloneNode(!b),b&&(e=a.getSubtreeIterator(),d.appendChild(h(e)),e.detach(!0)),10==d.nodeType)throw new M("HIERARCHY_REQUEST_ERR");f.appendChild(d)}return f}function i(a,b,c){var d,e;c=c||{stop:!1};for(var f,g;f=a.next();)if(a.isPartiallySelectedSubtree()){if(b(f)===!1)return void(c.stop=!0);if(g=a.getSubtreeIterator(),i(g,b,c),g.detach(!0),c.stop)return}else for(d=K.createIterator(f);e=d.next();)if(b(e)===!1)return void(c.stop=!0)}function j(a){for(var b;a.next();)a.isPartiallySelectedSubtree()?(b=a.getSubtreeIterator(),j(b),b.detach(!0)):a.remove()}function k(a){for(var b,d,e=c(a.range).createDocumentFragment();b=a.next();){if(a.isPartiallySelectedSubtree()?(b=b.cloneNode(!1),d=a.getSubtreeIterator(),b.appendChild(k(d)),d.detach(!0)):a.remove(),10==b.nodeType)throw new M("HIERARCHY_REQUEST_ERR");e.appendChild(b)}return e}function l(a,b,c){var d,e=!(!b||!b.length),f=!!c;e&&(d=new RegExp("^("+b.join("|")+")$"));var g=[];return i(new n(a,!1),function(a){e&&!d.test(a.nodeType)||f&&!c(a)||g.push(a)}),g}function m(a){var b="undefined"==typeof a.getName?"Range":a.getName();return"["+b+"("+K.inspectNode(a.startContainer)+":"+a.startOffset+", "+K.inspectNode(a.endContainer)+":"+a.endOffset+")]"}function n(a,b){if(this.range=a,this.clonePartiallySelectedTextNodes=b,!a.collapsed){this.sc=a.startContainer,this.so=a.startOffset,this.ec=a.endContainer,this.eo=a.endOffset;var c=a.commonAncestorContainer;this.sc===this.ec&&K.isCharacterDataNode(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==c||K.isCharacterDataNode(this.sc)?K.getClosestAncestorIn(this.sc,c,!0):this.sc.childNodes[this.so],this._last=this.ec!==c||K.isCharacterDataNode(this.ec)?K.getClosestAncestorIn(this.ec,c,!0):this.ec.childNodes[this.eo-1])}}function o(a){this.code=this[a],this.codeName=a,this.message="RangeException: "+this.codeName}function p(a,b,c){this.nodes=l(a,b,c),this._next=this.nodes[0],this._position=0}function q(a){return function(b,c){for(var d,e=c?b:b.parentNode;e;){if(d=e.nodeType,K.arrayContains(a,d))return e;e=e.parentNode}return null}}function r(a,b){if(V(a,b))throw new o("INVALID_NODE_TYPE_ERR")}function s(a){if(!a.startContainer)throw new M("INVALID_STATE_ERR")}function t(a,b){if(!K.arrayContains(b,a.nodeType))throw new o("INVALID_NODE_TYPE_ERR")}function u(a,b){if(0>b||b>(K.isCharacterDataNode(a)?a.length:a.childNodes.length))throw new M("INDEX_SIZE_ERR")}function v(a,b){if(T(a,!0)!==T(b,!0))throw new M("WRONG_DOCUMENT_ERR")}function w(a){if(U(a,!0))throw new M("NO_MODIFICATION_ALLOWED_ERR")}function x(a,b){if(!a)throw new M(b)}function y(a){return!K.arrayContains(O,a.nodeType)&&!T(a,!0)}function z(a,b){return b<=(K.isCharacterDataNode(a)?a.length:a.childNodes.length)}function A(a){if(s(a),y(a.startContainer)||y(a.endContainer)||!z(a.startContainer,a.startOffset)||!z(a.endContainer,a.endOffset))throw new Error("Range error: Range is no longer valid after DOM mutation ("+a.inspect()+")")}function B(){}function C(a){a.START_TO_START=_,a.START_TO_END=ab,a.END_TO_END=bb,a.END_TO_START=cb,a.NODE_BEFORE=db,a.NODE_AFTER=eb,a.NODE_BEFORE_AND_AFTER=fb,a.NODE_INSIDE=gb}function D(a){C(a),C(a.prototype)}function E(a,b){return function(){A(this);var c,d,e=this.startContainer,g=this.startOffset,h=this.commonAncestorContainer,j=new n(this,!0);e!==h&&(c=K.getClosestAncestorIn(e,h,!0),d=f(c),e=d.node,g=d.offset),i(j,w),j.reset();var k=a(j);return j.detach(),b(this,e,g,e,g),k}}function F(c,d,g){function h(a,b){return function(c){s(this),t(c,N),t(S(c),O);var d=(a?e:f)(c);(b?i:l)(this,d.node,d.offset)}}function i(a,b,c){var e=a.endContainer,f=a.endOffset;(b!==a.startContainer||c!==a.startOffset)&&((S(b)!=S(e)||1==K.comparePoints(b,c,e,f))&&(e=b,f=c),d(a,b,c,e,f))}function l(a,b,c){var e=a.startContainer,f=a.startOffset;(b!==a.endContainer||c!==a.endOffset)&&((S(b)!=S(e)||-1==K.comparePoints(b,c,e,f))&&(e=b,f=c),d(a,e,f,b,c))}function m(a,b,c){(b!==a.startContainer||c!==a.startOffset||b!==a.endContainer||c!==a.endOffset)&&d(a,b,c,b,c)}c.prototype=new B,a.util.extend(c.prototype,{setStart:function(a,b){s(this),r(a,!0),u(a,b),i(this,a,b)},setEnd:function(a,b){s(this),r(a,!0),u(a,b),l(this,a,b)},setStartBefore:h(!0,!0),setStartAfter:h(!1,!0),setEndBefore:h(!0,!1),setEndAfter:h(!1,!1),collapse:function(a){A(this),a?d(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):d(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(a){s(this),r(a,!0),d(this,a,0,a,K.getNodeLength(a))},selectNode:function(a){s(this),r(a,!1),t(a,N);var b=e(a),c=f(a);d(this,b.node,b.offset,c.node,c.offset)},extractContents:E(k,d),deleteContents:E(j,d),canSurroundContents:function(){A(this),w(this.startContainer),w(this.endContainer);var a=new n(this,!0),c=a._first&&b(a._first,this)||a._last&&b(a._last,this);return a.detach(),!c},detach:function(){g(this)},splitBoundaries:function(){A(this);var a=this.startContainer,b=this.startOffset,c=this.endContainer,e=this.endOffset,f=a===c;K.isCharacterDataNode(c)&&e>0&&e<c.length&&K.splitDataNode(c,e),K.isCharacterDataNode(a)&&b>0&&b<a.length&&(a=K.splitDataNode(a,b),f?(e-=b,c=a):c==a.parentNode&&e>=K.getNodeIndex(a)&&e++,b=0),d(this,a,b,c,e)},normalizeBoundaries:function(){A(this);var a=this.startContainer,b=this.startOffset,c=this.endContainer,e=this.endOffset,f=function(a){var b=a.nextSibling;b&&b.nodeType==a.nodeType&&(c=a,e=a.length,a.appendData(b.data),b.parentNode.removeChild(b))},g=function(d){var f=d.previousSibling;if(f&&f.nodeType==d.nodeType){a=d;var g=d.length;if(b=f.length,d.insertData(0,f.data),f.parentNode.removeChild(f),a==c)e+=b,c=a;else if(c==d.parentNode){var h=K.getNodeIndex(d);e==h?(c=d,e=g):e>h&&e--}}},h=!0;if(K.isCharacterDataNode(c))c.length==e&&f(c);else{if(e>0){var i=c.childNodes[e-1];i&&K.isCharacterDataNode(i)&&f(i)}h=!this.collapsed}if(h){if(K.isCharacterDataNode(a))0==b&&g(a);else if(b<a.childNodes.length){var j=a.childNodes[b];j&&K.isCharacterDataNode(j)&&g(j)}}else a=c,b=e;d(this,a,b,c,e)},collapseToPoint:function(a,b){s(this),r(a,!0),u(a,b),m(this,a,b)}}),D(c)}function G(a){a.collapsed=a.startContainer===a.endContainer&&a.startOffset===a.endOffset,a.commonAncestorContainer=a.collapsed?a.startContainer:K.getCommonAncestor(a.startContainer,a.endContainer)}function H(a,b,c,e,f){var g=a.startContainer!==b||a.startOffset!==c,h=a.endContainer!==e||a.endOffset!==f;a.startContainer=b,a.startOffset=c,a.endContainer=e,a.endOffset=f,G(a),d(a,"boundarychange",{startMoved:g,endMoved:h})}function I(a){s(a),a.startContainer=a.startOffset=a.endContainer=a.endOffset=null,a.collapsed=a.commonAncestorContainer=null,d(a,"detach",null),a._listeners=null}function J(a){this.startContainer=a,this.startOffset=0,this.endContainer=a,this.endOffset=0,this._listeners={boundarychange:[],detach:[]},G(this)}a.requireModules(["DomUtil"]);var K=a.dom,L=K.DomPosition,M=a.DOMException;n.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var a=this._current=this._next;return a&&(this._next=a!==this._last?a.nextSibling:null,K.isCharacterDataNode(a)&&this.clonePartiallySelectedTextNodes&&(a===this.ec&&(a=a.cloneNode(!0)).deleteData(this.eo,a.length-this.eo),this._current===this.sc&&(a=a.cloneNode(!0)).deleteData(0,this.so))),a},remove:function(){var a,b,c=this._current;!K.isCharacterDataNode(c)||c!==this.sc&&c!==this.ec?c.parentNode&&c.parentNode.removeChild(c):(a=c===this.sc?this.so:0,b=c===this.ec?this.eo:c.length,a!=b&&c.deleteData(a,b-a))},isPartiallySelectedSubtree:function(){var a=this._current;return b(a,this.range)},getSubtreeIterator:function(){var a;if(this.isSingleCharacterDataNode)a=this.range.cloneRange(),a.collapse();else{a=new J(c(this.range));var b=this._current,d=b,e=0,f=b,g=K.getNodeLength(b);K.isAncestorOf(b,this.sc,!0)&&(d=this.sc,e=this.so),K.isAncestorOf(b,this.ec,!0)&&(f=this.ec,g=this.eo),H(a,d,e,f,g)}return new n(a,this.clonePartiallySelectedTextNodes)},detach:function(a){a&&this.range.detach(),this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},o.prototype={BAD_BOUNDARYPOINTS_ERR:1,INVALID_NODE_TYPE_ERR:2},o.prototype.toString=function(){return this.message},p.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){return this._current=this._next,this._next=this.nodes[++this._position],this._current},detach:function(){this._current=this._next=this.nodes=null}};var N=[1,3,4,5,7,8,10],O=[2,9,11],P=[5,6,10,12],Q=[1,3,4,5,7,8,10,11],R=[1,3,4,5,7,8],S=K.getRootContainer,T=q([9,11]),U=q(P),V=q([6,10,12]),W=document.createElement("style"),X=!1;try{W.innerHTML="<b>x</b>",X=3==W.firstChild.nodeType}catch(Y){}a.features.htmlParsingConforms=X;var Z=X?function(a){var b=this.startContainer,c=K.getDocument(b);if(!b)throw new M("INVALID_STATE_ERR");var d=null;return 1==b.nodeType?d=b:K.isCharacterDataNode(b)&&(d=K.parentElement(b)),d=null===d||"HTML"==d.nodeName&&K.isHtmlNamespace(K.getDocument(d).documentElement)&&K.isHtmlNamespace(d)?c.createElement("body"):d.cloneNode(!1),d.innerHTML=a,K.fragmentFromNodeChildren(d)}:function(a){s(this);var b=c(this),d=b.createElement("body");return d.innerHTML=a,K.fragmentFromNodeChildren(d)},$=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],_=0,ab=1,bb=2,cb=3,db=0,eb=1,fb=2,gb=3;B.prototype={attachListener:function(a,b){this._listeners[a].push(b)},compareBoundaryPoints:function(a,b){A(this),v(this.startContainer,b.startContainer);var c,d,e,f,g=a==cb||a==_?"start":"end",h=a==ab||a==_?"start":"end";return c=this[g+"Container"],d=this[g+"Offset"],e=b[h+"Container"],f=b[h+"Offset"],K.comparePoints(c,d,e,f)},insertNode:function(a){if(A(this),t(a,Q),w(this.startContainer),K.isAncestorOf(a,this.startContainer,!0))throw new M("HIERARCHY_REQUEST_ERR");var b=g(a,this.startContainer,this.startOffset);this.setStartBefore(b)},cloneContents:function(){A(this);var a,b;if(this.collapsed)return c(this).createDocumentFragment();if(this.startContainer===this.endContainer&&K.isCharacterDataNode(this.startContainer))return a=this.startContainer.cloneNode(!0),a.data=a.data.slice(this.startOffset,this.endOffset),b=c(this).createDocumentFragment(),b.appendChild(a),b;var d=new n(this,!0);return a=h(d),d.detach(),a},canSurroundContents:function(){A(this),w(this.startContainer),w(this.endContainer);var a=new n(this,!0),c=a._first&&b(a._first,this)||a._last&&b(a._last,this);return a.detach(),!c},surroundContents:function(a){if(t(a,R),!this.canSurroundContents())throw new o("BAD_BOUNDARYPOINTS_ERR");var b=this.extractContents();if(a.hasChildNodes())for(;a.lastChild;)a.removeChild(a.lastChild);g(a,this.startContainer,this.startOffset),a.appendChild(b),this.selectNode(a)},cloneRange:function(){A(this);for(var a,b=new J(c(this)),d=$.length;d--;)a=$[d],b[a]=this[a];return b},toString:function(){A(this);var a=this.startContainer;if(a===this.endContainer&&K.isCharacterDataNode(a))return 3==a.nodeType||4==a.nodeType?a.data.slice(this.startOffset,this.endOffset):"";var b=[],c=new n(this,!0);return i(c,function(a){(3==a.nodeType||4==a.nodeType)&&b.push(a.data)}),c.detach(),b.join("")},compareNode:function(a){A(this);var b=a.parentNode,c=K.getNodeIndex(a);if(!b)throw new M("NOT_FOUND_ERR");var d=this.comparePoint(b,c),e=this.comparePoint(b,c+1);return 0>d?e>0?fb:db:e>0?eb:gb},comparePoint:function(a,b){return A(this),x(a,"HIERARCHY_REQUEST_ERR"),v(a,this.startContainer),K.comparePoints(a,b,this.startContainer,this.startOffset)<0?-1:K.comparePoints(a,b,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:Z,toHtml:function(){A(this);var a=c(this).createElement("div");return a.appendChild(this.cloneContents()),a.innerHTML},intersectsNode:function(a,b){if(A(this),x(a,"NOT_FOUND_ERR"),K.getDocument(a)!==c(this))return!1;var d=a.parentNode,e=K.getNodeIndex(a);x(d,"NOT_FOUND_ERR");var f=K.comparePoints(d,e,this.endContainer,this.endOffset),g=K.comparePoints(d,e+1,this.startContainer,this.startOffset);return b?0>=f&&g>=0:0>f&&g>0},isPointInRange:function(a,b){return A(this),x(a,"HIERARCHY_REQUEST_ERR"),v(a,this.startContainer),K.comparePoints(a,b,this.startContainer,this.startOffset)>=0&&K.comparePoints(a,b,this.endContainer,this.endOffset)<=0},intersectsRange:function(a,b){if(A(this),c(a)!=c(this))throw new M("WRONG_DOCUMENT_ERR");var d=K.comparePoints(this.startContainer,this.startOffset,a.endContainer,a.endOffset),e=K.comparePoints(this.endContainer,this.endOffset,a.startContainer,a.startOffset);return b?0>=d&&e>=0:0>d&&e>0},intersection:function(a){if(this.intersectsRange(a)){var b=K.comparePoints(this.startContainer,this.startOffset,a.startContainer,a.startOffset),c=K.comparePoints(this.endContainer,this.endOffset,a.endContainer,a.endOffset),d=this.cloneRange();return-1==b&&d.setStart(a.startContainer,a.startOffset),1==c&&d.setEnd(a.endContainer,a.endOffset),d}return null},union:function(a){if(this.intersectsRange(a,!0)){var b=this.cloneRange();return-1==K.comparePoints(a.startContainer,a.startOffset,this.startContainer,this.startOffset)&&b.setStart(a.startContainer,a.startOffset),1==K.comparePoints(a.endContainer,a.endOffset,this.endContainer,this.endOffset)&&b.setEnd(a.endContainer,a.endOffset),b}throw new o("Ranges do not intersect")},containsNode:function(a,b){return b?this.intersectsNode(a,!1):this.compareNode(a)==gb},containsNodeContents:function(a){return this.comparePoint(a,0)>=0&&this.comparePoint(a,K.getNodeLength(a))<=0},containsRange:function(a){return this.intersection(a).equals(a)},containsNodeText:function(a){var b=this.cloneRange();b.selectNode(a);var c=b.getNodes([3]);if(c.length>0){b.setStart(c[0],0);var d=c.pop();b.setEnd(d,d.length);var e=this.containsRange(b);return b.detach(),e}return this.containsNodeContents(a)},createNodeIterator:function(a,b){return A(this),new p(this,a,b)},getNodes:function(a,b){return A(this),l(this,a,b)},getDocument:function(){return c(this)},collapseBefore:function(a){s(this),this.setEndBefore(a),this.collapse(!1)},collapseAfter:function(a){s(this),this.setStartAfter(a),this.collapse(!0)},getName:function(){return"DomRange"},equals:function(a){return J.rangesEqual(this,a)},inspect:function(){return m(this)}},F(J,H,I),a.rangePrototype=B.prototype,J.rangeProperties=$,J.RangeIterator=n,J.copyComparisonConstants=D,J.createPrototypeRange=F,J.inspect=m,J.getRangeDocument=c,J.rangesEqual=function(a,b){return a.startContainer===b.startContainer&&a.startOffset===b.startOffset&&a.endContainer===b.endContainer&&a.endOffset===b.endOffset},a.DomRange=J,a.RangeException=o}),rangy.createModule("WrappedRange",function(a){function b(a){var b=a.parentElement(),c=a.duplicate();c.collapse(!0);var d=c.parentElement();c=a.duplicate(),c.collapse(!1);var e=c.parentElement(),f=d==e?d:g.getCommonAncestor(d,e);return f==b?f:g.getCommonAncestor(b,f)}function c(a){return 0==a.compareEndPoints("StartToEnd",a)}function d(a,b,c,d){var e=a.duplicate();e.collapse(c);var f=e.parentElement();if(g.isAncestorOf(b,f,!0)||(f=b),!f.canHaveHTML)return new h(f.parentNode,g.getNodeIndex(f));var i,j,k,l,m,n=g.getDocument(f).createElement("span"),o=c?"StartToStart":"StartToEnd";do f.insertBefore(n,n.previousSibling),e.moveToElementText(n);while((i=e.compareEndPoints(o,a))>0&&n.previousSibling);if(m=n.nextSibling,-1==i&&m&&g.isCharacterDataNode(m)){e.setEndPoint(c?"EndToStart":"EndToEnd",a);var p;if(/[\r\n]/.test(m.data)){var q=e.duplicate(),r=q.text.replace(/\r\n/g,"\r").length;for(p=q.moveStart("character",r);-1==(i=q.compareEndPoints("StartToEnd",q));)p++,q.moveStart("character",1)}else p=e.text.length;l=new h(m,p)}else j=(d||!c)&&n.previousSibling,k=(d||c)&&n.nextSibling,l=k&&g.isCharacterDataNode(k)?new h(k,0):j&&g.isCharacterDataNode(j)?new h(j,j.length):new h(f,g.getNodeIndex(n));return n.parentNode.removeChild(n),l}function e(a,b){var c,d,e,f,h=a.offset,i=g.getDocument(a.node),j=i.body.createTextRange(),k=g.isCharacterDataNode(a.node);return k?(c=a.node,d=c.parentNode):(f=a.node.childNodes,c=h<f.length?f[h]:null,d=a.node),e=i.createElement("span"),e.innerHTML="&#feff;",c?d.insertBefore(e,c):d.appendChild(e),j.moveToElementText(e),j.collapse(!b),d.removeChild(e),k&&j[b?"moveStart":"moveEnd"]("character",h),j}a.requireModules(["DomUtil","DomRange"]);var f,g=a.dom,h=g.DomPosition,i=a.DomRange;if(!a.features.implementsDomRange||a.features.implementsTextRange&&a.config.preferTextRange){if(a.features.implementsTextRange){f=function(a){this.textRange=a,this.refresh()},f.prototype=new i(document),f.prototype.refresh=function(){var a,e,f=b(this.textRange);c(this.textRange)?e=a=d(this.textRange,f,!0,!0):(a=d(this.textRange,f,!0,!1),e=d(this.textRange,f,!1,!1)),this.setStart(a.node,a.offset),this.setEnd(e.node,e.offset)},i.copyComparisonConstants(f);var j=function(){return this}();"undefined"==typeof j.Range&&(j.Range=f),a.createNativeRange=function(a){return a=a||document,a.body.createTextRange()}}}else!function(){function b(a){for(var b,c=k.length;c--;)b=k[c],a[b]=a.nativeRange[b]}function c(a,b,c,d,e){var f=a.startContainer!==b||a.startOffset!=c,g=a.endContainer!==d||a.endOffset!=e;(f||g)&&(a.setEnd(d,e),a.setStart(b,c))}function d(a){a.nativeRange.detach(),a.detached=!0;for(var b,c=k.length;c--;)b=k[c],a[b]=null}var e,h,j,k=i.rangeProperties;f=function(a){if(!a)throw new Error("Range must be specified");this.nativeRange=a,b(this)},i.createPrototypeRange(f,c,d),e=f.prototype,e.selectNode=function(a){this.nativeRange.selectNode(a),b(this)},e.deleteContents=function(){this.nativeRange.deleteContents(),b(this)},e.extractContents=function(){var a=this.nativeRange.extractContents();return b(this),a},e.cloneContents=function(){return this.nativeRange.cloneContents()},e.surroundContents=function(a){this.nativeRange.surroundContents(a),b(this)},e.collapse=function(a){this.nativeRange.collapse(a),b(this)},e.cloneRange=function(){return new f(this.nativeRange.cloneRange())},e.refresh=function(){b(this)},e.toString=function(){return this.nativeRange.toString()};var l=document.createTextNode("test");g.getBody(document).appendChild(l);var m=document.createRange();m.setStart(l,0),m.setEnd(l,0);try{m.setStart(l,1),h=!0,e.setStart=function(a,c){this.nativeRange.setStart(a,c),b(this)},e.setEnd=function(a,c){this.nativeRange.setEnd(a,c),b(this)},j=function(a){return function(c){this.nativeRange[a](c),b(this)}}}catch(n){h=!1,e.setStart=function(a,c){try{this.nativeRange.setStart(a,c)}catch(d){this.nativeRange.setEnd(a,c),this.nativeRange.setStart(a,c)}b(this)},e.setEnd=function(a,c){try{this.nativeRange.setEnd(a,c)}catch(d){this.nativeRange.setStart(a,c),this.nativeRange.setEnd(a,c)}b(this)},j=function(a,c){return function(d){try{this.nativeRange[a](d)}catch(e){this.nativeRange[c](d),this.nativeRange[a](d)}b(this)}}}e.setStartBefore=j("setStartBefore","setEndBefore"),e.setStartAfter=j("setStartAfter","setEndAfter"),e.setEndBefore=j("setEndBefore","setStartBefore"),e.setEndAfter=j("setEndAfter","setStartAfter"),m.selectNodeContents(l),e.selectNodeContents=m.startContainer==l&&m.endContainer==l&&0==m.startOffset&&m.endOffset==l.length?function(a){this.nativeRange.selectNodeContents(a),b(this)}:function(a){this.setStart(a,0),this.setEnd(a,i.getEndOffset(a))},m.selectNodeContents(l),m.setEnd(l,3);var o=document.createRange();o.selectNodeContents(l),o.setEnd(l,4),o.setStart(l,2),e.compareBoundaryPoints=-1==m.compareBoundaryPoints(m.START_TO_END,o)&1==m.compareBoundaryPoints(m.END_TO_START,o)?function(a,b){return b=b.nativeRange||b,a==b.START_TO_END?a=b.END_TO_START:a==b.END_TO_START&&(a=b.START_TO_END),this.nativeRange.compareBoundaryPoints(a,b)}:function(a,b){return this.nativeRange.compareBoundaryPoints(a,b.nativeRange||b)},a.util.isHostMethod(m,"createContextualFragment")&&(e.createContextualFragment=function(a){return this.nativeRange.createContextualFragment(a)}),g.getBody(document).removeChild(l),m.detach(),o.detach()}(),a.createNativeRange=function(a){return a=a||document,a.createRange()};a.features.implementsTextRange&&(f.rangeToTextRange=function(a){if(a.collapsed){var b=e(new h(a.startContainer,a.startOffset),!0);return b}var c=e(new h(a.startContainer,a.startOffset),!0),d=e(new h(a.endContainer,a.endOffset),!1),f=g.getDocument(a.startContainer).body.createTextRange();return f.setEndPoint("StartToStart",c),f.setEndPoint("EndToEnd",d),f}),f.prototype.getName=function(){return"WrappedRange"},a.WrappedRange=f,a.createRange=function(b){return b=b||document,new f(a.createNativeRange(b))},a.createRangyRange=function(a){return a=a||document,new i(a)},a.createIframeRange=function(b){return a.createRange(g.getIframeDocument(b))},a.createIframeRangyRange=function(b){return a.createRangyRange(g.getIframeDocument(b))},a.addCreateMissingNativeApiListener(function(b){var c=b.document;"undefined"==typeof c.createRange&&(c.createRange=function(){return a.createRange(this)}),c=b=null})}),rangy.createModule("WrappedSelection",function(a,b){function c(a){return(a||window).getSelection()}function d(a){return(a||window).document.selection}function e(a,b,c){var d=c?"end":"start",e=c?"start":"end";a.anchorNode=b[d+"Container"],a.anchorOffset=b[d+"Offset"],a.focusNode=b[e+"Container"],a.focusOffset=b[e+"Offset"]}function f(a){var b=a.nativeSelection;a.anchorNode=b.anchorNode,a.anchorOffset=b.anchorOffset,a.focusNode=b.focusNode,a.focusOffset=b.focusOffset}function g(a){a.anchorNode=a.focusNode=null,a.anchorOffset=a.focusOffset=0,a.rangeCount=0,a.isCollapsed=!0,a._ranges.length=0}function h(b){var c;return b instanceof y?(c=b._selectionNativeRange,c||(c=a.createNativeRange(w.getDocument(b.startContainer)),c.setEnd(b.endContainer,b.endOffset),c.setStart(b.startContainer,b.startOffset),b._selectionNativeRange=c,b.attachListener("detach",function(){this._selectionNativeRange=null}))):b instanceof z?c=b.nativeRange:a.features.implementsDomRange&&b instanceof w.getWindow(b.startContainer).Range&&(c=b),c}function i(a){if(!a.length||1!=a[0].nodeType)return!1;
for(var b=1,c=a.length;c>b;++b)if(!w.isAncestorOf(a[0],a[b]))return!1;return!0}function j(a){var b=a.getNodes();if(!i(b))throw new Error("getSingleElementFromRange: range "+a.inspect()+" did not consist of a single element");return b[0]}function k(a){return!!a&&"undefined"!=typeof a.text}function l(a,b){var c=new z(b);a._ranges=[c],e(a,c,!1),a.rangeCount=1,a.isCollapsed=c.collapsed}function m(b){if(b._ranges.length=0,"None"==b.docSelection.type)g(b);else{var c=b.docSelection.createRange();if(k(c))l(b,c);else{b.rangeCount=c.length;for(var d,f=w.getDocument(c.item(0)),h=0;h<b.rangeCount;++h)d=a.createRange(f),d.selectNode(c.item(h)),b._ranges.push(d);b.isCollapsed=1==b.rangeCount&&b._ranges[0].collapsed,e(b,b._ranges[b.rangeCount-1],!1)}}}function n(a,b){for(var c=a.docSelection.createRange(),d=j(b),e=w.getDocument(c.item(0)),f=w.getBody(e).createControlRange(),g=0,h=c.length;h>g;++g)f.add(c.item(g));try{f.add(d)}catch(i){throw new Error("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}f.select(),m(a)}function o(a,b,c){this.nativeSelection=a,this.docSelection=b,this._ranges=[],this.win=c,this.refresh()}function p(a,b){for(var c,d=w.getDocument(b[0].startContainer),e=w.getBody(d).createControlRange(),f=0;rangeCount>f;++f){c=j(b[f]);try{e.add(c)}catch(g){throw new Error("setRanges(): Element within the one of the specified Ranges could not be added to control selection (does it have layout?)")}}e.select(),m(a)}function q(a,b){if(a.anchorNode&&w.getDocument(a.anchorNode)!==w.getDocument(b))throw new A("WRONG_DOCUMENT_ERR")}function r(a){var b=[],c=new B(a.anchorNode,a.anchorOffset),d=new B(a.focusNode,a.focusOffset),e="function"==typeof a.getName?a.getName():"Selection";if("undefined"!=typeof a.rangeCount)for(var f=0,g=a.rangeCount;g>f;++f)b[f]=y.inspect(a.getRangeAt(f));return"["+e+"(Ranges: "+b.join(", ")+")(anchor: "+c.inspect()+", focus: "+d.inspect()+"]"}a.requireModules(["DomUtil","DomRange","WrappedRange"]),a.config.checkSelectionRanges=!0;var s,t,u="boolean",v="_rangySelection",w=a.dom,x=a.util,y=a.DomRange,z=a.WrappedRange,A=a.DOMException,B=w.DomPosition,C="Control",D=a.util.isHostMethod(window,"getSelection"),E=a.util.isHostObject(document,"selection"),F=E&&(!D||a.config.preferTextRange);F?(s=d,a.isSelectionValid=function(a){var b=(a||window).document,c=b.selection;return"None"!=c.type||w.getDocument(c.createRange().parentElement())==b}):D?(s=c,a.isSelectionValid=function(){return!0}):b.fail("Neither document.selection or window.getSelection() detected."),a.getNativeSelection=s;var G=s(),H=a.createNativeRange(document),I=w.getBody(document),J=x.areHostObjects(G,["anchorNode","focusNode"]&&x.areHostProperties(G,["anchorOffset","focusOffset"]));a.features.selectionHasAnchorAndFocus=J;var K=x.isHostMethod(G,"extend");a.features.selectionHasExtend=K;var L="number"==typeof G.rangeCount;a.features.selectionHasRangeCount=L;var M=!1,N=!0;x.areHostMethods(G,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof G.rangeCount&&a.features.implementsDomRange&&!function(){var a=document.createElement("iframe");I.appendChild(a);var b=w.getIframeDocument(a);b.open(),b.write("<html><head></head><body>12</body></html>"),b.close();var c=w.getIframeWindow(a).getSelection(),d=b.documentElement,e=d.lastChild,f=e.firstChild,g=b.createRange();g.setStart(f,1),g.collapse(!0),c.addRange(g),N=1==c.rangeCount,c.removeAllRanges();var h=g.cloneRange();g.setStart(f,0),h.setEnd(f,2),c.addRange(g),c.addRange(h),M=2==c.rangeCount,g.detach(),h.detach(),I.removeChild(a)}(),a.features.selectionSupportsMultipleRanges=M,a.features.collapsedNonEditableSelectionsSupported=N;var O,P=!1;I&&x.isHostMethod(I,"createControlRange")&&(O=I.createControlRange(),x.areHostProperties(O,["item","add"])&&(P=!0)),a.features.implementsControlRange=P,t=J?function(a){return a.anchorNode===a.focusNode&&a.anchorOffset===a.focusOffset}:function(a){return a.rangeCount?a.getRangeAt(a.rangeCount-1).collapsed:!1};var Q;x.isHostMethod(G,"getRangeAt")?Q=function(a,b){try{return a.getRangeAt(b)}catch(c){return null}}:J&&(Q=function(b){var c=w.getDocument(b.anchorNode),d=a.createRange(c);return d.setStart(b.anchorNode,b.anchorOffset),d.setEnd(b.focusNode,b.focusOffset),d.collapsed!==this.isCollapsed&&(d.setStart(b.focusNode,b.focusOffset),d.setEnd(b.anchorNode,b.anchorOffset)),d}),a.getSelection=function(a){a=a||window;var b=a[v],c=s(a),e=E?d(a):null;return b?(b.nativeSelection=c,b.docSelection=e,b.refresh(a)):(b=new o(c,e,a),a[v]=b),b},a.getIframeSelection=function(b){return a.getSelection(w.getIframeWindow(b))};var R=o.prototype;if(!F&&J&&x.areHostMethods(G,["removeAllRanges","addRange"])){R.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),g(this)};var S=function(b,c){var d=y.getRangeDocument(c),e=a.createRange(d);e.collapseToPoint(c.endContainer,c.endOffset),b.nativeSelection.addRange(h(e)),b.nativeSelection.extend(c.startContainer,c.startOffset),b.refresh()};R.addRange=L?function(b,c){if(P&&E&&this.docSelection.type==C)n(this,b);else if(c&&K)S(this,b);else{var d;if(M?d=this.rangeCount:(this.removeAllRanges(),d=0),this.nativeSelection.addRange(h(b)),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==d+1){if(a.config.checkSelectionRanges){var f=Q(this.nativeSelection,this.rangeCount-1);f&&!y.rangesEqual(f,b)&&(b=new z(f))}this._ranges[this.rangeCount-1]=b,e(this,b,V(this.nativeSelection)),this.isCollapsed=t(this)}else this.refresh()}}:function(a,b){b&&K?S(this,a):(this.nativeSelection.addRange(h(a)),this.refresh())},R.setRanges=function(a){if(P&&a.length>1)p(this,a);else{this.removeAllRanges();for(var b=0,c=a.length;c>b;++b)this.addRange(a[b])}}}else{if(!(x.isHostMethod(G,"empty")&&x.isHostMethod(H,"select")&&P&&F))return b.fail("No means of selecting a Range or TextRange was found"),!1;R.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var a;if(this.anchorNode)a=w.getDocument(this.anchorNode);else if(this.docSelection.type==C){var b=this.docSelection.createRange();b.length&&(a=w.getDocument(b.item(0)).body.createTextRange())}if(a){var c=a.body.createTextRange();c.select(),this.docSelection.empty()}}}catch(d){}g(this)},R.addRange=function(a){this.docSelection.type==C?n(this,a):(z.rangeToTextRange(a).select(),this._ranges[0]=a,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,e(this,a,!1))},R.setRanges=function(a){this.removeAllRanges();var b=a.length;b>1?p(this,a):b&&this.addRange(a[0])}}R.getRangeAt=function(a){if(0>a||a>=this.rangeCount)throw new A("INDEX_SIZE_ERR");return this._ranges[a]};var T;if(F)T=function(b){var c;a.isSelectionValid(b.win)?c=b.docSelection.createRange():(c=w.getBody(b.win.document).createTextRange(),c.collapse(!0)),b.docSelection.type==C?m(b):k(c)?l(b,c):g(b)};else if(x.isHostMethod(G,"getRangeAt")&&"number"==typeof G.rangeCount)T=function(b){if(P&&E&&b.docSelection.type==C)m(b);else if(b._ranges.length=b.rangeCount=b.nativeSelection.rangeCount,b.rangeCount){for(var c=0,d=b.rangeCount;d>c;++c)b._ranges[c]=new a.WrappedRange(b.nativeSelection.getRangeAt(c));e(b,b._ranges[b.rangeCount-1],V(b.nativeSelection)),b.isCollapsed=t(b)}else g(b)};else{if(!J||typeof G.isCollapsed!=u||typeof H.collapsed!=u||!a.features.implementsDomRange)return b.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;T=function(a){var b,c=a.nativeSelection;c.anchorNode?(b=Q(c,0),a._ranges=[b],a.rangeCount=1,f(a),a.isCollapsed=t(a)):g(a)}}R.refresh=function(a){var b=a?this._ranges.slice(0):null;if(T(this),a){var c=b.length;if(c!=this._ranges.length)return!1;for(;c--;)if(!y.rangesEqual(b[c],this._ranges[c]))return!1;return!0}};var U=function(a,b){var c=a.getAllRanges(),d=!1;a.removeAllRanges();for(var e=0,f=c.length;f>e;++e)d||b!==c[e]?a.addRange(c[e]):d=!0;a.rangeCount||g(a)};R.removeRange=P?function(a){if(this.docSelection.type==C){for(var b,c=this.docSelection.createRange(),d=j(a),e=w.getDocument(c.item(0)),f=w.getBody(e).createControlRange(),g=!1,h=0,i=c.length;i>h;++h)b=c.item(h),b!==d||g?f.add(c.item(h)):g=!0;f.select(),m(this)}else U(this,a)}:function(a){U(this,a)};var V;!F&&J&&a.features.implementsDomRange?(V=function(a){var b=!1;return a.anchorNode&&(b=1==w.comparePoints(a.anchorNode,a.anchorOffset,a.focusNode,a.focusOffset)),b},R.isBackwards=function(){return V(this)}):V=R.isBackwards=function(){return!1},R.toString=function(){for(var a=[],b=0,c=this.rangeCount;c>b;++b)a[b]=""+this._ranges[b];return a.join("")},R.collapse=function(b,c){q(this,b);var d=a.createRange(w.getDocument(b));d.collapseToPoint(b,c),this.removeAllRanges(),this.addRange(d),this.isCollapsed=!0},R.collapseToStart=function(){if(!this.rangeCount)throw new A("INVALID_STATE_ERR");var a=this._ranges[0];this.collapse(a.startContainer,a.startOffset)},R.collapseToEnd=function(){if(!this.rangeCount)throw new A("INVALID_STATE_ERR");var a=this._ranges[this.rangeCount-1];this.collapse(a.endContainer,a.endOffset)},R.selectAllChildren=function(b){q(this,b);var c=a.createRange(w.getDocument(b));c.selectNodeContents(b),this.removeAllRanges(),this.addRange(c)},R.deleteFromDocument=function(){if(P&&E&&this.docSelection.type==C){for(var a,b=this.docSelection.createRange();b.length;)a=b.item(0),b.remove(a),a.parentNode.removeChild(a);this.refresh()}else if(this.rangeCount){var c=this.getAllRanges();this.removeAllRanges();for(var d=0,e=c.length;e>d;++d)c[d].deleteContents();this.addRange(c[e-1])}},R.getAllRanges=function(){return this._ranges.slice(0)},R.setSingleRange=function(a){this.setRanges([a])},R.containsNode=function(a,b){for(var c=0,d=this._ranges.length;d>c;++c)if(this._ranges[c].containsNode(a,b))return!0;return!1},R.toHtml=function(){var a="";if(this.rangeCount){for(var b=y.getRangeDocument(this._ranges[0]).createElement("div"),c=0,d=this._ranges.length;d>c;++c)b.appendChild(this._ranges[c].cloneContents());a=b.innerHTML}return a},R.getName=function(){return"WrappedSelection"},R.inspect=function(){return r(this)},R.detach=function(){this.win[v]=null,this.win=this.anchorNode=this.focusNode=null},o.inspect=r,a.Selection=o,a.selectionPrototype=R,a.addCreateMissingNativeApiListener(function(b){"undefined"==typeof b.getSelection&&(b.getSelection=function(){return a.getSelection(this)}),b=null})});var Base=function(){};Base.extend=function(a,b){var c=Base.prototype.extend;Base._prototyping=!0;var d=new this;c.call(d,a),d.base=function(){},delete Base._prototyping;var e=d.constructor,f=d.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==f)this._constructing=!0,e.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||c).call(arguments[0],d)};return f.ancestor=this,f.extend=this.extend,f.forEach=this.forEach,f.implement=this.implement,f.prototype=d,f.toString=this.toString,f.valueOf=function(a){return"object"==a?f:e.valueOf()},c.call(f,b),"function"==typeof f.init&&f.init(),f},Base.prototype={extend:function(a,b){if(arguments.length>1){var c=this[a];if(c&&"function"==typeof b&&(!c.valueOf||c.valueOf()!=b.valueOf())&&/\bbase\b/.test(b)){var d=b.valueOf();b=function(){var a=this.base||Base.prototype.base;this.base=c;var b=d.apply(this,arguments);return this.base=a,b},b.valueOf=function(a){return"object"==a?b:d},b.toString=Base.toString}this[a]=b}else if(a){var e=Base.prototype.extend;Base._prototyping||"function"==typeof this||(e=this.extend||e);for(var f={toSource:null},g=["constructor","toString","valueOf"],h=Base._prototyping?0:1;i=g[h++];)a[i]!=f[i]&&e.call(this,i,a[i]);for(var i in a)f[i]||e.call(this,i,a[i])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(a,b,c){for(var d in a)void 0===this.prototype[d]&&b.call(c,a[d],d,a)},implement:function(){for(var a=0;a<arguments.length;a++)"function"==typeof arguments[a]?arguments[a](this.prototype):this.prototype.extend(arguments[a]);return this},toString:function(){return String(this.valueOf())}}),wysihtml5.browser=function(){function a(a){return(/ipad|iphone|ipod/.test(a)&&a.match(/ os (\d+).+? like mac os x/)||[,0])[1]}var b=navigator.userAgent,c=document.createElement("div"),d=-1!==b.indexOf("MSIE")&&-1===b.indexOf("Opera"),e=-1!==b.indexOf("Gecko")&&-1===b.indexOf("KHTML"),f=-1!==b.indexOf("AppleWebKit/"),g=-1!==b.indexOf("Chrome/"),h=-1!==b.indexOf("Opera/");return{USER_AGENT:b,supported:function(){var b=this.USER_AGENT.toLowerCase(),d="contentEditable"in c,e=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,f=document.querySelector&&document.querySelectorAll,g=this.isIos()&&a(b)<5||-1!==b.indexOf("opera mobi")||-1!==b.indexOf("hpwos/");return d&&e&&f&&!g},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){var a=this.USER_AGENT.toLowerCase();return-1!==a.indexOf("webkit")&&-1!==a.indexOf("mobile")},supportsSandboxedIframes:function(){return d},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return!e},hasCurrentStyleProperty:function(){return"currentStyle"in c},insertsLineBreaksOnReturn:function(){return e},supportsPlaceholderAttributeOn:function(a){return"placeholder"in a},supportsEvent:function(a){return"on"+a in c||function(){return c.setAttribute("on"+a,"return;"),"function"==typeof c["on"+a]}()},supportsEventsInIframeCorrectly:function(){return!h},firesOnDropOnlyWhenOnDragOverIsCancelled:function(){return f||e},supportsDataTransfer:function(){try{return f&&(window.Clipboard||window.DataTransfer).prototype.getData}catch(a){return!1}},supportsHTML5Tags:function(a){var b=a.createElement("div"),c="<article>foo</article>";return b.innerHTML=c,b.innerHTML.toLowerCase()===c},supportsCommand:function(){var a={formatBlock:d,insertUnorderedList:d||h||f,insertOrderedList:d||h||f},b={insertHTML:e};return function(c,d){var e=a[d];if(!e){try{return c.queryCommandSupported(d)}catch(f){}try{return c.queryCommandEnabled(d)}catch(g){return!!b[d]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return d},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return e||h||f},supportsGetAttributeCorrectly:function(){var a=document.createElement("td");return"1"!=a.getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return e||d||h},clearsListsInContentEditableCorrectly:function(){return e||d||f},autoScrollsToCaret:function(){return!f},autoClosesUnclosedTags:function(){var a,b,d=c.cloneNode(!1);return d.innerHTML="<p><div></div>",b=d.innerHTML.toLowerCase(),a="<p></p><div></div>"===b||"<p><div></div></p>"===b,this.autoClosesUnclosedTags=function(){return a},a},supportsNativeGetElementsByClassName:function(){return-1!==String(document.getElementsByClassName).indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},supportsClassList:function(){return"classList"in c},needsSpaceAfterLineBreak:function(){return h},supportsSpeechApiOn:function(a){var c=b.match(/Chrome\/(\d+)/)||[,0];return c[1]>=11&&("onwebkitspeechchange"in a||"speech"in a)},crashesWhenDefineProperty:function(a){return d&&("XMLHttpRequest"===a||"XDomainRequest"===a)},doesAsyncFocus:function(){return d},hasProblemsSettingCaretAfterImg:function(){return d},hasUndoInContextMenu:function(){return e||g||h}}}(),wysihtml5.lang.array=function(a){return{contains:function(b){if(a.indexOf)return-1!==a.indexOf(b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return!0;return!1},without:function(b){b=wysihtml5.lang.array(b);for(var c=[],d=0,e=a.length;e>d;d++)b.contains(a[d])||c.push(a[d]);return c},get:function(){for(var b=0,c=a.length,d=[];c>b;b++)d.push(a[b]);return d}}},wysihtml5.lang.Dispatcher=Base.extend({observe:function(a,b){return this.events=this.events||{},this.events[a]=this.events[a]||[],this.events[a].push(b),this},on:function(){return this.observe.apply(this,wysihtml5.lang.array(arguments).get())},fire:function(a,b){this.events=this.events||{};for(var c=this.events[a]||[],d=0;d<c.length;d++)c[d].call(this,b);return this},stopObserving:function(a,b){this.events=this.events||{};var c,d,e=0;if(a){for(c=this.events[a]||[],d=[];e<c.length;e++)c[e]!==b&&b&&d.push(c[e]);this.events[a]=d}else this.events={};return this}}),wysihtml5.lang.object=function(a){return{merge:function(b){for(var c in b)a[c]=b[c];return this},get:function(){return a},clone:function(){var b,c={};for(b in a)c[b]=a[b];return c},isArray:function(){return"[object Array]"===Object.prototype.toString.call(a)}}},function(){var a=/^\s+/,b=/\s+$/;wysihtml5.lang.string=function(c){return c=String(c),{trim:function(){return c.replace(a,"").replace(b,"")},interpolate:function(a){for(var b in a)c=this.replace("#{"+b+"}").by(a[b]);return c},replace:function(a){return{by:function(b){return c.split(a).join(b)}}}}}}(),function(a){function b(a){return f(a)?a:(a===a.ownerDocument.documentElement&&(a=a.ownerDocument.body),g(a))}function c(a){return a.replace(i,function(a,b){var c=(b.match(j)||[])[1]||"",d=l[c];b=b.replace(j,""),b.split(d).length>b.split(c).length&&(b+=c,c="");var e=b,f=b;return b.length>k&&(f=f.substr(0,k)+"..."),"www."===e.substr(0,4)&&(e="http://"+e),'<a href="'+e+'">'+f+"</a>"+c})}function d(a){var b=a._wysihtml5_tempElement;return b||(b=a._wysihtml5_tempElement=a.createElement("div")),b}function e(a){var b=a.parentNode,e=d(b.ownerDocument);for(e.innerHTML="<span></span>"+c(a.data),e.removeChild(e.firstChild);e.firstChild;)b.insertBefore(e.firstChild,a);b.removeChild(a)}function f(a){for(var b;a.parentNode;){if(a=a.parentNode,b=a.nodeName,h.contains(b))return!0;if("body"===b)return!1}return!1}function g(b){if(!h.contains(b.nodeName)){if(b.nodeType===a.TEXT_NODE&&b.data.match(i))return void e(b);for(var c=a.lang.array(b.childNodes).get(),d=c.length,f=0;d>f;f++)g(c[f]);return b}}var h=a.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),i=/((https?:\/\/|www\.)[^\s<]{3,})/gi,j=/([^\w\/\-](,?))$/i,k=100,l={")":"(","]":"[","}":"{"};a.dom.autoLink=b,a.dom.autoLink.URL_REG_EXP=i}(wysihtml5),function(a){var b=a.browser.supportsClassList(),c=a.dom;c.addClass=function(a,d){return b?a.classList.add(d):void(c.hasClass(a,d)||(a.className+=" "+d))},c.removeClass=function(a,c){return b?a.classList.remove(c):void(a.className=a.className.replace(new RegExp("(^|\\s+)"+c+"(\\s+|$)")," "))},c.hasClass=function(a,c){if(b)return a.classList.contains(c);var d=a.className;return d.length>0&&(d==c||new RegExp("(^|\\s)"+c+"(\\s|$)").test(d))}}(wysihtml5),wysihtml5.dom.contains=function(){var a=document.documentElement;return a.contains?function(a,b){return b.nodeType!==wysihtml5.ELEMENT_NODE&&(b=b.parentNode),a!==b&&a.contains(b)}:a.compareDocumentPosition?function(a,b){return!!(16&a.compareDocumentPosition(b))}:void 0}(),wysihtml5.dom.convertToList=function(){function a(a,b){var c=a.createElement("li");return b.appendChild(c),c}function b(a,b){return a.createElement(b)}function c(c,d){if("UL"===c.nodeName||"OL"===c.nodeName||"MENU"===c.nodeName)return c;var e,f,g,h,i,j,k,l,m,n=c.ownerDocument,o=b(n,d),p=c.querySelectorAll("br"),q=p.length;for(m=0;q>m;m++)for(h=p[m];(i=h.parentNode)&&i!==c&&i.lastChild===h;){if("block"===wysihtml5.dom.getStyle("display").from(i)){i.removeChild(h);break}wysihtml5.dom.insert(h).after(h.parentNode)}for(e=wysihtml5.lang.array(c.childNodes).get(),f=e.length,m=0;f>m;m++)l=l||a(n,o),g=e[m],j="block"===wysihtml5.dom.getStyle("display").from(g),k="BR"===g.nodeName,j?(l=l.firstChild?a(n,o):l,l.appendChild(g),l=null):k?l=l.firstChild?null:l:l.appendChild(g);return c.parentNode.replaceChild(o,c),o}return c}(),wysihtml5.dom.copyAttributes=function(a){return{from:function(b){return{to:function(c){for(var d,e=0,f=a.length;f>e;e++)d=a[e],"undefined"!=typeof b[d]&&""!==b[d]&&(c[d]=b[d]);return{andTo:arguments.callee}}}}}},function(a){var b=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],c=function(b){return d(b)?parseInt(a.getStyle("width").from(b),10)<b.offsetWidth:!1},d=function(c){for(var d=0,e=b.length;e>d;d++)if("border-box"===a.getStyle(b[d]).from(c))return b[d]};a.copyStyles=function(d){return{from:function(e){c(e)&&(d=wysihtml5.lang.array(d).without(b));for(var f,g="",h=d.length,i=0;h>i;i++)f=d[i],g+=f+":"+a.getStyle(f).from(e)+";";return{to:function(b){return a.setStyles(g).on(b),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(a){a.dom.delegate=function(b,c,d,e){return a.dom.observe(b,d,function(d){for(var f=d.target,g=a.lang.array(b.querySelectorAll(c));f&&f!==b;){if(g.contains(f)){e.call(f,d);break}f=f.parentNode}})}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var a=function(a,b){var c=b.createElement("div");c.style.display="none",b.body.appendChild(c);try{c.innerHTML=a}catch(d){}return b.body.removeChild(c),c},b=function(a){if(!a._wysihtml5_supportsHTML5Tags){for(var b=0,d=c.length;d>b;b++)a.createElement(c[b]);a._wysihtml5_supportsHTML5Tags=!0}},c=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(c,d){d=d||document;var e;return"object"==typeof c&&c.nodeType?(e=d.createElement("div"),e.appendChild(c)):wysihtml5.browser.supportsHTML5Tags(d)?(e=d.createElement("div"),e.innerHTML=c):(b(d),e=a(c,d)),e}}(),wysihtml5.dom.getParentElement=function(){function a(a,b){return b&&b.length?"string"==typeof b?a===b:wysihtml5.lang.array(b).contains(a):!0}function b(a){return a.nodeType===wysihtml5.ELEMENT_NODE}function c(a,b,c){var d=(a.className||"").match(c)||[];return b?d[d.length-1]===b:!!d.length}function d(b,c,d){for(;d--&&b&&"BODY"!==b.nodeName;){if(a(b.nodeName,c))return b;b=b.parentNode}return null}function e(d,e,f,g,h){for(;h--&&d&&"BODY"!==d.nodeName;){if(b(d)&&a(d.nodeName,e)&&c(d,f,g))return d;d=d.parentNode}return null}return function(a,b,c){return c=c||50,b.className||b.classRegExp?e(a,b.nodeName,b.className,b.classRegExp,c):d(a,b.nodeName,c)}}(),wysihtml5.dom.getStyle=function(){function a(a){return a.replace(c,function(a){return a.charAt(1).toUpperCase()})}var b={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},c=/\-[a-z]/g;return function(c){return{from:function(d){if(d.nodeType===wysihtml5.ELEMENT_NODE){var e=d.ownerDocument,f=b[c]||a(c),g=d.style,h=d.currentStyle,i=g[f];if(i)return i;if(h)try{return h[f]}catch(j){}var k,l,m=e.defaultView||e.parentWindow,n=("height"===c||"width"===c)&&"TEXTAREA"===d.nodeName;return m.getComputedStyle?(n&&(k=g.overflow,g.overflow="hidden"),l=m.getComputedStyle(d,null).getPropertyValue(c),n&&(g.overflow=k||""),l):void 0}}}}}(),wysihtml5.dom.hasElementWithTagName=function(){function a(a){return a._wysihtml5_identifier||(a._wysihtml5_identifier=c++)}var b={},c=1;return function(c,d){var e=a(c)+":"+d,f=b[e];return f||(f=b[e]=c.getElementsByTagName(d)),f.length>0}}(),function(a){function b(a){return a._wysihtml5_identifier||(a._wysihtml5_identifier=d++)}var c={},d=1;a.dom.hasElementWithClassName=function(d,e){if(!a.browser.supportsNativeGetElementsByClassName())return!!d.querySelector("."+e);var f=b(d)+":"+e,g=c[f];return g||(g=c[f]=d.getElementsByClassName(e)),g.length>0}}(wysihtml5),wysihtml5.dom.insert=function(a){return{after:function(b){b.parentNode.insertBefore(a,b.nextSibling)},before:function(b){b.parentNode.insertBefore(a,b)},into:function(b){b.appendChild(a)}}},wysihtml5.dom.insertCSS=function(a){return a=a.join("\n"),{into:function(b){var c=b.head||b.getElementsByTagName("head")[0],d=b.createElement("style");d.type="text/css",d.styleSheet?d.styleSheet.cssText=a:d.appendChild(b.createTextNode(a)),c&&c.appendChild(d)}}},wysihtml5.dom.observe=function(a,b,c){b="string"==typeof b?[b]:b;for(var d,e,f=0,g=b.length;g>f;f++)e=b[f],a.addEventListener?a.addEventListener(e,c,!1):(d=function(b){"target"in b||(b.target=b.srcElement),b.preventDefault=b.preventDefault||function(){this.returnValue=!1},b.stopPropagation=b.stopPropagation||function(){this.cancelBubble=!0},c.call(a,b)},a.attachEvent("on"+e,d));return{stop:function(){for(var e,f=0,g=b.length;g>f;f++)e=b[f],a.removeEventListener?a.removeEventListener(e,c,!1):a.detachEvent("on"+e,d)}}},wysihtml5.dom.parse=function(){function a(a,c,d,e){wysihtml5.lang.object(l).merge(k).merge(c).get(),d=d||a.ownerDocument||document;var f,g,h,i=d.createDocumentFragment(),j="string"==typeof a;for(f=j?wysihtml5.dom.getAsDom(a,d):a;f.firstChild;)h=f.firstChild,f.removeChild(h),g=b(h,e),g&&i.appendChild(g);return f.innerHTML="",f.appendChild(i),j?wysihtml5.quirks.getCorrectInnerHTML(f):f}function b(a,c){var d,e=a.nodeType,f=a.childNodes,g=f.length,j=h[e],k=0;if(d=j&&j(a),!d)return null;for(k=0;g>k;k++)newChild=b(f[k],c),newChild&&d.appendChild(newChild);return c&&d.childNodes.length<=1&&d.nodeName.toLowerCase()===i&&!d.attributes.length?d.firstChild:d}function c(a){var b,c,e=l.tags,f=a.nodeName.toLowerCase(),g=a.scopeName;if(a._wysihtml5)return null;if(a._wysihtml5=1,"wysihtml5-temp"===a.className)return null;if(g&&"HTML"!=g&&(f=g+":"+f),"outerHTML"in a&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==a.nodeName||"</p>"===a.outerHTML.slice(-4).toLowerCase()||(f="div")),f in e){if(b=e[f],!b||b.remove)return null;b="string"==typeof b?{rename_tag:b}:b}else{if(!a.firstChild)return null;b={rename_tag:i}}return c=a.ownerDocument.createElement(b.rename_tag||f),d(a,c,b),a=null,c}function d(a,b,c){var d,f,g,h,i,k,m,p={},q=c.set_class,r=c.add_class,s=c.set_attributes,t=c.check_attributes,u=l.classes,v=0,w=[],x=[],y=[],z=[];if(s&&(p=wysihtml5.lang.object(s).clone()),t)for(i in t)m=n[t[i]],m&&(k=m(e(a,i)),"string"==typeof k&&(p[i]=k));if(q&&w.push(q),r)for(i in r)m=o[r[i]],m&&(h=m(e(a,i)),"string"==typeof h&&w.push(h));for(u["_wysihtml5-temp-placeholder"]=1,z=a.getAttribute("class"),z&&(w=w.concat(z.split(j))),d=w.length;d>v;v++)g=w[v],u[g]&&x.push(g);for(f=x.length;f--;)g=x[f],wysihtml5.lang.array(y).contains(g)||y.unshift(g);y.length&&(p["class"]=y.join(" "));for(i in p)try{b.setAttribute(i,p[i])}catch(A){}p.src&&("undefined"!=typeof p.width&&b.setAttribute("width",p.width),"undefined"!=typeof p.height&&b.setAttribute("height",p.height))}function e(a,b){b=b.toLowerCase();var c=a.nodeName;if("IMG"==c&&"src"==b&&f(a)===!0)return a.src;if(m&&"outerHTML"in a){var d=a.outerHTML.toLowerCase(),e=-1!=d.indexOf(" "+b+"=");return e?a.getAttribute(b):null}return a.getAttribute(b)}function f(a){try{return a.complete&&!a.mozMatchesSelector(":-moz-broken")}catch(b){if(a.complete&&"complete"===a.readyState)return!0}}function g(a){return a.ownerDocument.createTextNode(a.data)}var h={1:c,3:g},i="span",j=/\s+/,k={tags:{},classes:{}},l={},m=!wysihtml5.browser.supportsGetAttributeCorrectly(),n={url:function(){var a=/^https?:\/\//i;return function(b){return b&&b.match(a)?b.replace(a,function(a){return a.toLowerCase()}):null}}(),alt:function(){var a=/[^ a-z0-9_\-]/gi;return function(b){return b?b.replace(a,""):""}}(),numbers:function(){var a=/\D/g;return function(b){return b=(b||"").replace(a,""),b||null}}()},o={align_img:function(){var a={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(b){return a[String(b).toLowerCase()]}}(),align_text:function(){var a={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(b){return a[String(b).toLowerCase()]}}(),clear_br:function(){var a={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(b){return a[String(b).toLowerCase()]}}(),size_font:function(){var a={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(b){return a[String(b).charAt(0)]}}()};return a}(),wysihtml5.dom.removeEmptyTextNodes=function(a){for(var b,c=wysihtml5.lang.array(a.childNodes).get(),d=c.length,e=0;d>e;e++)b=c[e],b.nodeType===wysihtml5.TEXT_NODE&&""===b.data&&b.parentNode.removeChild(b)},wysihtml5.dom.renameElement=function(a,b){for(var c,d=a.ownerDocument.createElement(b);c=a.firstChild;)d.appendChild(c);return wysihtml5.dom.copyAttributes(["align","className"]).from(a).to(d),a.parentNode.replaceChild(d,a),d},wysihtml5.dom.replaceWithChildNodes=function(a){if(a.parentNode){if(!a.firstChild)return void a.parentNode.removeChild(a);for(var b=a.ownerDocument.createDocumentFragment();a.firstChild;)b.appendChild(a.firstChild);a.parentNode.replaceChild(b,a),a=b=null}},function(a){function b(b){return"block"===a.getStyle("display").from(b)}function c(a){return"BR"===a.nodeName}function d(a){var b=a.ownerDocument.createElement("br");a.appendChild(b)}function e(a){if("MENU"===a.nodeName||"UL"===a.nodeName||"OL"===a.nodeName){var e,f,g,h,i,j=a.ownerDocument,k=j.createDocumentFragment(),l=a.previousElementSibling||a.previousSibling;for(l&&!b(l)&&d(k);i=a.firstChild;){for(f=i.lastChild;e=i.firstChild;)g=e===f,h=g&&!b(e)&&!c(e),k.appendChild(e),h&&d(k);i.parentNode.removeChild(i)}a.parentNode.replaceChild(k,a)}}a.resolveList=e}(wysihtml5.dom),function(a){var b=document,c=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],d=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],e=["referrer","write","open","close"];a.dom.Sandbox=Base.extend({constructor:function(b,c){this.callback=b||a.EMPTY_FUNCTION,this.config=a.lang.object({}).merge(c).get(),this.iframe=this._createIframe()},insertInto:function(a){"string"==typeof a&&(a=b.getElementById(a)),a.appendChild(this.iframe)},getIframe:function(){return this.iframe},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var a=this.getIframe();a.parentNode.removeChild(a)},_readyError:function(){throw new Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var c=this,d=b.createElement("iframe");return d.className="wysihtml5-sandbox",a.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(d),a.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(d.src="javascript:'<html></html>'"),d.onload=function(){d.onreadystatechange=d.onload=null,c._onLoadIframe(d)},d.onreadystatechange=function(){/loaded|complete/.test(d.readyState)&&(d.onreadystatechange=d.onload=null,c._onLoadIframe(d))},d},_onLoadIframe:function(f){if(a.dom.contains(b.documentElement,f)){var g=this,h=f.contentWindow,i=f.contentWindow.document,j=b.characterSet||b.charset||"utf-8",k=this._getHtml({charset:j,stylesheets:this.config.stylesheets});if(i.open("text/html","replace"),i.write(k),i.close(),this.getWindow=function(){return f.contentWindow},this.getDocument=function(){return f.contentWindow.document},h.onerror=function(a,b,c){throw new Error("wysihtml5.Sandbox: "+a,b,c)},!a.browser.supportsSandboxedIframes()){var l,m;for(l=0,m=c.length;m>l;l++)this._unset(h,c[l]);for(l=0,m=d.length;m>l;l++)this._unset(h,d[l],a.EMPTY_FUNCTION);for(l=0,m=e.length;m>l;l++)this._unset(i,e[l]);this._unset(i,"cookie","",!0)}this.loaded=!0,setTimeout(function(){g.callback(g)},0)}},_getHtml:function(b){var c,d=b.stylesheets,e="",f=0;if(d="string"==typeof d?[d]:d)for(c=d.length;c>f;f++)e+='<link rel="stylesheet" href="'+d[f]+'">';return b.stylesheets=e,a.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(b)},_unset:function(b,c,d,e){try{b[c]=d}catch(f){}try{b.__defineGetter__(c,function(){return d})}catch(f){}if(e)try{b.__defineSetter__(c,function(){})
}catch(f){}if(!a.browser.crashesWhenDefineProperty(c))try{var g={get:function(){return d}};e&&(g.set=function(){}),Object.defineProperty(b,c,g)}catch(f){}}})}(wysihtml5),function(){var a={className:"class"};wysihtml5.dom.setAttributes=function(b){return{on:function(c){for(var d in b)c.setAttribute(a[d]||d,b[d])}}}}(),wysihtml5.dom.setStyles=function(a){return{on:function(b){var c=b.style;if("string"==typeof a)return void(c.cssText+=";"+a);for(var d in a)"float"===d?(c.cssFloat=a[d],c.styleFloat=a[d]):c[d]=a[d]}}},function(a){a.simulatePlaceholder=function(b,c,d){var e="placeholder",f=function(){c.hasPlaceholderSet()&&c.clear(),a.removeClass(c.element,e)},g=function(){c.isEmpty()&&(c.setValue(d),a.addClass(c.element,e))};b.observe("set_placeholder",g).observe("unset_placeholder",f).observe("focus:composer",f).observe("paste:composer",f).observe("blur:composer",g),g()}}(wysihtml5.dom),function(a){var b=document.documentElement;"textContent"in b?(a.setTextContent=function(a,b){a.textContent=b},a.getTextContent=function(a){return a.textContent}):"innerText"in b?(a.setTextContent=function(a,b){a.innerText=b},a.getTextContent=function(a){return a.innerText}):(a.setTextContent=function(a,b){a.nodeValue=b},a.getTextContent=function(a){return a.nodeValue})}(wysihtml5.dom),wysihtml5.quirks.cleanPastedHTML=function(){function a(a,c,d){c=c||b,d=d||a.ownerDocument||document;var e,f,g,h,i,j="string"==typeof a,k=0;e=j?wysihtml5.dom.getAsDom(a,d):a;for(i in c)for(g=e.querySelectorAll(i),f=c[i],h=g.length;h>k;k++)f(g[k]);return g=a=c=null,j?e.innerHTML:e}var b={"a u":wysihtml5.dom.replaceWithChildNodes};return a}(),function(a){var b=a.dom;a.quirks.ensureProperClearing=function(){var a=function(){var a=this;setTimeout(function(){var b=a.innerHTML.toLowerCase();("<p>&nbsp;</p>"==b||"<p>&nbsp;</p><p>&nbsp;</p>"==b)&&(a.innerHTML="")},0)};return function(c){b.observe(c.element,["cut","keydown"],a)}}(),a.quirks.ensureProperClearingOfLists=function(){var c=["OL","UL","MENU"],d=function(d,e){if(e.firstChild&&a.lang.array(c).contains(e.firstChild.nodeName)){var f=b.getParentElement(d,{nodeName:c});if(f){var g=f==e.firstChild;if(g){var h=f.childNodes.length<=1;if(h){var i=f.firstChild?""===f.firstChild.innerHTML:!0;i&&f.parentNode.removeChild(f)}}}}};return function(c){b.observe(c.element,"keydown",function(b){if(b.keyCode===a.BACKSPACE_KEY){var e=c.selection.getSelectedNode();d(e,c.element)}})}}()}(wysihtml5),function(a){var b="%7E";a.quirks.getCorrectInnerHTML=function(c){var d=c.innerHTML;if(-1===d.indexOf(b))return d;var e,f,g,h,i=c.querySelectorAll("[href*='~'], [src*='~']");for(h=0,g=i.length;g>h;h++)e=i[h].href||i[h].src,f=a.lang.string(e).replace("~").by(b),d=a.lang.string(d).replace(f).by(e);return d}}(wysihtml5),function(a){var b=a.dom,c=["LI","P","H1","H2","H3","H4","H5","H6"],d=["UL","OL","MENU"];a.quirks.insertLineBreakOnReturn=function(e){function f(c){var d=b.getParentElement(c,{nodeName:["P","DIV"]},2);if(d){var f=document.createTextNode(a.INVISIBLE_SPACE);b.insert(f).before(d),b.replaceWithChildNodes(d),e.selection.selectNode(f)}}function g(g){var h=g.keyCode;if(!(g.shiftKey||h!==a.ENTER_KEY&&h!==a.BACKSPACE_KEY)){var i=(g.target,e.selection.getSelectedNode()),j=b.getParentElement(i,{nodeName:c},4);return j?void("LI"!==j.nodeName||h!==a.ENTER_KEY&&h!==a.BACKSPACE_KEY?j.nodeName.match(/H[1-6]/)&&h===a.ENTER_KEY&&setTimeout(function(){f(e.selection.getSelectedNode())},0):setTimeout(function(){var a,c=e.selection.getSelectedNode();c&&(a=b.getParentElement(c,{nodeName:d},2),a||f(c))},0)):void(h!==a.ENTER_KEY||a.browser.insertsLineBreaksOnReturn()||(e.commands.exec("insertLineBreak"),g.preventDefault()))}}b.observe(e.element.ownerDocument,"keydown",g)}}(wysihtml5),function(a){var b="wysihtml5-quirks-redraw";a.quirks.redraw=function(c){a.dom.addClass(c,b),a.dom.removeClass(c,b);try{var d=c.ownerDocument;d.execCommand("italic",!1,null),d.execCommand("italic",!1,null)}catch(e){}}}(wysihtml5),function(a){function b(a){var b=0;if(a.parentNode)do b+=a.offsetTop||0,a=a.offsetParent;while(a);return b}var c=a.dom;a.Selection=Base.extend({constructor:function(a){window.rangy.init(),this.editor=a,this.composer=a.composer,this.doc=this.composer.doc},getBookmark:function(){var a=this.getRange();return a&&a.cloneRange()},setBookmark:function(a){a&&this.setSelection(a)},setBefore:function(a){var b=rangy.createRange(this.doc);return b.setStartBefore(a),b.setEndBefore(a),this.setSelection(b)},setAfter:function(a){var b=rangy.createRange(this.doc);return b.setStartAfter(a),b.setEndAfter(a),this.setSelection(b)},selectNode:function(b){var d=rangy.createRange(this.doc),e=b.nodeType===a.ELEMENT_NODE,f="canHaveHTML"in b?b.canHaveHTML:"IMG"!==b.nodeName,g=e?b.innerHTML:b.data,h=""===g||g===a.INVISIBLE_SPACE,i=c.getStyle("display").from(b),j="block"===i||"list-item"===i;if(h&&e&&f)try{b.innerHTML=a.INVISIBLE_SPACE}catch(k){}f?d.selectNodeContents(b):d.selectNode(b),f&&h&&e?d.collapse(j):f&&h&&(d.setStartAfter(b),d.setEndAfter(b)),this.setSelection(d)},getSelectedNode:function(a){var b,c;return a&&this.doc.selection&&"Control"===this.doc.selection.type&&(c=this.doc.selection.createRange(),c&&c.length)?c.item(0):(b=this.getSelection(this.doc),b.focusNode===b.anchorNode?b.focusNode:(c=this.getRange(this.doc),c?c.commonAncestorContainer:this.doc.body))},executeAndRestore:function(b,c){var d,e=this.doc.body,f=c&&e.scrollTop,g=c&&e.scrollLeft,h="_wysihtml5-temp-placeholder",i='<span class="'+h+'">'+a.INVISIBLE_SPACE+"</span>",j=this.getRange(this.doc);if(!j)return void b(e,e);var k=j.createContextualFragment(i);j.insertNode(k);try{b(j.startContainer,j.endContainer)}catch(l){setTimeout(function(){throw l},0)}caretPlaceholder=this.doc.querySelector("."+h),caretPlaceholder?(d=rangy.createRange(this.doc),d.selectNode(caretPlaceholder),d.deleteContents(),this.setSelection(d)):e.focus(),c&&(e.scrollTop=f,e.scrollLeft=g);try{caretPlaceholder.parentNode.removeChild(caretPlaceholder)}catch(m){}},executeAndRestoreSimple:function(a){var b,c,d,e,f,g=this.getRange(),h=this.doc.body;if(!g)return void a(h,h);e=g.getNodes([3]),c=e[0]||g.startContainer,d=e[e.length-1]||g.endContainer,f={collapsed:g.collapsed,startContainer:c,startOffset:c===g.startContainer?g.startOffset:0,endContainer:d,endOffset:d===g.endContainer?g.endOffset:d.length};try{a(g.startContainer,g.endContainer)}catch(i){setTimeout(function(){throw i},0)}b=rangy.createRange(this.doc);try{b.setStart(f.startContainer,f.startOffset)}catch(j){}try{b.setEnd(f.endContainer,f.endOffset)}catch(k){}try{this.setSelection(b)}catch(l){}},insertHTML:function(a){var b=rangy.createRange(this.doc),c=b.createContextualFragment(a),d=c.lastChild;this.insertNode(c),d&&this.setAfter(d)},insertNode:function(a){var b=this.getRange();b&&b.insertNode(a)},surround:function(a){var b=this.getRange();if(b)try{b.surroundContents(a),this.selectNode(a)}catch(c){a.appendChild(b.extractContents()),b.insertNode(a)}},scrollIntoView:function(){var c,d=this.doc,e=d.documentElement.scrollHeight>d.documentElement.offsetHeight,f=d._wysihtml5ScrollIntoViewElement=d._wysihtml5ScrollIntoViewElement||function(){var b=d.createElement("span");return b.innerHTML=a.INVISIBLE_SPACE,b}();e&&(this.insertNode(f),c=b(f),f.parentNode.removeChild(f),c>d.body.scrollTop&&(d.body.scrollTop=c))},selectLine:function(){a.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var a=this.doc.defaultView,b=a.getSelection();b.modify("extend","left","lineboundary"),b.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var a,b,c,d,e,f=this.doc.selection.createRange(),g=f.boundingTop,h=(f.boundingHeight,this.doc.body.scrollWidth);if(f.moveToPoint){for(0===g&&(c=this.doc.createElement("span"),this.insertNode(c),g=c.offsetTop,c.parentNode.removeChild(c)),g+=1,d=-10;h>d;d+=2)try{f.moveToPoint(d,g);break}catch(i){}for(a=g,b=this.doc.selection.createRange(),e=h;e>=0;e--)try{b.moveToPoint(e,a);break}catch(j){}f.setEndPoint("EndToEnd",b),f.select()}},getText:function(){var a=this.getSelection();return a?a.toString():""},getNodes:function(a,b){var c=this.getRange();return c?c.getNodes([a],b):[]},getRange:function(){var a=this.getSelection();return a&&a.rangeCount&&a.getRangeAt(0)},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(a){var b=this.doc.defaultView||this.doc.parentWindow,c=rangy.getSelection(b);return c.setSingleRange(a)}})}(wysihtml5),function(a,b){function c(a,b,c){if(!a.className)return!1;var d=a.className.match(c)||[];return d[d.length-1]===b}function d(a,b,c){a.className?(e(a,c),a.className+=" "+b):a.className=b}function e(a,b){a.className&&(a.className=a.className.replace(b,""))}function f(a,b){return a.className.replace(n," ")==b.className.replace(n," ")}function g(a){for(var b=a.parentNode;a.firstChild;)b.insertBefore(a.firstChild,a);b.removeChild(a)}function h(a,b){if(a.attributes.length!=b.attributes.length)return!1;for(var c,d,e,f=0,g=a.attributes.length;g>f;++f)if(c=a.attributes[f],e=c.name,"class"!=e){if(d=b.attributes.getNamedItem(e),c.specified!=d.specified)return!1;if(c.specified&&c.nodeValue!==d.nodeValue)return!1}return!0}function i(a,c){return b.dom.isCharacterDataNode(a)?0==c?!!a.previousSibling:c==a.length?!!a.nextSibling:!0:c>0&&c<a.childNodes.length}function j(a,c,d){var e;if(b.dom.isCharacterDataNode(c)&&(0==d?(d=b.dom.getNodeIndex(c),c=c.parentNode):d==c.length?(d=b.dom.getNodeIndex(c)+1,c=c.parentNode):e=b.dom.splitDataNode(c,d)),!e){e=c.cloneNode(!1),e.id&&e.removeAttribute("id");for(var f;f=c.childNodes[d];)e.appendChild(f);b.dom.insertAfter(e,c)}return c==a?e:j(a,e.parentNode,b.dom.getNodeIndex(e))}function k(b){this.isElementMerge=b.nodeType==a.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?b.lastChild:b,this.textNodes=[this.firstTextNode]}function l(a,b,c,d){this.tagNames=a||[m],this.cssClass=b||"",this.similarClassRegExp=c,this.normalize=d,this.applyToAnyTagName=!1}var m="span",n=/\s+/g;k.prototype={doMerge:function(){for(var a,b,c,d=[],e=0,f=this.textNodes.length;f>e;++e)a=this.textNodes[e],b=a.parentNode,d[e]=a.data,e&&(b.removeChild(a),b.hasChildNodes()||b.parentNode.removeChild(b));return this.firstTextNode.data=c=d.join(""),c},getLength:function(){for(var a=this.textNodes.length,b=0;a--;)b+=this.textNodes[a].length;return b},toString:function(){for(var a=[],b=0,c=this.textNodes.length;c>b;++b)a[b]="'"+this.textNodes[b].data+"'";return"[Merge("+a.join(",")+")]"}},l.prototype={getAncestorWithClass:function(d){for(var e;d;){if(e=this.cssClass?c(d,this.cssClass,this.similarClassRegExp):!0,d.nodeType==a.ELEMENT_NODE&&b.dom.arrayContains(this.tagNames,d.tagName.toLowerCase())&&e)return d;d=d.parentNode}return!1},postApply:function(a,b){for(var c,d,e,f=a[0],g=a[a.length-1],h=[],i=f,j=g,l=0,m=g.length,n=0,o=a.length;o>n;++n)d=a[n],e=this.getAdjacentMergeableTextNode(d.parentNode,!1),e?(c||(c=new k(e),h.push(c)),c.textNodes.push(d),d===f&&(i=c.firstTextNode,l=i.length),d===g&&(j=c.firstTextNode,m=c.getLength())):c=null;var p=this.getAdjacentMergeableTextNode(g.parentNode,!0);if(p&&(c||(c=new k(g),h.push(c)),c.textNodes.push(p)),h.length){for(n=0,o=h.length;o>n;++n)h[n].doMerge();b.setStart(i,l),b.setEnd(j,m)}},getAdjacentMergeableTextNode:function(b,c){var d,e=b.nodeType==a.TEXT_NODE,f=e?b.parentNode:b,g=c?"nextSibling":"previousSibling";if(e){if(d=b[g],d&&d.nodeType==a.TEXT_NODE)return d}else if(d=f[g],d&&this.areElementsMergeable(b,d))return d[c?"firstChild":"lastChild"];return null},areElementsMergeable:function(a,c){return b.dom.arrayContains(this.tagNames,(a.tagName||"").toLowerCase())&&b.dom.arrayContains(this.tagNames,(c.tagName||"").toLowerCase())&&f(a,c)&&h(a,c)},createContainer:function(a){var b=a.createElement(this.tagNames[0]);return this.cssClass&&(b.className=this.cssClass),b},applyToTextNode:function(a){var c=a.parentNode;if(1==c.childNodes.length&&b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase()))this.cssClass&&d(c,this.cssClass,this.similarClassRegExp);else{var e=this.createContainer(b.dom.getDocument(a));a.parentNode.insertBefore(e,a),e.appendChild(a)}},isRemovable:function(c){return b.dom.arrayContains(this.tagNames,c.tagName.toLowerCase())&&a.lang.string(c.className).trim()==this.cssClass},undoToTextNode:function(a,b,c){if(!b.containsNode(c)){var d=b.cloneRange();d.selectNode(c),d.isPointInRange(b.endContainer,b.endOffset)&&i(b.endContainer,b.endOffset)&&(j(c,b.endContainer,b.endOffset),b.setEndAfter(c)),d.isPointInRange(b.startContainer,b.startOffset)&&i(b.startContainer,b.startOffset)&&(c=j(c,b.startContainer,b.startOffset))}this.similarClassRegExp&&e(c,this.similarClassRegExp),this.isRemovable(c)&&g(c)},applyToRange:function(b){var c=b.getNodes([a.TEXT_NODE]);if(!c.length)try{var d=this.createContainer(b.endContainer.ownerDocument);return b.surroundContents(d),void this.selectNode(b,d)}catch(e){}if(b.splitBoundaries(),c=b.getNodes([a.TEXT_NODE]),c.length){for(var f,g=0,h=c.length;h>g;++g)f=c[g],this.getAncestorWithClass(f)||this.applyToTextNode(f);b.setStart(c[0],0),f=c[c.length-1],b.setEnd(f,f.length),this.normalize&&this.postApply(c,b)}},undoToRange:function(b){var c,d,e=b.getNodes([a.TEXT_NODE]);if(e.length)b.splitBoundaries(),e=b.getNodes([a.TEXT_NODE]);else{var f=b.endContainer.ownerDocument,g=f.createTextNode(a.INVISIBLE_SPACE);b.insertNode(g),b.selectNode(g),e=[g]}for(var h=0,i=e.length;i>h;++h)c=e[h],d=this.getAncestorWithClass(c),d&&this.undoToTextNode(c,b,d);1==i?this.selectNode(b,e[0]):(b.setStart(e[0],0),c=e[e.length-1],b.setEnd(c,c.length),this.normalize&&this.postApply(e,b))},selectNode:function(b,c){var d=c.nodeType===a.ELEMENT_NODE,e="canHaveHTML"in c?c.canHaveHTML:!0,f=d?c.innerHTML:c.data,g=""===f||f===a.INVISIBLE_SPACE;if(g&&d&&e)try{c.innerHTML=a.INVISIBLE_SPACE}catch(h){}b.selectNodeContents(c),g&&d?b.collapse(!1):g&&(b.setStartAfter(c),b.setEndAfter(c))},getTextSelectedByRange:function(a,b){var c=b.cloneRange();c.selectNodeContents(a);var d=c.intersection(b),e=d?d.toString():"";return c.detach(),e},isAppliedToRange:function(b){var c,d=[],e=b.getNodes([a.TEXT_NODE]);if(!e.length)return c=this.getAncestorWithClass(b.startContainer),c?[c]:!1;for(var f,g=0,h=e.length;h>g;++g){if(f=this.getTextSelectedByRange(e[g],b),c=this.getAncestorWithClass(e[g]),""!=f&&!c)return!1;d.push(c)}return d},toggleRange:function(a){this.isAppliedToRange(a)?this.undoToRange(a):this.applyToRange(a)}},a.selection.HTMLApplier=l}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(a){this.editor=a,this.composer=a.composer,this.doc=this.composer.doc},support:function(a){return wysihtml5.browser.supportsCommand(this.doc,a)},exec:function(a,b){var c=wysihtml5.commands[a],d=wysihtml5.lang.array(arguments).get(),e=c&&c.exec,f=null;if(this.editor.fire("beforecommand:composer"),e)d.unshift(this.composer),f=e.apply(c,d);else try{f=this.doc.execCommand(a,!1,b)}catch(g){}return this.editor.fire("aftercommand:composer"),f},state:function(a){var b=wysihtml5.commands[a],c=wysihtml5.lang.array(arguments).get(),d=b&&b.state;if(d)return c.unshift(this.composer),d.apply(b,c);try{return this.doc.queryCommandState(a)}catch(e){return!1}},value:function(a){var b=wysihtml5.commands[a],c=b&&b.value;if(c)return c.call(b,this.composer,a);try{return this.doc.queryCommandValue(a)}catch(d){return null}}}),function(a){var b;a.commands.bold={exec:function(b,c){return a.commands.formatInline.exec(b,c,"b")},state:function(b,c){return a.commands.formatInline.state(b,c,"b")},value:function(){return b}}}(wysihtml5),function(a){function b(a,b){for(var c,d,e,g=b.length,h=0;g>h;h++)c=b[h],d=f.getParentElement(c,{nodeName:"code"}),e=f.getTextContent(c),e.match(f.autoLink.URL_REG_EXP)&&!d?d=f.renameElement(c,"code"):f.replaceWithChildNodes(c)}function c(b,c){var g,h,i,j,k,l,m,n,o,p=b.doc,q="_wysihtml5-temp-"+ +new Date,r=/non-matching-class/g,s=0;for(a.commands.formatInline.exec(b,d,e,q,r),h=p.querySelectorAll(e+"."+q),g=h.length;g>s;s++){i=h[s],i.removeAttribute("class");for(o in c)i.setAttribute(o,c[o])}l=i,1===g&&(m=f.getTextContent(i),j=!!i.querySelector("*"),k=""===m||m===a.INVISIBLE_SPACE,!j&&k&&(f.setTextContent(i,c.text||i.href),n=p.createTextNode(" "),b.selection.setAfter(i),b.selection.insertNode(n),l=n)),b.selection.setAfter(l)}var d,e="A",f=a.dom;a.commands.createLink={exec:function(a,d,e){var f=this.state(a,d);f?a.selection.executeAndRestore(function(){b(a,f)}):(e="object"==typeof e?e:{href:e},c(a,e))},state:function(b,c){return a.commands.formatInline.state(b,c,"A")},value:function(){return d}}}(wysihtml5),function(a){var b,c=/wysiwyg-font-size-[a-z\-]+/g;a.commands.fontSize={exec:function(b,d,e){return a.commands.formatInline.exec(b,d,"span","wysiwyg-font-size-"+e,c)},state:function(b,d,e){return a.commands.formatInline.state(b,d,"span","wysiwyg-font-size-"+e,c)},value:function(){return b}}}(wysihtml5),function(a){var b,c=/wysiwyg-color-[a-z]+/g;a.commands.foreColor={exec:function(b,d,e){return a.commands.formatInline.exec(b,d,"span","wysiwyg-color-"+e,c)},state:function(b,d,e){return a.commands.formatInline.state(b,d,"span","wysiwyg-color-"+e,c)},value:function(){return b}}}(wysihtml5),function(a){function b(a,b,d){a.className?(c(a,d),a.className+=" "+b):a.className=b}function c(a,b){a.className=a.className.replace(b,"")}function d(b){return b.nodeType===a.TEXT_NODE&&!a.lang.string(b.data).trim()}function e(a){for(var b=a.previousSibling;b&&d(b);)b=b.previousSibling;return b}function f(a){for(var b=a.nextSibling;b&&d(b);)b=b.nextSibling;return b}function g(a){var b=a.ownerDocument,c=f(a),d=e(a);c&&!k(c)&&a.parentNode.insertBefore(b.createElement("br"),c),d&&!k(d)&&a.parentNode.insertBefore(b.createElement("br"),a)}function h(a){var b=f(a),c=e(a);b&&j(b)&&b.parentNode.removeChild(b),c&&j(c)&&c.parentNode.removeChild(c)}function i(a){var b=a.lastChild;b&&j(b)&&b.parentNode.removeChild(b)}function j(a){return"BR"===a.nodeName}function k(a){return j(a)?!0:"block"===p.getStyle("display").from(a)?!0:!1}function l(b,c,d,e){if(e)var f=p.observe(b,"DOMNodeInserted",function(b){var c,d=b.target;d.nodeType===a.ELEMENT_NODE&&(c=p.getStyle("display").from(d),"inline"!==c.substr(0,6)&&(d.className+=" "+e))});b.execCommand(c,!1,d),f&&f.stop()}function m(a,b){a.selection.selectLine(),a.selection.surround(b),h(b),i(b),a.selection.selectNode(b)}function n(b){return!!a.lang.string(b.className).trim()}var o,p=a.dom,q="DIV",r=["H1","H2","H3","H4","H5","H6","P","BLOCKQUOTE",q];a.commands.formatBlock={exec:function(d,e,f,h,i){var j,k=d.doc,o=this.state(d,e,f,h,i);return f="string"==typeof f?f.toUpperCase():f,o?void d.selection.executeAndRestoreSimple(function(){i&&c(o,i);var a=n(o);a||o.nodeName!==(f||q)?a&&p.renameElement(o,q):(g(o),p.replaceWithChildNodes(o))}):(null===f||a.lang.array(r).contains(f))&&(j=d.selection.getSelectedNode(),o=p.getParentElement(j,{nodeName:r}))?void d.selection.executeAndRestoreSimple(function(){f&&(o=p.renameElement(o,f)),h&&b(o,h,i)}):d.commands.support(e)?void l(k,e,f||q,h):(o=k.createElement(f||q),h&&(o.className=h),void m(d,o))},state:function(a,b,c,d,e){c="string"==typeof c?c.toUpperCase():c;var f=a.selection.getSelectedNode();return p.getParentElement(f,{nodeName:c,className:d,classRegExp:e})},value:function(){return o}}}(wysihtml5),function(a){function b(a){var b=e[a];return b?[a.toLowerCase(),b.toLowerCase()]:[a.toLowerCase()]}function c(c,d,e){var g=c+":"+d;return f[g]||(f[g]=new a.selection.HTMLApplier(b(c),d,e,!0)),f[g]}var d,e={strong:"b",em:"i",b:"strong",i:"em"},f={};a.commands.formatInline={exec:function(a,b,d,e,f){var g=a.selection.getRange();return g?(c(d,e,f).toggleRange(g),void a.selection.setSelection(g)):!1},state:function(b,d,f,g,h){var i,j=b.doc,k=e[f]||f;return a.dom.hasElementWithTagName(j,f)||a.dom.hasElementWithTagName(j,k)?g&&!a.dom.hasElementWithClassName(j,g)?!1:(i=b.selection.getRange(),i?c(f,g,h).isAppliedToRange(i):!1):!1},value:function(){return d}}}(wysihtml5),function(a){var b;a.commands.insertHTML={exec:function(a,b,c){a.commands.support(b)?a.doc.execCommand(b,!1,c):a.selection.insertHTML(c)},state:function(){return!1},value:function(){return b}}}(wysihtml5),function(a){var b="IMG";a.commands.insertImage={exec:function(c,d,e){e="object"==typeof e?e:{src:e};var f,g,h,i=c.doc,j=this.state(c);if(j)return c.selection.setBefore(j),h=j.parentNode,h.removeChild(j),a.dom.removeEmptyTextNodes(h),"A"!==h.nodeName||h.firstChild||(c.selection.setAfter(h),h.parentNode.removeChild(h)),void a.quirks.redraw(c.element);j=i.createElement(b);for(g in e)j[g]=e[g];c.selection.insertNode(j),a.browser.hasProblemsSettingCaretAfterImg()?(f=i.createTextNode(a.INVISIBLE_SPACE),c.selection.insertNode(f),c.selection.setAfter(f)):c.selection.setAfter(j)},state:function(c){var d,e,f,g=c.doc;return a.dom.hasElementWithTagName(g,b)&&(d=c.selection.getSelectedNode())?d.nodeName===b?d:d.nodeType!==a.ELEMENT_NODE?!1:(e=c.selection.getText(),(e=a.lang.string(e).trim())?!1:(f=c.selection.getNodes(a.ELEMENT_NODE,function(a){return"IMG"===a.nodeName}),1!==f.length?!1:f[0])):!1},value:function(a){var b=this.state(a);return b&&b.src}}}(wysihtml5),function(a){var b,c="<br>"+(a.browser.needsSpaceAfterLineBreak()?" ":"");a.commands.insertLineBreak={exec:function(b,d){b.commands.support(d)?(b.doc.execCommand(d,!1,null),a.browser.autoScrollsToCaret()||b.selection.scrollIntoView()):b.commands.exec("insertHTML",c)},state:function(){return!1},value:function(){return b}}}(wysihtml5),function(a){var b;a.commands.insertOrderedList={exec:function(b,c){var d,e,f=b.doc,g=b.selection.getSelectedNode(),h=a.dom.getParentElement(g,{nodeName:"OL"}),i=a.dom.getParentElement(g,{nodeName:"UL"}),j="_wysihtml5-temp-"+(new Date).getTime();return b.commands.support(c)?void f.execCommand(c,!1,null):void(h?b.selection.executeAndRestoreSimple(function(){a.dom.resolveList(h)}):i?b.selection.executeAndRestoreSimple(function(){a.dom.renameElement(i,"ol")}):(b.commands.exec("formatBlock","div",j),e=f.querySelector("."+j),d=""===e.innerHTML||e.innerHTML===a.INVISIBLE_SPACE,b.selection.executeAndRestoreSimple(function(){h=a.dom.convertToList(e,"ol")}),d&&b.selection.selectNode(h.querySelector("li"))))},state:function(b){var c=b.selection.getSelectedNode();return a.dom.getParentElement(c,{nodeName:"OL"})},value:function(){return b}}}(wysihtml5),function(a){var b;a.commands.insertUnorderedList={exec:function(b,c){var d,e,f=b.doc,g=b.selection.getSelectedNode(),h=a.dom.getParentElement(g,{nodeName:"UL"}),i=a.dom.getParentElement(g,{nodeName:"OL"}),j="_wysihtml5-temp-"+(new Date).getTime();return b.commands.support(c)?void f.execCommand(c,!1,null):void(h?b.selection.executeAndRestoreSimple(function(){a.dom.resolveList(h)}):i?b.selection.executeAndRestoreSimple(function(){a.dom.renameElement(i,"ul")}):(b.commands.exec("formatBlock","div",j),e=f.querySelector("."+j),d=""===e.innerHTML||e.innerHTML===a.INVISIBLE_SPACE,b.selection.executeAndRestoreSimple(function(){h=a.dom.convertToList(e,"ul")}),d&&b.selection.selectNode(h.querySelector("li"))))},state:function(b){var c=b.selection.getSelectedNode();return a.dom.getParentElement(c,{nodeName:"UL"})},value:function(){return b}}}(wysihtml5),function(a){var b;a.commands.italic={exec:function(b,c){return a.commands.formatInline.exec(b,c,"i")},state:function(b,c){return a.commands.formatInline.state(b,c,"i")},value:function(){return b}}}(wysihtml5),function(a){var b,c="wysiwyg-text-align-center",d=/wysiwyg-text-align-[a-z]+/g;a.commands.justifyCenter={exec:function(b){return a.commands.formatBlock.exec(b,"formatBlock",null,c,d)},state:function(b){return a.commands.formatBlock.state(b,"formatBlock",null,c,d)},value:function(){return b}}}(wysihtml5),function(a){var b,c="wysiwyg-text-align-left",d=/wysiwyg-text-align-[a-z]+/g;a.commands.justifyLeft={exec:function(b){return a.commands.formatBlock.exec(b,"formatBlock",null,c,d)},state:function(b){return a.commands.formatBlock.state(b,"formatBlock",null,c,d)},value:function(){return b}}}(wysihtml5),function(a){var b,c="wysiwyg-text-align-right",d=/wysiwyg-text-align-[a-z]+/g;a.commands.justifyRight={exec:function(b){return a.commands.formatBlock.exec(b,"formatBlock",null,c,d)},state:function(b){return a.commands.formatBlock.state(b,"formatBlock",null,c,d)},value:function(){return b}}}(wysihtml5),function(a){var b;a.commands.underline={exec:function(b,c){return a.commands.formatInline.exec(b,c,"u")},state:function(b,c){return a.commands.formatInline.state(b,c,"u")},value:function(){return b}}}(wysihtml5),function(a){function b(a){for(var b;b=a.querySelector("._wysihtml5-temp");)b.parentNode.removeChild(b)}var c=90,d=89,e=8,f=46,g=40,h='<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+a.INVISIBLE_SPACE+"</span>",i='<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+a.INVISIBLE_SPACE+"</span>",j=a.dom;a.UndoManager=a.lang.Dispatcher.extend({constructor:function(a){this.editor=a,this.composer=a.composer,this.element=this.composer.element,this.history=[this.composer.getValue()],this.position=1,this.composer.commands.support("insertHTML")&&this._observe()},_observe:function(){var g,k=this,l=this.composer.sandbox.getDocument();if(j.observe(this.element,"keydown",function(a){if(!a.altKey&&(a.ctrlKey||a.metaKey)){var b=a.keyCode,e=b===c&&!a.shiftKey,f=b===c&&a.shiftKey||b===d;e?(k.undo(),a.preventDefault()):f&&(k.redo(),a.preventDefault())}}),j.observe(this.element,"keydown",function(a){var b=a.keyCode;b!==g&&(g=b,(b===e||b===f)&&k.transact())}),a.browser.hasUndoInContextMenu()){var m,n,o=function(){b(l),clearInterval(m)};j.observe(this.element,"contextmenu",function(){o(),k.composer.selection.executeAndRestoreSimple(function(){k.element.lastChild&&k.composer.selection.setAfter(k.element.lastChild),l.execCommand("insertHTML",!1,h),l.execCommand("insertHTML",!1,i),l.execCommand("undo",!1,null)}),m=setInterval(function(){l.getElementById("_wysihtml5-redo")?(o(),k.redo()):l.getElementById("_wysihtml5-undo")||(o(),k.undo())},400),n||(n=!0,j.observe(document,"mousedown",o),j.observe(l,["mousedown","paste","cut","copy"],o))})}this.editor.observe("newword:composer",function(){k.transact()}).observe("beforecommand:composer",function(){k.transact()})},transact:function(){var a=this.history[this.position-1],b=this.composer.getValue();if(b!=a){var c=this.history.length=this.position;c>g&&(this.history.shift(),this.position--),this.position++,this.history.push(b)}},undo:function(){this.transact(),this.position<=1||(this.set(this.history[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.position>=this.history.length||(this.set(this.history[++this.position-1]),this.editor.fire("redo:composer"))},set:function(a){this.composer.setValue(a),this.editor.focus(!0)}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(a,b,c){this.parent=a,this.element=b,this.config=c,this._observeViewChange()},_observeViewChange:function(){var a=this;this.parent.observe("beforeload",function(){a.parent.observe("change_view",function(b){b===a.name?(a.parent.currentView=a,a.show(),setTimeout(function(){a.focus()},0)):a.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(a){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(a){var b=a.dom,c=a.browser;a.views.Composer=a.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(a,b,c){this.base(a,b,c),this.textarea=this.parent.textarea,this._initSandbox()},clear:function(){this.element.innerHTML=c.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(b){var c=this.isEmpty()?"":a.quirks.getCorrectInnerHTML(this.element);return b&&(c=this.parent.parse(c)),c=a.lang.string(c).replace(a.INVISIBLE_SPACE).by("")},setValue:function(a,b){b&&(a=this.parent.parse(a)),this.element.innerHTML=a},show:function(){this.iframe.style.display=this._displayStyle||"",this.disable(),this.enable()},hide:function(){this._displayStyle=b.getStyle("display").from(this.iframe),"none"===this._displayStyle&&(this._displayStyle=null),this.iframe.style.display="none"},disable:function(){this.element.removeAttribute("contentEditable"),this.base()},enable:function(){this.element.setAttribute("contentEditable","true"),this.base()},focus:function(b){a.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var c=this.element.lastChild;b&&c&&("BR"===c.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return b.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==this.textarea.element.getAttribute("placeholder")},isEmpty:function(){var a=this.element.innerHTML,b="blockquote, ul, ol, img, embed, object, table, iframe, svg, video, audio, button, input, select, textarea";return""===a||a===this.CARET_HACK||this.hasPlaceholderSet()||""===this.getTextContent()&&!this.element.querySelector(b)},_initSandbox:function(){var a=this;this.sandbox=new b.Sandbox(function(){a._create()},{stylesheets:this.config.stylesheets}),this.iframe=this.sandbox.getIframe();var c=document.createElement("input");c.type="hidden",c.name="_wysihtml5_mode",c.value=1;var d=this.textarea.element;b.insert(this.iframe).after(d),b.insert(c).after(d)},_create:function(){var d=this;this.doc=this.sandbox.getDocument(),this.element=this.doc.body,this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0),this.enable(),this.selection=new a.Selection(this.parent),this.commands=new a.Commands(this.parent),b.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),b.addClass(this.element,this.config.composerClassName),this.config.style&&this.style(),this.observe();var e=this.config.name;e&&(b.addClass(this.element,e),b.addClass(this.iframe,e));var f="string"==typeof this.config.placeholder?this.config.placeholder:this.textarea.element.getAttribute("placeholder");f&&b.simulatePlaceholder(this.parent,this,f),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),(this.textarea.element.hasAttribute("autofocus")||document.querySelector(":focus")==this.textarea.element)&&setTimeout(function(){d.focus()},100),a.quirks.insertLineBreakOnReturn(this),c.clearsContentEditableCorrectly()||a.quirks.ensureProperClearing(this),c.clearsListsInContentEditableCorrectly()||a.quirks.ensureProperClearingOfLists(this),this.initSync&&this.config.sync&&this.initSync(),this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var d=this,e=c.canDisableAutoLinking(),f=c.doesAutoLinkingInContentEditable();if(e&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink){(!f||f&&e)&&this.parent.observe("newword:composer",function(){d.selection.executeAndRestore(function(a,c){b.autoLink(c.parentNode)})});var g=this.sandbox.getDocument().getElementsByTagName("a"),h=b.autoLink.URL_REG_EXP,i=function(c){var d=a.lang.string(b.getTextContent(c)).trim();return"www."===d.substr(0,4)&&(d="http://"+d),d};b.observe(this.element,"keydown",function(a){if(g.length){var c,e=d.selection.getSelectedNode(a.target.ownerDocument),f=b.getParentElement(e,{nodeName:"A"},4);f&&(c=i(f),setTimeout(function(){var a=i(f);a!==c&&a.match(h)&&f.setAttribute("href",a)},0))}})}},_initObjectResizing:function(){var d=["width","height"],e=d.length,f=this.element;this.commands.exec("enableObjectResizing",this.config.allowObjectResizing),this.config.allowObjectResizing?c.supportsEvent("resizeend")&&b.observe(f,"resizeend",function(b){for(var c,g=b.target||b.srcElement,h=g.style,i=0;e>i;i++)c=d[i],h[c]&&(g.setAttribute(c,parseInt(h[c],10)),h[c]="");a.quirks.redraw(f)}):c.supportsEvent("resizestart")&&b.observe(f,"resizestart",function(a){a.preventDefault()})},_initUndoManager:function(){new a.UndoManager(this.parent)
}})}(wysihtml5),function(a){var b=a.dom,c=document,d=window,e=c.createElement("div"),f=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],g=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],h=["width","height","top","left","right","bottom"],i=["html             { height: 100%; }","body             { min-height: 100%; padding: 0; margin: 0; margin-top: -1px; padding-top: 1px; }","._wysihtml5-temp { display: none; }",a.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","body[disabled]   { background-color: #eee !important; color: #999 !important; cursor: default !important; }","img:-moz-broken  { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],j=function(a){if(a.setActive)try{a.setActive()}catch(e){}else{var f=a.style,g=c.documentElement.scrollTop||c.body.scrollTop,h=c.documentElement.scrollLeft||c.body.scrollLeft,i={position:f.position,top:f.top,left:f.left,WebkitUserSelect:f.WebkitUserSelect};b.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(a),a.focus(),b.setStyles(i).on(a),d.scrollTo&&d.scrollTo(h,g)}};a.views.Composer.prototype.style=function(){var k=this,l=c.querySelector(":focus"),m=this.textarea.element,n=m.hasAttribute("placeholder"),o=n&&m.getAttribute("placeholder");this.focusStylesHost=this.focusStylesHost||e.cloneNode(!1),this.blurStylesHost=this.blurStylesHost||e.cloneNode(!1),n&&m.removeAttribute("placeholder"),m===l&&m.blur(),b.copyStyles(g).from(m).to(this.iframe).andTo(this.blurStylesHost),b.copyStyles(f).from(m).to(this.element).andTo(this.blurStylesHost),b.insertCSS(i).into(this.element.ownerDocument),j(m),b.copyStyles(g).from(m).to(this.focusStylesHost),b.copyStyles(f).from(m).to(this.focusStylesHost);var p=a.lang.array(g).without(["display"]);if(l?l.focus():m.blur(),n&&m.setAttribute("placeholder",o),!a.browser.hasCurrentStyleProperty())var q=b.observe(d,"resize",function(){if(!b.contains(document.documentElement,k.iframe))return void q.stop();var a=b.getStyle("display").from(m),c=b.getStyle("display").from(k.iframe);m.style.display="",k.iframe.style.display="none",b.copyStyles(h).from(m).to(k.iframe).andTo(k.focusStylesHost).andTo(k.blurStylesHost),k.iframe.style.display=c,m.style.display=a});return this.parent.observe("focus:composer",function(){b.copyStyles(p).from(k.focusStylesHost).to(k.iframe),b.copyStyles(f).from(k.focusStylesHost).to(k.element)}),this.parent.observe("blur:composer",function(){b.copyStyles(p).from(k.blurStylesHost).to(k.iframe),b.copyStyles(f).from(k.blurStylesHost).to(k.element)}),this}}(wysihtml5),function(a){var b=a.dom,c=a.browser,d={66:"bold",73:"italic",85:"underline"};a.views.Composer.prototype.observe=function(){var e=this,f=this.getValue(),g=this.sandbox.getIframe(),h=this.element,i=c.supportsEventsInIframeCorrectly()?h:this.sandbox.getWindow(),j=c.supportsEvent("drop")?["drop","paste"]:["dragdrop","paste"];b.observe(g,"DOMNodeRemoved",function(){clearInterval(k),e.parent.fire("destroy:composer")});var k=setInterval(function(){b.contains(document.documentElement,g)||(clearInterval(k),e.parent.fire("destroy:composer"))},250);b.observe(i,"focus",function(){e.parent.fire("focus").fire("focus:composer"),setTimeout(function(){f=e.getValue()},0)}),b.observe(i,"blur",function(){f!==e.getValue()&&e.parent.fire("change").fire("change:composer"),e.parent.fire("blur").fire("blur:composer")}),a.browser.isIos()&&b.observe(h,"blur",function(){var a=h.ownerDocument.createElement("input"),b=document.documentElement.scrollTop||document.body.scrollTop,c=document.documentElement.scrollLeft||document.body.scrollLeft;try{e.selection.insertNode(a)}catch(d){h.appendChild(a)}a.focus(),a.parentNode.removeChild(a),window.scrollTo(c,b)}),b.observe(h,"dragenter",function(){e.parent.fire("unset_placeholder")}),c.firesOnDropOnlyWhenOnDragOverIsCancelled()&&b.observe(h,["dragover","dragenter"],function(a){a.preventDefault()}),b.observe(h,j,function(a){var b,d=a.dataTransfer;d&&c.supportsDataTransfer()&&(b=d.getData("text/html")||d.getData("text/plain")),b?(h.focus(),e.commands.exec("insertHTML",b),e.parent.fire("paste").fire("paste:composer"),a.stopPropagation(),a.preventDefault()):setTimeout(function(){e.parent.fire("paste").fire("paste:composer")},0)}),b.observe(h,"keyup",function(b){var c=b.keyCode;(c===a.SPACE_KEY||c===a.ENTER_KEY)&&e.parent.fire("newword:composer")}),this.parent.observe("paste:composer",function(){setTimeout(function(){e.parent.fire("newword:composer")},0)}),c.canSelectImagesInContentEditable()||b.observe(h,"mousedown",function(a){var b=a.target;"IMG"===b.nodeName&&(e.selection.selectNode(b),a.preventDefault())}),b.observe(h,"keydown",function(a){var b=a.keyCode,c=d[b];(a.ctrlKey||a.metaKey)&&!a.altKey&&c&&(e.commands.exec(c),a.preventDefault())}),b.observe(h,"keydown",function(b){var c,d=e.selection.getSelectedNode(!0),f=b.keyCode;!d||"IMG"!==d.nodeName||f!==a.BACKSPACE_KEY&&f!==a.DELETE_KEY||(c=d.parentNode,c.removeChild(d),"A"!==c.nodeName||c.firstChild||c.parentNode.removeChild(c),setTimeout(function(){a.quirks.redraw(h)},0),b.preventDefault())});var l={IMG:"Image: ",A:"Link: "};b.observe(h,"mouseover",function(a){var b,c=a.target,d=c.nodeName;if("A"===d||"IMG"===d){var e=c.hasAttribute("title");e||(b=l[d]+(c.getAttribute("href")||c.getAttribute("src")),c.setAttribute("title",b))}})}}(wysihtml5),function(a){var b=400;a.views.Synchronizer=Base.extend({constructor:function(a,b,c){this.editor=a,this.textarea=b,this.composer=c,this._observe()},fromComposerToTextarea:function(b){this.textarea.setValue(a.lang.string(this.composer.getValue()).trim(),b)},fromTextareaToComposer:function(a){var b=this.textarea.getValue();b?this.composer.setValue(b,a):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(a){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(a):this.fromComposerToTextarea(a)},_observe:function(){var c,d=this,e=this.textarea.element.form,f=function(){c=setInterval(function(){d.fromComposerToTextarea()},b)},g=function(){clearInterval(c),c=null};f(),e&&(a.dom.observe(e,"submit",function(){d.sync(!0)}),a.dom.observe(e,"reset",function(){setTimeout(function(){d.fromTextareaToComposer()},0)})),this.editor.observe("change_view",function(a){"composer"!==a||c?"textarea"===a&&(d.fromComposerToTextarea(!0),g()):(d.fromTextareaToComposer(!0),f())}),this.editor.observe("destroy:composer",g)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(a,b,c){this.base(a,b,c),this._observe()},clear:function(){this.element.value=""},getValue:function(a){var b=this.isEmpty()?"":this.element.value;return a&&(b=this.parent.parse(b)),b},setValue:function(a,b){b&&(a=this.parent.parse(a)),this.element.value=a},hasPlaceholderSet:function(){var a=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),b=this.element.getAttribute("placeholder")||null,c=this.element.value,d=!c;return a&&d||c===b},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var a=this.element,b=this.parent,c={focusin:"focus",focusout:"blur"},d=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];b.observe("beforeload",function(){wysihtml5.dom.observe(a,d,function(a){var d=c[a.type]||a.type;b.fire(d).fire(d+":textarea")}),wysihtml5.dom.observe(a,["paste","drop"],function(){setTimeout(function(){b.fire("paste").fire("paste:textarea")},0)})})}}),function(a){var b=a.dom,c="wysihtml5-command-dialog-opened",d="input, select, textarea",e="[data-wysihtml5-dialog-field]",f="data-wysihtml5-dialog-field";a.toolbar.Dialog=a.lang.Dispatcher.extend({constructor:function(a,b){this.link=a,this.container=b},_observe:function(){if(!this._observed){var e=this,f=function(a){var b=e._serialize();b==e.elementToChange?e.fire("edit",b):e.fire("save",b),e.hide(),a.preventDefault(),a.stopPropagation()};b.observe(e.link,"click",function(){b.hasClass(e.link,c)&&setTimeout(function(){e.hide()},0)}),b.observe(this.container,"keydown",function(b){var c=b.keyCode;c===a.ENTER_KEY&&f(b),c===a.ESCAPE_KEY&&e.hide()}),b.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",f),b.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(a){e.fire("cancel"),e.hide(),a.preventDefault(),a.stopPropagation()});for(var g=this.container.querySelectorAll(d),h=0,i=g.length,j=function(){clearInterval(e.interval)};i>h;h++)b.observe(g[h],"change",j);this._observed=!0}},_serialize:function(){for(var a=this.elementToChange||{},b=this.container.querySelectorAll(e),c=b.length,d=0;c>d;d++)a[b[d].getAttribute(f)]=b[d].value;return a},_interpolate:function(a){for(var b,c,d,g=document.querySelector(":focus"),h=this.container.querySelectorAll(e),i=h.length,j=0;i>j;j++)b=h[j],b!==g&&(a&&"hidden"===b.type||(c=b.getAttribute(f),d=this.elementToChange?this.elementToChange[c]||"":b.defaultValue,b.value=d))},show:function(a){var e=this,f=this.container.querySelector(d);if(this.elementToChange=a,this._observe(),this._interpolate(),a&&(this.interval=setInterval(function(){e._interpolate(!0)},500)),b.addClass(this.link,c),this.container.style.display="",this.fire("show"),f&&!a)try{f.focus()}catch(g){}},hide:function(){clearInterval(this.interval),this.elementToChange=null,b.removeClass(this.link,c),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(a){var b=a.dom,c={position:"relative"},d={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},e={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},f={"x-webkit-speech":"",speech:""};a.toolbar.Speech=function(g,h){var i=document.createElement("input");if(!a.browser.supportsSpeechApiOn(i))return void(h.style.display="none");var j=document.createElement("div");a.lang.object(d).merge({width:h.offsetWidth+"px",height:h.offsetHeight+"px"}),b.insert(i).into(j),b.insert(j).into(h),b.setStyles(e).on(i),b.setAttributes(f).on(i),b.setStyles(d).on(j),b.setStyles(c).on(h);var k="onwebkitspeechchange"in i?"webkitspeechchange":"speechchange";b.observe(i,k,function(){g.execCommand("insertText",i.value),i.value=""}),b.observe(i,"click",function(a){b.hasClass(h,"wysihtml5-command-disabled")&&a.preventDefault(),a.stopPropagation()})}}(wysihtml5),function(a){var b="wysihtml5-command-disabled",c="wysihtml5-commands-disabled",d="wysihtml5-command-active",e="wysihtml5-action-active",f=a.dom;a.toolbar.Toolbar=Base.extend({constructor:function(b,c){this.editor=b,this.container="string"==typeof c?document.getElementById(c):c,this.composer=b.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),this.show();for(var d=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),e=d.length,f=0;e>f;f++)new a.toolbar.Speech(this,d[f])},_getLinks:function(b){for(var c,d,e,f,g,h=this[b+"Links"]=a.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+b+"]")).get(),i=h.length,j=0,k=this[b+"Mapping"]={};i>j;j++)c=h[j],e=c.getAttribute("data-wysihtml5-"+b),f=c.getAttribute("data-wysihtml5-"+b+"-value"),d=this.container.querySelector("[data-wysihtml5-"+b+"-group='"+e+"']"),g=this._getDialog(c,e),k[e+":"+f]={link:c,group:d,name:e,value:f,dialog:g,state:!1}},_getDialog:function(b,c){var d,e,f=this,g=this.container.querySelector("[data-wysihtml5-dialog='"+c+"']");return g&&(d=new a.toolbar.Dialog(b,g),d.observe("show",function(){e=f.composer.selection.getBookmark(),f.editor.fire("show:dialog",{command:c,dialogContainer:g,commandLink:b})}),d.observe("save",function(a){e&&f.composer.selection.setBookmark(e),f._execCommand(c,a),f.editor.fire("save:dialog",{command:c,dialogContainer:g,commandLink:b})}),d.observe("cancel",function(){f.editor.focus(!1),f.editor.fire("cancel:dialog",{command:c,dialogContainer:g,commandLink:b})})),d},execCommand:function(a,b){if(!this.commandsDisabled){var c=this.commandMapping[a+":"+b];c&&c.dialog&&!c.state?c.dialog.show():this._execCommand(a,b)}},_execCommand:function(a,b){this.editor.focus(!1),this.composer.commands.exec(a,b),this._updateLinkStates()},execAction:function(a){var b=this.editor;switch(a){case"change_view":b.currentView===b.textarea?b.fire("change_view","composer"):b.fire("change_view","textarea")}},_observe:function(){for(var a=this,b=this.editor,d=this.container,e=this.commandLinks.concat(this.actionLinks),g=e.length,h=0;g>h;h++)f.setAttributes({href:"javascript:;",unselectable:"on"}).on(e[h]);f.delegate(d,"[data-wysihtml5-command]","mousedown",function(a){a.preventDefault()}),f.delegate(d,"[data-wysihtml5-command]","click",function(b){var c=this,d=c.getAttribute("data-wysihtml5-command"),e=c.getAttribute("data-wysihtml5-command-value");a.execCommand(d,e),b.preventDefault()}),f.delegate(d,"[data-wysihtml5-action]","click",function(b){var c=this.getAttribute("data-wysihtml5-action");a.execAction(c),b.preventDefault()}),b.observe("focus:composer",function(){a.bookmark=null,clearInterval(a.interval),a.interval=setInterval(function(){a._updateLinkStates()},500)}),b.observe("blur:composer",function(){clearInterval(a.interval)}),b.observe("destroy:composer",function(){clearInterval(a.interval)}),b.observe("change_view",function(b){setTimeout(function(){a.commandsDisabled="composer"!==b,a._updateLinkStates(),a.commandsDisabled?f.addClass(d,c):f.removeClass(d,c)},0)})},_updateLinkStates:function(){var c,g,h,i,j=(this.composer.element,this.commandMapping),k=this.actionMapping;for(c in j)i=j[c],this.commandsDisabled?(g=!1,f.removeClass(i.link,d),i.group&&f.removeClass(i.group,d),i.dialog&&i.dialog.hide()):(g=this.composer.commands.state(i.name,i.value),a.lang.object(g).isArray()&&(g=1===g.length?g[0]:!0),f.removeClass(i.link,b),i.group&&f.removeClass(i.group,b)),i.state!==g&&(i.state=g,g?(f.addClass(i.link,d),i.group&&f.addClass(i.group,d),i.dialog&&("object"==typeof g?i.dialog.show(g):i.dialog.hide())):(f.removeClass(i.link,d),i.group&&f.removeClass(i.group,d),i.dialog&&i.dialog.hide()));for(c in k)h=k[c],"change_view"===h.name&&(h.state=this.editor.currentView===this.editor.textarea,h.state?f.addClass(h.link,e):f.removeClass(h.link,e))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(a){var b,c={name:b,style:!0,toolbar:b,autoLink:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},parser:a.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",stylesheets:[],placeholderText:b,allowObjectResizing:!0,supportTouchDevices:!0};a.Editor=a.lang.Dispatcher.extend({constructor:function(b,d){if(this.textareaElement="string"==typeof b?document.getElementById(b):b,this.config=a.lang.object({}).merge(c).merge(d).get(),this.textarea=new a.views.Textarea(this,this.textareaElement,this.config),this.currentView=this.textarea,this._isCompatible=a.browser.supported(),!this._isCompatible||!this.config.supportTouchDevices&&a.browser.isTouchDevice()){var e=this;return void setTimeout(function(){e.fire("beforeload").fire("load")},0)}a.dom.addClass(document.body,this.config.bodyClassName),this.composer=new a.views.Composer(this,this.textareaElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.observe("beforeload",function(){this.synchronizer=new a.views.Synchronizer(this,this.textarea,this.composer),this.config.toolbar&&(this.toolbar=new a.toolbar.Toolbar(this,this.config.toolbar))});try{console.log("Heya! This page is using wysihtml5 for rich text editing. Check out https://github.com/xing/wysihtml5")}catch(f){}},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(a){return this.currentView.getValue(a)},setValue:function(a,b){return a?(this.currentView.setValue(a,b),this):this.clear()},focus:function(a){return this.currentView.focus(a),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(b){var c=this.config.parser(b,this.config.parserRules,this.composer.sandbox.getDocument(),!0);return"object"==typeof b&&a.quirks.redraw(b),c},_initParser:function(){this.observe("paste:composer",function(){var b=!0,c=this;c.composer.selection.executeAndRestore(function(){a.quirks.cleanPastedHTML(c.composer.element),c.parse(c.composer.element)},b)}),this.observe("paste:textarea",function(){var a,b=this.textarea.getValue();a=this.parse(b),this.textarea.setValue(a)})}})}(wysihtml5),!function(a,b){"use strict";var c={"font-styles":"<li class='dropdown'><a class='btn btn-default dropdown-toggle' data-toggle='dropdown'><i class='icon-font'></i>&nbsp;<span class='current-font'>Normal</span>&nbsp;<b class='caret'></b></a><ul class='dropdown-menu'><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='div'>Normal</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h1'>Heading 1</a></li><li><a data-wysihtml5-command='formatBlock' data-wysihtml5-command-value='h2'>Heading 2</a></li></ul></li>",emphasis:"<li><div class='btn-group'><a class='btn btn-default' data-wysihtml5-command='bold' title='CTRL+B'>B</a><a class='btn btn-default' data-wysihtml5-command='italic' title='CTRL+I'>I</a><a class='btn btn-default' data-wysihtml5-command='underline' title='CTRL+U'>U</a></div></li>",lists:"<li><div class='btn-group'><a class='btn btn-default' data-wysihtml5-command='insertUnorderedList' title='Unordered List'><i class='fa fa-list-ul'></i></a><a class='btn btn-default' data-wysihtml5-command='insertOrderedList' title='Ordered List'><i class='fa fa-list-ol'></i></a><a class='btn btn-default' data-wysihtml5-command='Outdent' title='Outdent'><i class='fa fa-indent'></i></a><a class='btn btn-default' data-wysihtml5-command='Indent' title='Indent'><i class='fa fa-dedent'></i></a></div></li>",link:"<li><div class='bootstrap-wysihtml5-insert-link-modal modal hide fade'><div class='modal-header'><a class='close' data-dismiss='modal'>&times;</a><h3>Insert Link</h3></div><div class='modal-body'><input value='http://' class='bootstrap-wysihtml5-insert-link-url input-xlarge'></div><div class='modal-body'><h5>Anchor Text</h5><input value='' class='anchorText input-xlarge'></div><div class='modal-footer'><a href='#' class='btn' data-dismiss='modal'>Cancel</a><a href='#' class='btn btn-primary2' data-dismiss='modal'>Insert link</a></div></div><a class='btn btn-default' data-wysihtml5-command='createLink' title='Link'><i class='fa fa-link'></i></a></li>",image:"<li><div class='bootstrap-wysihtml5-insert-image-modal modal hide fade'><div class='modal-header'><a class='close' data-dismiss='modal'>&times;</a><h3>Insert Image</h3></div><div class='modal-body'><input value='http://' class='bootstrap-wysihtml5-insert-image-url input-xlarge'></div><div class='modal-footer'><a href='#' class='btn' data-dismiss='modal'>Cancel</a><a href='#' class='btn btn-primary' data-dismiss='modal'>Insert image</a></div></div><a class='btn btn-default' data-wysihtml5-command='insertImage' title='Insert image'><i class='fa fa-picture-o'></i></a></li>",html:"<li><div class='btn-group'><a class='btn btn-default' data-wysihtml5-action='change_view' title='Edit HTML'><i class='fa fa-code'></i></a></div></li>"},d={"font-styles":!0,emphasis:!0,lists:!0,html:!0,link:!0,image:!0,events:{},parserRules:{tags:{b:{},i:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{set_attributes:{target:"_blank",rel:"nofollow"},check_attributes:{href:"url"}}}},stylesheets:[]},e=function(b,c){this.el=b,this.toolbar=this.createToolbar(b,c||d),this.editor=this.createEditor(c),window.editor=this.editor,a("iframe.wysihtml5-sandbox").each(function(b,c){a(c.contentWindow).off("focus.wysihtml5").on({"focus.wysihtml5":function(){a("li.dropdown").removeClass("open")}})})};e.prototype={constructor:e,createEditor:function(c){c=a.extend(d,c||{}),c.toolbar=this.toolbar[0];var e=new b.Editor(this.el[0],c);if(c&&c.events)for(var f in c.events)e.on(f,c.events[f]);return e},createToolbar:function(b,e){var f=this,g=a("<ul/>",{"class":"wysihtml5-toolbar",style:"display:none"});for(var h in d){var i=!1;void 0!==e[h]?e[h]===!0&&(i=!0):i=d[h],i===!0&&(g.append(c[h]),"html"==h&&this.initHtml(g),"link"==h&&this.initInsertLink(g),"image"==h&&this.initInsertImage(g))}return g.find("a[data-wysihtml5-command='formatBlock']").click(function(b){var c=a(b.srcElement);f.toolbar.find(".current-font").text(c.html())}),this.el.before(g),g},initHtml:function(a){var b="a[data-wysihtml5-action='change_view']";a.find(b).click(function(){a.find("a.btn").not(b).toggleClass("disabled")})},initInsertImage:function(a){var b=this,c=a.find(".bootstrap-wysihtml5-insert-image-modal"),d=c.find(".bootstrap-wysihtml5-insert-image-url"),e=c.find("a.btn-primary2"),f=d.val(),g=function(){var a=d.val();d.val(f),b.editor.composer.commands.exec("insertImage",a)};d.keypress(function(a){13==a.which&&(g(),c.modal("hide"))}),e.click(g),c.on("shown",function(){d.focus()}),c.on("hide",function(){b.editor.currentView.element.focus()}),a.find("a[data-wysihtml5-command=insertImage]").click(function(){return c.modal("show"),c.on("click.dismiss.modal",'[data-dismiss="modal"]',function(a){a.stopPropagation()}),!1})},initInsertLink:function(a){var b=this,c=a.find(".bootstrap-wysihtml5-insert-link-modal"),d=c.find(".bootstrap-wysihtml5-insert-link-url"),e=c.find(".anchorText"),f=c.find("a.btn-primary2"),g=(d.val(),function(){var a=d.val();d.val(e.val()),b.editor.composer.commands.exec("createLink",{href:a,target:"_blank",rel:"nofollow",value:e.val()})});d.keypress(function(a){13==a.which&&(g(),c.modal("hide"))}),f.click(g),c.on("shown",function(){d.focus()}),c.on("hide",function(){b.editor.currentView.element.focus()}),a.find("a[data-wysihtml5-command=createLink]").click(function(){return c.modal("show"),c.on("click.dismiss.modal",'[data-dismiss="modal"]',function(a){a.stopPropagation()}),!1})}},a.fn.wysihtml5=function(b){return this.each(function(){var c=a(this);c.data("wysihtml5",new e(c,b))})},a.fn.wysihtml5.Constructor=e}(window.jQuery,window.wysihtml5),function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a){"use strict";function b(c,d){var e=function(){},f=this,g={autoSelectFirst:!1,appendTo:"body",serviceUrl:null,lookup:null,onSelect:null,width:"auto",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:b.formatResult,delimiter:null,zIndex:9999,type:"GET",noCache:!1,onSearchStart:e,onSearchComplete:e,onSearchError:e,containerClass:"autocomplete-suggestions",tabDisabled:!1,dataType:"text",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(a,b,c){return-1!==a.value.toLowerCase().indexOf(c)},paramName:"query",transformResult:function(b){return"string"==typeof b?a.parseJSON(b):b}};f.element=c,f.el=a(c),f.suggestions=[],f.badQueries=[],f.selectedIndex=-1,f.currentValue=f.element.value,f.intervalId=0,f.cachedResponse={},f.onChangeInterval=null,f.onChange=null,f.isLocal=!1,f.suggestionsContainer=null,f.options=a.extend({},g,d),f.classes={selected:"autocomplete-selected",suggestion:"autocomplete-suggestion"},f.hint=null,f.hintValue="",f.selection=null,f.initialize(),f.setOptions(d)}var c=function(){return{escapeRegExChars:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},createNode:function(a){var b=document.createElement("div");return b.className=a,b.style.position="absolute",b.style.display="none",b}}}(),d={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40};b.utils=c,a.Autocomplete=b,b.formatResult=function(a,b){var d="("+c.escapeRegExChars(b)+")";return a.value.replace(new RegExp(d,"gi"),"<strong>$1</strong>")},b.prototype={killerFn:null,initialize:function(){var c,d=this,e="."+d.classes.suggestion,f=d.classes.selected,g=d.options;d.element.setAttribute("autocomplete","off"),d.killerFn=function(b){0===a(b.target).closest("."+d.options.containerClass).length&&(d.killSuggestions(),d.disableKillerFn())},d.suggestionsContainer=b.utils.createNode(g.containerClass),c=a(d.suggestionsContainer),c.appendTo(g.appendTo),"auto"!==g.width&&c.width(g.width),c.on("mouseover.autocomplete",e,function(){d.activate(a(this).data("index"))}),c.on("mouseout.autocomplete",function(){d.selectedIndex=-1,c.children("."+f).removeClass(f)}),c.on("click.autocomplete",e,function(){d.select(a(this).data("index"))}),d.fixPosition(),d.fixPositionCapture=function(){d.visible&&d.fixPosition()},a(window).on("resize.autocomplete",d.fixPositionCapture),d.el.on("keydown.autocomplete",function(a){d.onKeyPress(a)}),d.el.on("keyup.autocomplete",function(a){d.onKeyUp(a)}),d.el.on("blur.autocomplete",function(){d.onBlur()}),d.el.on("focus.autocomplete",function(){d.onFocus()}),d.el.on("change.autocomplete",function(a){d.onKeyUp(a)})},onFocus:function(){var a=this;a.fixPosition(),a.options.minChars<=a.el.val().length&&a.onValueChange()},onBlur:function(){this.enableKillerFn()},setOptions:function(b){var c=this,d=c.options;a.extend(d,b),c.isLocal=a.isArray(d.lookup),c.isLocal&&(d.lookup=c.verifySuggestionsFormat(d.lookup)),a(c.suggestionsContainer).css({"max-height":d.maxHeight+"px",width:d.width+"px","z-index":d.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue="",this.suggestions=[]},disable:function(){var a=this;a.disabled=!0,a.currentRequest&&a.currentRequest.abort()},enable:function(){this.disabled=!1},fixPosition:function(){var b,c,d=this;"body"===d.options.appendTo&&(b=d.el.offset(),c={top:b.top+d.el.outerHeight()+"px",left:b.left+"px"},"auto"===d.options.width&&(c.width=d.el.outerWidth()-2+"px"),a(d.suggestionsContainer).css(c))},enableKillerFn:function(){var b=this;a(document).on("click.autocomplete",b.killerFn)},disableKillerFn:function(){var b=this;a(document).off("click.autocomplete",b.killerFn)},killSuggestions:function(){var a=this;a.stopKillSuggestions(),a.intervalId=window.setInterval(function(){a.hide(),a.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var a,b=this,c=b.el.val().length,d=b.element.selectionStart;return"number"==typeof d?d===c:document.selection?(a=document.selection.createRange(),a.moveStart("character",-c),c===a.text.length):!0},onKeyPress:function(a){var b=this;if(!b.disabled&&!b.visible&&a.which===d.DOWN&&b.currentValue)return void b.suggest();if(!b.disabled&&b.visible){switch(a.which){case d.ESC:b.el.val(b.currentValue),b.hide();break;case d.RIGHT:if(b.hint&&b.options.onHint&&b.isCursorAtEnd()){b.selectHint();break}return;case d.TAB:if(b.hint&&b.options.onHint)return void b.selectHint();case d.RETURN:if(-1===b.selectedIndex)return void b.hide();if(b.select(b.selectedIndex),a.which===d.TAB&&b.options.tabDisabled===!1)return;break;case d.UP:b.moveUp();break;case d.DOWN:b.moveDown();break;default:return}a.stopImmediatePropagation(),a.preventDefault()}},onKeyUp:function(a){var b=this;if(!b.disabled){switch(a.which){case d.UP:case d.DOWN:return}clearInterval(b.onChangeInterval),b.currentValue!==b.el.val()&&(b.findBestHint(),b.options.deferRequestBy>0?b.onChangeInterval=setInterval(function(){b.onValueChange()},b.options.deferRequestBy):b.onValueChange())}},onValueChange:function(){var b,c=this,d=c.options,e=c.el.val(),f=c.getQuery(e);return c.selection&&(c.selection=null,(d.onInvalidateSelection||a.noop).call(c.element)),clearInterval(c.onChangeInterval),c.currentValue=e,c.selectedIndex=-1,d.triggerSelectOnValidInput&&(b=c.findSuggestionIndex(f),-1!==b)?void c.select(b):void(f.length<d.minChars?c.hide():c.getSuggestions(f))},findSuggestionIndex:function(b){var c=this,d=-1,e=b.toLowerCase();return a.each(c.suggestions,function(a,b){return b.value.toLowerCase()===e?(d=a,!1):void 0}),d},getQuery:function(b){var c,d=this.options.delimiter;return d?(c=b.split(d),a.trim(c[c.length-1])):b},getSuggestionsLocal:function(b){var c,d=this,e=d.options,f=b.toLowerCase(),g=e.lookupFilter,h=parseInt(e.lookupLimit,10);return c={suggestions:a.grep(e.lookup,function(a){return g(a,b,f)})},h&&c.suggestions.length>h&&(c.suggestions=c.suggestions.slice(0,h)),c},getSuggestions:function(b){var c,d,e,f=this,g=f.options,h=g.serviceUrl;if(g.params[g.paramName]=b,d=g.ignoreParams?null:g.params,f.isLocal?c=f.getSuggestionsLocal(b):(a.isFunction(h)&&(h=h.call(f.element,b)),e=h+"?"+a.param(d||{}),c=f.cachedResponse[e]),c&&a.isArray(c.suggestions))f.suggestions=c.suggestions,f.suggest();else if(!f.isBadQuery(b)){if(g.onSearchStart.call(f.element,g.params)===!1)return;f.currentRequest&&f.currentRequest.abort(),f.currentRequest=a.ajax({url:h,data:d,type:g.type,dataType:g.dataType}).done(function(a){var c;f.currentRequest=null,c=g.transformResult(a),f.processResponse(c,b,e),g.onSearchComplete.call(f.element,b,c.suggestions)}).fail(function(a,c,d){g.onSearchError.call(f.element,b,a,c,d)})}},isBadQuery:function(a){if(!this.options.preventBadQueries)return!1;for(var b=this.badQueries,c=b.length;c--;)if(0===a.indexOf(b[c]))return!0;return!1},hide:function(){var b=this;b.visible=!1,b.selectedIndex=-1,a(b.suggestionsContainer).hide(),b.signalHint(null)},suggest:function(){if(0===this.suggestions.length)return void this.hide();var b,c,d=this,e=d.options,f=e.formatResult,g=d.getQuery(d.currentValue),h=d.classes.suggestion,i=d.classes.selected,j=a(d.suggestionsContainer),k=e.beforeRender,l="";return e.triggerSelectOnValidInput&&(b=d.findSuggestionIndex(g),-1!==b)?void d.select(b):(a.each(d.suggestions,function(a,b){l+='<div class="'+h+'" data-index="'+a+'">'+f(b,g)+"</div>"}),"auto"===e.width&&(c=d.el.outerWidth()-2,j.width(c>0?c:300)),j.html(l),e.autoSelectFirst&&(d.selectedIndex=0,j.children().first().addClass(i)),a.isFunction(k)&&k.call(d.element,j),j.show(),d.visible=!0,void d.findBestHint())},findBestHint:function(){var b=this,c=b.el.val().toLowerCase(),d=null;c&&(a.each(b.suggestions,function(a,b){var e=0===b.value.toLowerCase().indexOf(c);return e&&(d=b),!e}),b.signalHint(d))},signalHint:function(b){var c="",d=this;b&&(c=d.currentValue+b.value.substr(d.currentValue.length)),d.hintValue!==c&&(d.hintValue=c,d.hint=b,(this.options.onHint||a.noop)(c))},verifySuggestionsFormat:function(b){return b.length&&"string"==typeof b[0]?a.map(b,function(a){return{value:a,data:null}}):b},processResponse:function(a,b,c){var d=this,e=d.options;a.suggestions=d.verifySuggestionsFormat(a.suggestions),e.noCache||(d.cachedResponse[c]=a,e.preventBadQueries&&0===a.suggestions.length&&d.badQueries.push(b)),b===d.getQuery(d.currentValue)&&(d.suggestions=a.suggestions,d.suggest())
},activate:function(b){var c,d=this,e=d.classes.selected,f=a(d.suggestionsContainer),g=f.children();return f.children("."+e).removeClass(e),d.selectedIndex=b,-1!==d.selectedIndex&&g.length>d.selectedIndex?(c=g.get(d.selectedIndex),a(c).addClass(e),c):null},selectHint:function(){var b=this,c=a.inArray(b.hint,b.suggestions);b.select(c)},select:function(a){var b=this;b.hide(),b.onSelect(a)},moveUp:function(){var b=this;if(-1!==b.selectedIndex)return 0===b.selectedIndex?(a(b.suggestionsContainer).children().first().removeClass(b.classes.selected),b.selectedIndex=-1,b.el.val(b.currentValue),void b.findBestHint()):void b.adjustScroll(b.selectedIndex-1)},moveDown:function(){var a=this;a.selectedIndex!==a.suggestions.length-1&&a.adjustScroll(a.selectedIndex+1)},adjustScroll:function(b){var c,d,e,f=this,g=f.activate(b),h=25;g&&(c=g.offsetTop,d=a(f.suggestionsContainer).scrollTop(),e=d+f.options.maxHeight-h,d>c?a(f.suggestionsContainer).scrollTop(c):c>e&&a(f.suggestionsContainer).scrollTop(c-f.options.maxHeight+h),f.el.val(f.getValue(f.suggestions[b].value)),f.signalHint(null))},onSelect:function(b){var c=this,d=c.options.onSelect,e=c.suggestions[b];c.currentValue=c.getValue(e.value),c.el.val(c.currentValue),c.signalHint(null),c.suggestions=[],c.selection=e,a.isFunction(d)&&d.call(c.element,e)},getValue:function(a){var b,c,d=this,e=d.options.delimiter;return e?(b=d.currentValue,c=b.split(e),1===c.length?a:b.substr(0,b.length-c[c.length-1].length)+a):a},dispose:function(){var b=this;b.el.off(".autocomplete").removeData("autocomplete"),b.disableKillerFn(),a(window).off("resize.autocomplete",b.fixPositionCapture),a(b.suggestionsContainer).remove()}},a.fn.autocomplete=function(c,d){var e="autocomplete";return 0===arguments.length?this.first().data(e):this.each(function(){var f=a(this),g=f.data(e);"string"==typeof c?g&&"function"==typeof g[c]&&g[c](d):(g&&g.dispose&&g.dispose(),g=new b(this,c),f.data(e,g))})}}),function(){!function(a){var b;return b=function(){function b(b){this.$iframe=a(b),this.$body=this.findBody(),this.addBodyStyles(),this.setupEvents(),this.adjustHeight()}return b.prototype.addBodyStyles=function(){return this.$body.css("overflow","hidden"),this.$body.css("min-height",0)},b.prototype.setupEvents=function(){var a=this;return this.$body.on("keyup keydown paste change focus",function(){return a.adjustHeight()})},b.prototype.adjustHeight=function(){return this.$iframe.css("min-height",this.$body.height()+this.extraBottomSpacing())},b.prototype.extraBottomSpacing=function(){return parseInt(this.$body.css("line-height"))||this.estimateLineHeight()},b.prototype.estimateLineHeight=function(){return 1.14*parseInt(this.$body.css("font-size"))},b.prototype.findBody=function(){return this.$iframe.contents().find("body")},b}(),a.fn.wysihtml5_size_matters=function(){return this.each(function(){var c;return c=a.data(this,"wysihtml5_size_matters"),c?void 0:c=a.data(this,"wysihtml5_size_matters",new b(this))})}}($)}.call(this),function(){var a,b,c;a=jQuery,c=function(){function a(){this.fadeDuration=500,this.fitImagesInViewport=!0,this.resizeDuration=700,this.showImageNumberLabel=!0,this.wrapAround=!1}return a.prototype.albumLabel=function(a,b){return"Image "+a+" of "+b},a}(),b=function(){function b(a){this.options=a,this.album=[],this.currentImageIndex=void 0,this.init()}return b.prototype.init=function(){return this.enable(),this.build()},b.prototype.enable=function(){var b=this;return a("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(c){return b.start(a(c.currentTarget)),!1})},b.prototype.build=function(){var b=this;return a("<div id='lightboxOverlay' class='lightboxOverlay'></div><div id='lightbox' class='lightbox'><div class='lb-outerContainer'><div class='lb-container'><img class='lb-image' src='' /><div class='lb-nav'><a class='lb-prev' href='' ></a><a class='lb-next' href='' ></a></div><div class='lb-loader'><a class='lb-cancel'></a></div></div></div><div class='lb-dataContainer'><div class='lb-data'><div class='lb-details'><span class='lb-caption'></span><span class='lb-number'></span></div><div class='lb-closeContainer'><a class='lb-close'></a></div></div></div></div>").appendTo(a("body")),this.$lightbox=a("#lightbox"),this.$overlay=a("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.containerTopPadding=parseInt(this.$container.css("padding-top"),10),this.containerRightPadding=parseInt(this.$container.css("padding-right"),10),this.containerBottomPadding=parseInt(this.$container.css("padding-bottom"),10),this.containerLeftPadding=parseInt(this.$container.css("padding-left"),10),this.$overlay.hide().on("click",function(){return b.end(),!1}),this.$lightbox.hide().on("click",function(c){return"lightbox"===a(c.target).attr("id")&&b.end(),!1}),this.$outerContainer.on("click",function(c){return"lightbox"===a(c.target).attr("id")&&b.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return b.changeImage(0===b.currentImageIndex?b.album.length-1:b.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return b.changeImage(b.currentImageIndex===b.album.length-1?0:b.currentImageIndex+1),!1}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return b.end(),!1})},b.prototype.start=function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o;if(a(window).on("resize",this.sizeOverlay),a("select, object, embed").css({visibility:"hidden"}),this.$overlay.width(a(document).width()).height(a(document).height()).fadeIn(this.options.fadeDuration),this.album=[],g=0,e=b.attr("data-lightbox"))for(n=a(b.prop("tagName")+'[data-lightbox="'+e+'"]'),f=j=0,l=n.length;l>j;f=++j)d=n[f],this.album.push({link:a(d).attr("href"),title:a(d).attr("title")}),a(d).attr("href")===b.attr("href")&&(g=f);else if("lightbox"===b.attr("rel"))this.album.push({link:b.attr("href"),title:b.attr("title")});else for(o=a(b.prop("tagName")+'[rel="'+b.attr("rel")+'"]'),f=k=0,m=o.length;m>k;f=++k)d=o[f],this.album.push({link:a(d).attr("href"),title:a(d).attr("title")}),a(d).attr("href")===b.attr("href")&&(g=f);c=a(window),i=c.scrollTop()+c.height()/10,h=c.scrollLeft(),this.$lightbox.css({top:i+"px",left:h+"px"}).fadeIn(this.options.fadeDuration),this.changeImage(g)},b.prototype.changeImage=function(b){var c,d,e=this;this.disableKeyboardNav(),c=this.$lightbox.find(".lb-image"),this.sizeOverlay(),this.$overlay.fadeIn(this.options.fadeDuration),a(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating"),d=new Image,d.onload=function(){var f,g,h,i,j,k,l;return c.attr("src",e.album[b].link),f=a(d),c.width(d.width),c.height(d.height),e.options.fitImagesInViewport&&(l=a(window).width(),k=a(window).height(),j=l-e.containerLeftPadding-e.containerRightPadding-20,i=k-e.containerTopPadding-e.containerBottomPadding-110,(d.width>j||d.height>i)&&(d.width/j>d.height/i?(h=j,g=parseInt(d.height/(d.width/h),10),c.width(h),c.height(g)):(g=i,h=parseInt(d.width/(d.height/g),10),c.width(h),c.height(g)))),e.sizeContainer(c.width(),c.height())},d.src=this.album[b].link,this.currentImageIndex=b},b.prototype.sizeOverlay=function(){return a("#lightboxOverlay").width(a(document).width()).height(a(document).height())},b.prototype.sizeContainer=function(a,b){var c,d,e,f,g=this;f=this.$outerContainer.outerWidth(),e=this.$outerContainer.outerHeight(),d=a+this.containerLeftPadding+this.containerRightPadding,c=b+this.containerTopPadding+this.containerBottomPadding,this.$outerContainer.animate({width:d,height:c},this.options.resizeDuration,"swing"),setTimeout(function(){g.$lightbox.find(".lb-dataContainer").width(d),g.$lightbox.find(".lb-prevLink").height(c),g.$lightbox.find(".lb-nextLink").height(c),g.showImage()},this.options.resizeDuration)},b.prototype.showImage=function(){this.$lightbox.find(".lb-loader").hide(),this.$lightbox.find(".lb-image").fadeIn("slow"),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},b.prototype.updateNav=function(){this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?this.$lightbox.find(".lb-prev, .lb-next").show():(this.currentImageIndex>0&&this.$lightbox.find(".lb-prev").show(),this.currentImageIndex<this.album.length-1&&this.$lightbox.find(".lb-next").show()))},b.prototype.updateDetails=function(){var a=this;"undefined"!=typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&this.$lightbox.find(".lb-caption").html(this.album[this.currentImageIndex].title).fadeIn("fast"),this.album.length>1&&this.options.showImageNumberLabel?this.$lightbox.find(".lb-number").text(this.options.albumLabel(this.currentImageIndex+1,this.album.length)).fadeIn("fast"):this.$lightbox.find(".lb-number").hide(),this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.resizeDuration,function(){return a.sizeOverlay()})},b.prototype.preloadNeighboringImages=function(){var a,b;this.album.length>this.currentImageIndex+1&&(a=new Image,a.src=this.album[this.currentImageIndex+1].link),this.currentImageIndex>0&&(b=new Image,b.src=this.album[this.currentImageIndex-1].link)},b.prototype.enableKeyboardNav=function(){a(document).on("keyup.keyboard",a.proxy(this.keyboardAction,this))},b.prototype.disableKeyboardNav=function(){a(document).off(".keyboard")},b.prototype.keyboardAction=function(a){var b,c,d,e,f;b=27,c=37,d=39,f=a.keyCode,e=String.fromCharCode(f).toLowerCase(),f===b||e.match(/x|o|c/)?this.end():"p"===e||f===c?0!==this.currentImageIndex&&this.changeImage(this.currentImageIndex-1):("n"===e||f===d)&&this.currentImageIndex!==this.album.length-1&&this.changeImage(this.currentImageIndex+1)},b.prototype.end=function(){return this.disableKeyboardNav(),a(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),a("select, object, embed").css({visibility:"visible"})},b}(),a(function(){var a,d;return d=new c,a=new b(d)})}.call(this),function(a){a.fn.html5lightbox=function(b){var c=this;c.options=jQuery.extend({autoplay:!0,html5player:!0,overlaybgcolor:"#000000",overlayopacity:.9,bgcolor:"#ffffff",bordersize:8,barheight:36,loadingwidth:64,loadingheight:64,resizespeed:400,fadespeed:400,skinfolder:"skins/",loadingimage:"static/img/lightbox-loading.gif",nextimage:"static/img/lightbox-next.png",previmage:"static/img/lightbox-prev.png",closeimage:"static/img/lightbox-close.png",playvideoimage:"static/img/lightbox-playvideo.png",titlecss:"{color:#333333; font-size:16px; font-family:Armata,sans-serif,Arial; overflow:hidden; white-space:nowrap;}",errorwidth:280,errorheight:48,errorcss:"{text-align:center; color:#ff0000; font-size:14px; font-family:Arial, sans-serif;}",supportesckey:!0,supportarrowkeys:!0,version:"1.8",stamp:!1,freemark:"html5box.com",freelink:"http://html5box.com/",watermark:"",watermarklink:""},b),"undefined"!=typeof html5lightbox_options&&html5lightbox_options&&jQuery.extend(c.options,html5lightbox_options),c.options.htmlfolder=window.location.href.substr(0,window.location.href.lastIndexOf("/")+1),"/"!=c.options.skinfolder.charAt(0)&&"http:"!=c.options.skinfolder.substring(0,5)&&"https:"!=c.options.skinfolder.substring(0,6)&&(c.options.skinfolder=c.options.jsfolder+c.options.skinfolder),c.options.types=["IMAGE","FLASH","VIDEO","YOUTUBE","VIMEO","PDF","MP3","WEB"],c.elemArray=new Array,c.options.curElem=-1,c.options.flashInstalled=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(c.options.flashInstalled=!0)}catch(d){navigator.mimeTypes["application/x-shockwave-flash"]&&(c.options.flashInstalled=!0)}c.options.html5VideoSupported=!!document.createElement("video").canPlayType,c.options.isChrome=null!=navigator.userAgent.match(/Chrome/i),c.options.isFirefox=null!=navigator.userAgent.match(/Firefox/i),c.options.isOpera=null!=navigator.userAgent.match(/Opera/i),c.options.isSafari=null!=navigator.userAgent.match(/Safari/i),c.options.isIE=null!=navigator.userAgent.match(/MSIE/i)&&!c.options.isOpera,c.options.isIE9=c.options.isIE&&c.options.html5VideoSupported,c.options.isIE678=c.options.isIE&&!c.options.isIE9,c.options.isIE6=null!=navigator.userAgent.match(/MSIE 6/i)&&!c.options.isOpera,c.options.isAndroid=null!=navigator.userAgent.match(/Android/i),c.options.isIPad=null!=navigator.userAgent.match(/iPad/i),c.options.isIPhone=null!=navigator.userAgent.match(/iPod/i)||null!=navigator.userAgent.match(/iPhone/i),c.options.isMobile=c.options.isAndroid||c.options.isIPad||c.options.isIPhone,c.options.isIOSLess5=c.options.isIPad&&c.options.isIPhone&&(null!=navigator.userAgent.match(/OS 4/i)||null!=navigator.userAgent.match(/OS 3/i)),c.options.supportCSSPositionFixed=!c.options.isIE6&&!c.options.isIOSLess5,c.options.resizeTimeout=-1;var c=this;c.init=function(){c.showing=!1,c.readData(),c.createMarkup(),c.supportKeyboard()};var e=0,f=1,g=2,h=3,i=4,j=5,k=6,l=7;return c.readData=function(){c.each(function(){if("a"==this.nodeName.toLowerCase()){var b=a(this),d=c.checkType(b.attr("href"));0>d||c.elemArray.push(new Array(d,b.attr("href"),b.attr("title"),b.data("group"),b.data("width"),b.data("height"),b.data("webm"),b.data("ogg")))}})},c.createMarkup=function(){var b=("https:"==document.location.protocol?"https":"http")+"://fonts.googleapis.com/css?family=Armata",d=document.createElement("link");d.setAttribute("rel","stylesheet"),d.setAttribute("type","text/css"),d.setAttribute("href",b),document.getElementsByTagName("head")[0].appendChild(d);var e="#html5-text "+c.options.titlecss;if(e+=".html5-error "+c.options.errorcss,a("head").append("<style type='text/css'>"+e+"</style>"),c.$lightbox=jQuery("<div id='html5-lightbox' style='display:none;top:0px;left:0px;width:100%;height:100%;z-index:9999999;'><div id='html5-lightbox-overlay' style='display:block;position:absolute;top:0px;left:0px;width:100%;height:100%;background-color:"+c.options.overlaybgcolor+";opacity:"+c.options.overlayopacity+";filter:alpha(opacity="+Math.round(100*c.options.overlayopacity)+");'></div><div id='html5-lightbox-box' style='display:block;position:relative;margin:0px auto;overflow:hidden;'><div id='html5-elem-box' style='display:block;position:relative;margin:0px auto;text-align:center;'><div id='html5-elem-wrap' style='display:block;position:relative;margin:0px auto;text-align:center;background-color:"+c.options.bgcolor+";'><div id='html5-loading' style='display:none;position:absolute;top:0px;left:0px;text-align:center;width:100%;height:100%;background:url(\""+c.options.skinfolder+c.options.loadingimage+"\") no-repeat center center;'></div><div id='html5-error' class='html5-error' style='display:none;position:absolute;padding:"+c.options.bordersize+"px;text-align:center;width:"+c.options.errorwidth+"px;height:"+c.options.errorheight+"px;'>The requested content cannot be loaded.<br />Please try again later.</div><div id='html5-image' style='display:none;position:absolute;top:0px;left:0px;padding:"+c.options.bordersize+"px;text-align:center;'></div></div><div id='html5-next' style='display:none;cursor:pointer;position:absolute;right:"+c.options.bordersize+"px;top:40%;'><img src='"+c.options.skinfolder+c.options.nextimage+"'></div><div id='html5-prev' style='display:none;cursor:pointer;position:absolute;left:"+c.options.bordersize+"px;top:40%;'><img src='"+c.options.skinfolder+c.options.previmage+"'></div></div><div id='html5-elem-data-box' style='display:none;position:relative;width:100%;margin:0px auto;height:"+c.options.barheight+"px;background-color:"+c.options.bgcolor+";'><div id='html5-text' style='display:block;float:left;overflow:hidden;margin-left:"+c.options.bordersize+"px;'></div><div id='html5-close' style='display:block;cursor:pointer;float:right;margin-right:"+c.options.bordersize+"px;'><img src='"+c.options.skinfolder+c.options.closeimage+"'></div></div><div id='html5-watermark' style='display:none;position:absolute;left:"+String(c.options.bordersize+2)+"px;top:"+String(c.options.bordersize+2)+"px;'></div></div></div>"),c.$lightbox.css({position:c.options.supportCSSPositionFixed?"fixed":"absolute"}),c.$lightbox.appendTo("body"),c.$lightboxBox=a("#html5-lightbox-box",c.$lightbox),c.$elem=a("#html5-elem-box",c.$lightbox),c.$elemWrap=a("#html5-elem-wrap",c.$lightbox),c.$loading=a("#html5-loading",c.$lightbox),c.$error=a("#html5-error",c.$lightbox),c.$image=a("#html5-image",c.$lightbox),c.$elemData=a("#html5-elem-data-box",c.$lightbox),c.$text=a("#html5-text",c.$lightbox),c.$next=a("#html5-next",c.$lightbox),c.$prev=a("#html5-prev",c.$lightbox),c.$close=a("#html5-close",c.$lightbox),c.$watermark=a("#html5-watermark",c.$lightbox),c.options.stamp)c.$watermark.html("<a href='"+c.options.freelink+"' style='text-decoration:none;'><div style='display:block;width:120px;height:20px;text-align:center;border-radius:5px;-moz-border-radius:5px;-webkit-border-radius:5px;filter:alpha(opacity=60);opacity:0.6;background-color:#333333;color:#ffffff;font:12px Armata,sans-serif,Arial;'><div style='line-height:20px;'>"+c.options.freemark+"</div></div></a>");else if(c.options.watermark){var f="<img src='"+c.options.watermark+"' style='border:none;' />";c.options.watermarklink&&(f="<a href='"+c.options.watermarklink+"' target='_blank'>"+f+"</a>"),c.$watermark.html(f)}a("#html5-lightbox-overlay",c.$lightbox).click(c.finish),c.$close.click(c.finish),c.$next.click(function(){c.gotoSlide(-1)}),c.$prev.click(function(){c.gotoSlide(-2)}),a(window).resize(function(){c.options.isMobile||(clearTimeout(c.options.resizeTimeout),c.options.resizeTimeout=setTimeout(function(){c.resizeWindow()},500))}),a(window).scroll(function(){c.scrollBox()}),a(window).bind("orientationchange",function(){c.options.isMobile&&c.resizeWindow()}),c.enableSwipe()},c.calcNextPrevElem=function(){c.options.nextElem=-1,c.options.prevElem=-1;var a,b=c.elemArray[c.options.curElem][h];if(void 0!=b&&null!=b){for(a=c.options.curElem+1;a<c.elemArray.length;a++)if(c.elemArray[a][h]==b){c.options.nextElem=a;break}if(c.options.nextElem<0)for(a=0;a<c.options.curElem;a++)if(c.elemArray[a][h]==b){c.options.nextElem=a;break}if(c.options.nextElem>=0){for(a=c.options.curElem-1;a>=0;a--)if(c.elemArray[a][h]==b){c.options.prevElem=a;break}if(c.options.prevElem<0)for(a=c.elemArray.length-1;a>c.options.curElem;a--)if(c.elemArray[a][h]==b){c.options.prevElem=a;break}}}},c.clickHandler=function(){if(c.elemArray.length<=0)return!0;var b=a(this);c.hideObjects();for(var d=0;d<c.elemArray.length&&c.elemArray[d][f]!=b.attr("href");d++);if(d==c.elemArray.length)return!0;c.options.curElem=d,c.options.nextElem=-1,c.options.prevElem=-1,c.calcNextPrevElem(),c.$next.hide(),c.$prev.hide(),c.reset(),c.$lightbox.show(),c.options.supportCSSPositionFixed||c.$lightbox.css("top",a(window).scrollTop());var e=c.options.loadingwidth+2*c.options.bordersize,g=c.options.loadingheight+2*c.options.bordersize,h=Math.round(a(window).height()/2-(g+c.options.barheight)/2);return c.$lightboxBox.css({"margin-top":h,width:e,height:g}),c.$elemWrap.css({width:e,height:g}),c.loadCurElem(),!1},c.loadElem=function(b){switch(c.showing=!0,c.$elem.unbind("mouseenter").unbind("mouseleave").unbind("mousemove"),c.$next.hide(),c.$prev.hide(),c.$loading.show(),b[e]){case 0:var d=new Image;a(d).load(function(){c.showImage(b,d.width,d.height)}),a(d).error(function(){c.showError()}),d.src=b[f];break;case 1:c.showSWF(b);break;case 2:c.showVideo(b);break;case 3:case 4:c.showYoutubeVimeo(b);break;case 5:c.showPDF(b);break;case 6:c.showMP3(b);break;case 7:c.showWeb(b)}},c.loadCurElem=function(){c.loadElem(c.elemArray[c.options.curElem])},c.showError=function(){c.$loading.hide(),c.resizeLightbox(c.options.errorwidth,c.options.errorheight,!0,function(){c.$error.show(),c.$elem.fadeIn(c.options.fadespeed,function(){c.showData()})})},c.calcTextWidth=function(a){var b=a-36;return(c.options.prevElem>0||c.options.nextElem>0)&&(b-=36),b},c.showImage=function(a,b,d){var e,h;a[i]?e=a[i]:(e=b,a[i]=b),a[j]?h=a[j]:(h=d,a[j]=d);var k=c.calcElemSize({w:e,h:h});c.resizeLightbox(k.w,k.h,!0,function(){c.$text.css({width:c.calcTextWidth(k.w)}),c.$text.html(a[g]),c.$image.show().css({width:k.w,height:k.h}),c.$image.html("<img src='"+a[f]+"' width='"+k.w+"' height='"+k.h+"' />"),c.$elem.fadeIn(c.options.fadespeed,function(){c.showData()})})},c.showSWF=function(b){var d=b[i]?b[i]:480,e=b[j]?b[j]:270,h=c.calcElemSize({w:d,h:e});d=h.w,e=h.h,c.resizeLightbox(d,e,!0,function(){c.$text.css({width:c.calcTextWidth(d)}),c.$text.html(b[g]),c.$image.html("<div id='html5lightbox-swf' style='display:block;width:"+d+"px;height:"+e+"px;'></div>").show(),c.embedFlash(a("#html5lightbox-swf"),d,e,b[f],"window",{width:d,height:e}),c.$elem.show(),c.showData()})},c.showVideo=function(b){var d=b[i]?b[i]:480,e=b[j]?b[j]:270,h=c.calcElemSize({w:d,h:e});d=h.w,e=h.h,c.resizeLightbox(d,e,!0,function(){c.$text.css({width:c.calcTextWidth(d)}),c.$text.html(b[g]),c.$image.html("<div id='html5lightbox-video' style='display:block;width:"+d+"px;height:"+e+"px;'></div>").show();var h=!1;if(c.options.isMobile?h=!0:!c.options.html5player&&c.options.flashInstalled||!c.options.html5VideoSupported||(!c.options.isFirefox||c.options.isFirefox&&(b[l]||b[k]))&&(h=!0),h){var i=b[f];(c.options.isFirefox||!i)&&(i=b[k]?b[k]:b[l]),c.embedHTML5Video(a("#html5lightbox-video"),d,e,i,c.options.autoplay)}else{var j=b[f];"/"!=j.charAt(0)&&"http:"!=j.substring(0,5)&&"https:"!=j.substring(0,6)&&(j=c.options.htmlfolder+j),c.embedFlash(a("#html5lightbox-video"),d,e,c.options.jsfolder+"html5boxplayer.swf","transparent",{width:d,height:e,videofile:j,hdfile:"",ishd:"0",autoplay:c.options.autoplay?"1":"0",errorcss:".html5box-error"+c.options.errorcss,id:0})}c.$elem.show(),c.showData()})},c.prepareYoutubeHref=function(a){var b="",c=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\??v?=?))([^#\&\?]*).*/,d=a.match(c);return d&&d[7]&&11==d[7].length&&(b=d[7]),"http://www.youtube.com/embed/"+b},c.showYoutubeVimeo=function(b){var d=b[i]?b[i]:480,h=b[j]?b[j]:270,k=c.calcElemSize({w:d,h:h});d=k.w,h=k.h,c.resizeLightbox(d,h,!0,function(){c.$text.css({width:c.calcTextWidth(d)}),c.$text.html(b[g]),c.$image.html("<div id='html5lightbox-video' style='display:block;width:"+d+"px;height:"+h+"px;'></div>").show();var i=b[f];3==b[e]&&(i=c.prepareYoutubeHref(i)),c.options.autoplay&&(i+=i.indexOf("?")<0?"?autoplay=1":"&autoplay=1"),3==b[e]&&(i+=i.indexOf("?")<0?"?wmode=transparent&rel=0":"&wmode=transparent&rel=0"),a("#html5lightbox-video").html("<iframe width='"+d+"' height='"+h+"' src='"+i+"' frameborder='0' webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>"),c.$elem.show(),c.showData()})},c.showPDF=function(){},c.showMP3=function(){},c.showWeb=function(b){var d=b[i]?b[i]:a(window).width(),e=b[j]?b[j]:a(window).height(),h=c.calcElemSize({w:d,h:e});d=h.w,e=h.h,c.resizeLightbox(d,e,!0,function(){c.$text.css({width:c.calcTextWidth(d)}),c.$text.html(b[g]),c.$image.html("<div id='html5lightbox-web' style='display:block;width:"+d+"px;height:"+e+"px;'></div>").show(),a("#html5lightbox-web").html("<iframe width='"+d+"' height='"+e+"' src='"+b[f]+"' frameborder='0'></iframe>"),c.$elem.show(),c.showData()})},c.scrollBox=function(){c.options.supportCSSPositionFixed||c.$lightbox.css("top",a(window).scrollTop())},c.resizeWindow=function(){var b=Math.round(a(window).height()/2-(c.$lightboxBox.height()+c.options.barheight)/2);c.$lightboxBox.animate({"margin-top":b},c.options.resizespeed)},c.calcElemSize=function(b){var d=a(window).height()-c.options.barheight-2*c.options.bordersize;b.h>d&&(b.w=Math.round(b.w*d/b.h),b.h=d);var e=a(window).width()-2*c.options.bordersize;return b.w>e&&(b.h=Math.round(b.h*e/b.w),b.w=e),b},c.showData=function(){c.$elemData.show(),c.$lightboxBox.animate({height:c.$lightboxBox.height()+c.options.barheight},{queue:!0,duration:c.options.resizespeed})},c.resizeLightbox=function(b,d,e,f){var g=e?c.options.resizespeed:0,h=b+2*c.options.bordersize,i=d+2*c.options.bordersize,j=Math.round(a(window).height()/2-(i+c.options.barheight)/2);h==c.$elemWrap.width()&&i==c.$elemWrap.height()&&(g=0),c.$loading.hide(),c.$watermark.hide(),c.$elem.bind("mouseenter mousemove",function(){(c.options.prevElem>=0||c.options.nextElem>=0)&&(c.$next.fadeIn(),c.$prev.fadeIn())}),c.$elem.bind("mouseleave",function(){c.$next.fadeOut(),c.$prev.fadeOut()}),c.$lightboxBox.animate({"margin-top":j},g,function(){c.$lightboxBox.css({width:h,height:i}),c.$elemWrap.animate({width:h},g).animate({height:i},g,function(){c.$loading.show(),c.$watermark.show(),f()})})},c.reset=function(){c.options.stamp&&c.$watermark.hide(),c.showing=!1,c.$image.empty(),c.$text.empty(),c.$error.hide(),c.$loading.hide(),c.$image.hide(),c.$elemData.hide()},c.finish=function(){c.reset(),c.$lightbox.hide(),c.showObjects()},c.pauseSlide=function(){},c.playSlide=function(){},c.gotoSlide=function(a){if(-1==a){if(c.options.nextElem<0)return;c.options.curElem=c.options.nextElem}else if(-2==a){if(c.options.prevElem<0)return;c.options.curElem=c.options.prevElem}c.calcNextPrevElem(),c.reset(),c.loadCurElem()},c.supportKeyboard=function(){a(document).keyup(function(a){c.showing&&(c.options.supportesckey&&27==a.keyCode?c.finish():c.options.supportarrowkeys&&(39==a.keyCode?c.gotoSlide(-1):37==a.keyCode&&c.gotoSlide(-2)))})},c.enableSwipe=function(){c.$elem.touchSwipe({preventWebBrowser:!0,swipeLeft:function(){c.gotoSlide(-1)},swipeRight:function(){c.gotoSlide(-2)}})},c.hideObjects=function(){a("select, embed, object").css({visibility:"hidden"})},c.showObjects=function(){a("select, embed, object").css({visibility:"visible"})},c.embedHTML5Video=function(b,d,e,f,g){if(b.html("<div style='position:absolute;display:block;width:"+d+"px;height:"+e+"px;'><video width="+d+" height="+e+(g?" autoplay":"")+" controls='controls' src='"+f+"'></div>"),c.options.isAndroid){var h=a("<div style='position:absolute;display:block;cursor:pointer;width:"+d+"px;height:"+e+'px;background:url("'+c.options.skinfolder+c.options.playvideoimage+"\") no-repeat center center;'></div>").appendTo(b);h.unbind("click").click(function(){a("video",a(this).parent())[0].play()})}},c.embedFlash=function(b,d,e,f,g,h){if(c.options.flashInstalled){var i={pluginspage:"http://www.adobe.com/go/getflashplayer",quality:"high",allowFullScreen:"true",allowScriptAccess:"always",type:"application/x-shockwave-flash"};i.width=d,i.height=e,i.src=f,i.flashVars=a.param(h),i.wmode=g;var j="";for(var k in i)j+=k+"="+i[k]+" ";b.html("<embed "+j+"/>")}else b.html("<div class='html5lightbox-flash-error' style='display:block; position:relative;text-align:center; width:"+d+"px; left:0px; top:"+Math.round(e/2-10)+"px;'><div class='html5-error'><div>The required Adobe Flash Player plugin is not installed</div><br /><div style='display:block;position:relative;text-align:center;width:112px;height:33px;margin:0px auto;'><a href='http://www.adobe.com/go/getflashplayer'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player' width='112' height='33'></img></a></div></div>")},c.checkType=function(a){return a?a.match(/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i)?0:a.match(/[^\.]\.(swf)\s*$/i)?1:a.match(/\.(flv|mp4|m4v|ogv|ogg|webm)(.*)?$/i)?2:a.match(/\:\/\/.*(youtube\.com)/i)||a.match(/\:\/\/.*(youtu\.be)/i)?3:a.match(/\:\/\/.*(vimeo\.com)/i)?4:a.match(/[^\.]\.(pdf)\s*$/i)?5:a.match(/[^\.]\.(mp3)\s*$/i)?6:7:-1},c.showLightbox=function(b,d,e,f,g,h,i){c.$next.hide(),c.$prev.hide(),c.reset(),c.$lightbox.show(),c.options.supportCSSPositionFixed||c.$lightbox.css("top",a(window).scrollTop());var j=c.options.loadingwidth+2*c.options.bordersize,k=c.options.loadingheight+2*c.options.bordersize,l=Math.round(a(window).height()/2-(k+c.options.barheight)/2);c.$lightboxBox.css({"margin-top":l,width:j,height:k}),c.$elemWrap.css({width:j,height:k}),c.loadElem(new Array(b,d,e,null,f,g,h,i))},c.addItem=function(a,b,d,e,f,g,h){type=c.checkType(a),c.elemArray.push(new Array(type,a,b,d,e,f,g,h))},c.showItem=function(b){if(c.elemArray.length<=0)return!0;c.hideObjects();for(var d=0;d<c.elemArray.length&&c.elemArray[d][f]!=b;d++);if(d==c.elemArray.length)return!0;c.options.curElem=d,c.options.nextElem=-1,c.options.prevElem=-1,c.calcNextPrevElem(),c.$next.hide(),c.$prev.hide(),c.reset(),c.$lightbox.show(),c.options.supportCSSPositionFixed||c.$lightbox.css("top",a(window).scrollTop());var e=c.options.loadingwidth+2*c.options.bordersize,g=c.options.loadingheight+2*c.options.bordersize,h=Math.round(a(window).height()/2-(g+c.options.barheight)/2);return c.$lightboxBox.css({"margin-top":h,width:e,height:g}),c.$elemWrap.css({width:e,height:g}),c.loadCurElem(),!1},c.init(),c.unbind("click").click(c.clickHandler)}}(jQuery);var ASPlatforms={flashInstalled:function(){var a=!1;try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")&&(a=!0)}catch(b){navigator.mimeTypes["application/x-shockwave-flash"]&&(a=!0)}return a},html5VideoSupported:function(){return!!document.createElement("video").canPlayType},isChrome:function(){return null!=navigator.userAgent.match(/Chrome/i)},isFirefox:function(){return null!=navigator.userAgent.match(/Firefox/i)},isOpera:function(){return null!=navigator.userAgent.match(/Opera/i)},isSafari:function(){return null!=navigator.userAgent.match(/Safari/i)},isAndroid:function(){return null!=navigator.userAgent.match(/Android/i)},isIPad:function(){return null!=navigator.userAgent.match(/iPad/i)},isIPhone:function(){return null!=navigator.userAgent.match(/iPod/i)||null!=navigator.userAgent.match(/iPhone/i)},isIOS:function(){return this.isIPad()||this.isIPhone()},isMobile:function(){return this.isAndroid()||this.isIPad()||this.isIPhone()},isIE:function(){return null!=navigator.userAgent.match(/MSIE/i)&&!this.isOpera()},isIE10:function(){return null!=navigator.userAgent.match(/MSIE 10/i)&&!this.isOpera()},isIE9:function(){return null!=navigator.userAgent.match(/MSIE 9/i)&&!this.isOpera()},isIE8:function(){return null!=navigator.userAgent.match(/MSIE 8/i)&&!this.isOpera()},isIE7:function(){return null!=navigator.userAgent.match(/MSIE 7/i)&&!this.isOpera()},isIE6:function(){return null!=navigator.userAgent.match(/MSIE 6/i)&&!this.isOpera()},isIE678:function(){return this.isIE6()||this.isIE7()||this.isIE8()},isIE6789:function(){return this.isIE6()||this.isIE7()||this.isIE8()||this.isIE9()},css33dTransformSupported:function(){return!(this.isIE6()||this.isIE7()||this.isIE8()||this.isIE9()||this.isOpera())},applyBrowserStyles:function(a,b){var c={};for(var d in a)c[d]=a[d],c["-webkit-"+d]=b?"-webkit-"+a[d]:a[d],c["-moz-"+d]=b?"-moz-"+a[d]:a[d],c["-ms-"+d]=b?"-ms-"+a[d]:a[d],c["-o-"+d]=b?"-o-"+a[d]:a[d];return c}};!function(a){a.fn.amazingslider=function(b){var c=1,d=2,e=3,f=4,g=5,h=6,i=7,j=8,k=9,l=10,m=11,n=12,o=5,p=6,q=7,r=8,s=9,t=10,u=function(a,b,c){this.container=a,this.options=b,this.id=c,this.transitionTimeout=null,this.arrowTimeout=null,this.lightboxArray=[],this.elemArray=[],this.container.children().hide(),this.container.css({display:"block",position:"relative"}),this.initData(this.init)};u.prototype={initData:function(a){this.readTags(),a(this)},readTags:function(){var b=this;if(a(".amazingslider-slides",this.container).find("li").each(function(){var c=a("img",a(this));if(c.length>0){var d=c.data("src")&&c.data("src").length>0?c.data("src"):"",e=c.attr("src")&&c.attr("src").length>0?c.attr("src"):d,f=c.attr("alt")&&c.attr("alt").length>0?c.attr("alt"):"",g=c.data("description")&&c.data("description").length>0?c.data("description"):"",h=c.parent()&&c.parent().is("a")?c.parent().attr("href"):"",i=c.parent()&&c.parent().is("a")?c.parent().attr("target"):"",j=c.parent()&&c.parent().is("a")?c.parent().hasClass("html5lightbox"):!1,k=c.parent()&&j?c.parent().data("width"):0,l=c.parent()&&j?c.parent().data("height"):0,m=c.parent()&&c.parent().is("a")?c.parent().data("webm"):"",n=c.parent()&&c.parent().is("a")?c.parent().data("ogg"):"",o=[];if(a("video",a(this)).length>0){var q=a("video",a(this)),s=q.attr("src"),t=b.checkVideoType(q.attr("src"));
o.push({href:s,type:t}),t==p&&q.data("webm")&&q.data("webm").length>0&&o.push({href:q.data("webm"),type:r})}var u=new Array(b.elemArray.length,e,f,g,h,i,o,"",j,k,l,m,n);b.elemArray.push(u),j&&b.lightboxArray.push(u)}}),a(".amazingslider-thumbnails",this.container).find("li").each(function(c){var d=a("img",a(this));if(d.length>0&&b.elemArray.length>c){var e=d.data("src")&&d.data("src").length>0?d.data("src"):"",f=d.attr("src")&&d.attr("src").length>0?d.attr("src"):e;b.elemArray[c][i]=f}}),this.options.shownumbering)for(var c=0;c<this.elemArray.length;c++){var e=this.options.numberingformat.replace("%NUM",c+1).replace("%TOTAL",this.elemArray.length);this.elemArray[c][d]=e+this.elemArray[c][d]}},init:function(a){if(!(a.elemArray.length<=0)){a.isAnimating=!1,a.isPaused=!a.options.autoplay,a.tempPaused=!1,a.initVideoApi(),a.createMarkup(),a.createStyle(),a.createNav(),a.createArrows(),a.createBottomShadow(),a.createBackgroundImage(),a.createText(),a.createSliderTimeout(),a.createWatermark(),a.createRibbon(),a.createGoogleFonts(),a.initHtml5Lightbox(),a.curElem=-1,a.prevElem=-1,a.nextElem=-1,a.firstslide=!0,a.loopCount=0,a.pauseCarousel=!1;var b=0,c=a.getParams(),d=parseInt(c.firstslideid);!isNaN(d)&&d>=1&&d<=a.elemArray.length?b=d-1:a.options.randomplay&&(b=Math.floor(Math.random()*a.elemArray.length)),a.slideRun(b)}},getParams:function(){for(var a={},b=window.location.search.substring(1).split("&"),c=0;c<b.length;c++){var d=b[c].split("=");d&&2==d.length&&(a[d[0].toLowerCase()]=unescape(d[1]))}return a},initHtml5Lightbox:function(){var b;if(this.lightboxArray.length>0){var c=this.options.skinsfoldername.length>0?this.options.skinsfoldername+"/":"";for(this.html5Lightbox=a([]).html5lightbox({jsfolder:this.options.jsfolder,skinfolder:c}),b=0;b<this.lightboxArray.length;b++)this.html5Lightbox.addItem(this.lightboxArray[b][f],this.lightboxArray[b][d],"amazingslider"+this.id,this.lightboxArray[b][k],this.lightboxArray[b][l],this.lightboxArray[b][m],this.lightboxArray[b][n])}},createGoogleFonts:function(){if(!this.options.previewmode&&this.options.addgooglefonts&&this.options.googlefonts&&this.options.googlefonts.length>0){var a=("https:"==document.location.protocol?"https":"http")+"://fonts.googleapis.com/css?family="+this.options.googlefonts,b=document.createElement("link");b.setAttribute("rel","stylesheet"),b.setAttribute("type","text/css"),b.setAttribute("href",a),document.getElementsByTagName("head")[0].appendChild(b)}},createRibbon:function(){!this.options.showribbon||this.options.ribbonimage.length<=0||a(".amazingslider-ribbon-"+this.id,this.container).html("<img src='"+this.options.skinsfolder+this.options.ribbonimage+"' style='border:none;' />")},createWatermark:function(){if(this.options.showwatermark&&!("text"==this.options.watermarkstyle&&this.options.watermarktext.length<=0||"image"==this.options.watermarkstyle&&this.options.watermarkimage.length<=0)){var b="";this.options.watermarklink&&(b+="<a href='"+this.options.watermarklink+"' style='"+this.options.watermarklinkcss+"'",this.options.watermarktarget&&(b+=" target='"+this.options.watermarktarget+"'"),b+=">"),"text"==this.options.watermarkstyle?b+=this.options.watermarktext:"image"==this.options.watermarkstyle&&(b+="<img src='"+this.options.skinsfolder+this.options.watermarkimage+"' style='border:none;' />"),this.options.watermarklink&&(b+="</a>"),a(".amazingslider-watermark-"+this.id,this.container).html(b)}},initVideoApi:function(){var a,b,c,d=!1,e=!1;for(a=0;a<this.elemArray.length;a++)for(c=this.elemArray[a][h],b=0;b<c.length;b++)c[b].type==s?d=!0:c[b].type==t&&(e=!0);if(d){var f=document.createElement("script");f.src=("https:"==document.location.protocol?"https":"http")+"://www.youtube.com/iframe_api";var g=document.getElementsByTagName("script")[0];g.parentNode.insertBefore(f,g)}if(e){var f=document.createElement("script");f.src=this.options.jsfolder+"froogaloop2.min.js";var g=document.getElementsByTagName("script")[0];g.parentNode.insertBefore(f,g)}},createSliderTimeout:function(){var b=this;this.sliderTimeout=new ASTimer(this.options.slideinterval,function(){b.slideRun(-1)},this.options.showtimer?function(a){b.updateTimer(a)}:null),b.options.pauseonmouseover&&a(".amazingslider-slider-"+this.id,this.container).hover(function(){b.isPaused||b.sliderTimeout.pause()},function(){b.isPaused||b.sliderTimeout.resume()}),b.options.showtimer&&a(".amazingslider-timer-"+b.id,b.container).css({display:"block",position:"absolute",left:"0px",top:"bottom"==b.options.timerposition?"":"0px",bottom:"bottom"==b.options.timerposition?"0px":"",width:"0%",height:b.options.timerheight+"px","background-color":b.options.timercolor,opacity:b.options.timeropacity,filter:"alpha(opacity="+Math.round(100*b.options.timeropacity)+")"})},updateTimer:function(b){w=Math.round(100*b)+1,w>100&&(w=100),0>w&&(w=0),a(".amazingslider-timer-"+this.id,this.container).css({width:w+"%"})},createMarkup:function(){this.$wrapper=jQuery("<div class='amazingslider-wrapper-"+this.id+"'><div class='amazingslider-background-image-"+this.id+"'></div><div class='amazingslider-bottom-shadow-"+this.id+"'></div><div class='amazingslider-slider-"+this.id+"'><div class='amazingslider-box-"+this.id+"'><div class='amazingslider-swipe-box-"+this.id+"'><div class='amazingslider-space-"+this.id+"'></div><div class='amazingslider-img-box-"+this.id+"'></div><div class='amazingslider-lightbox-play-"+this.id+"'></div></div></div><div class='amazingslider-text-wrapper-"+this.id+"'></div><div class='amazingslider-play-"+this.id+"'></div><div class='amazingslider-video-wrapper-"+this.id+"'></div><div class='amazingslider-ribbon-"+this.id+"'></div><div class='amazingslider-arrow-left-"+this.id+"'></div><div class='amazingslider-arrow-right-"+this.id+"'></div><div class='amazingslider-timer-"+this.id+"'></div><div class='amazingslider-watermark-"+this.id+"'></div></div><div class='amazingslider-nav-"+this.id+"'><div class='amazingslider-nav-container-"+this.id+"'></div></div></div>"),this.$wrapper.appendTo(this.container);var b=this;this.options.enabletouchswipe&&a(".amazingslider-swipe-box-"+this.id,this.container).touchSwipe({preventWebBrowser:!1,swipeLeft:function(){b.slideRun(-1)},swipeRight:function(){b.slideRun(-2)}}),a(".amazingslider-play-"+this.id,this.container).click(function(){b.playVideo(!0)})},playVideo:function(a){var b=this.elemArray[this.curElem][h];if(!(b.length<=0)){this.sliderTimeout.stop(),this.tempPaused=!0;var c=b[0].href,d=b[0].type;if(d==s)this.playYoutubeVideo(c,a);else if(d==t)this.playVimeoVideo(c,a);else if(d==p){var e=b.length>1?b[1].href:"";this.playMp4Video(c,e,a)}}},playMp4Video:function(b,c,d){var e=a(".amazingslider-video-wrapper-"+this.id,this.container);e.css({display:"block",width:"100%",height:"100%"});var f=!0;if(ASPlatforms.isIE6789()?f=!1:!ASPlatforms.isFirefox()&&!ASPlatforms.isOpera()||c||(f=!1),f){var g=ASPlatforms.isFirefox()||ASPlatforms.isOpera()?c:b;this.embedHTML5Video(e,g,d)}else{var h=b;"/"!=h.charAt(0)&&"http:"!=h.substring(0,5)&&"https:"!=h.substring(0,6)&&(h=this.options.htmlfolder+h),this.embedFlash(e,"100%","100%",this.options.jsfolder+"html5boxplayer.swf","transparent",{width:"100%",height:"100%",videofile:h,hdfile:"",ishd:"0",autoplay:d?"1":"0",errorcss:".amazingslider-error"+this.options.errorcss,id:this.id})}},embedHTML5Video:function(b,c,d){b.html("<div class='amazingslider-video-container-"+this.id+"' style='position:relative;display:block;width:100%;height:100%;'><video style='width:100%;height:100%;' controls ></div>"),a("video",b).get(0).setAttribute("src",c),d&&a("video",b).get(0).play();var e=this;a("video",b).unbind("ended").bind("ended",function(){e.tempPaused=!1,e.isPaused||e.slideRun(-1)})},embedFlash:function(b,c,d,e,f,g){if(ASPlatforms.flashInstalled()){var h={pluginspage:"http://www.adobe.com/go/getflashplayer",quality:"high",allowFullScreen:"true",allowScriptAccess:"always",type:"application/x-shockwave-flash"};h.width=c,h.height=d,h.src=e,h.wmode=f,h.flashVars=a.param(g);var i="";for(var j in h)i+=j+"="+h[j]+" ";b.html("<embed "+i+"/>")}else b.html("<div class='amazingslider-error-"+this.id+"' style='display:block; position:absolute; text-align:center; width:"+this.options.width+"px; left:0px; top:"+Math.round(this.options.height/2-10)+"px;'><div>The required Adobe Flash Player plugin is not installed</div><br /><div style='display:block;position:relative;text-align:center;width:112px;height:33px;margin:0px auto;'><a href='http://www.adobe.com/go/getflashplayer'><img src='http://www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player' width='112' height='33'></img></a></div>")},playVimeoVideo:function(b,c){var d=a(".amazingslider-video-wrapper-"+this.id,this.container);if(d.css({display:"block",width:"100%",height:"100%"}),this.options.previewmode)return void d.html("<div class='amazingslider-error-"+this.id+"'>To view Vimeo video, publish the slider then open it in your web browser</div>");var e=b+(b.indexOf("?")<0?"?":"&")+"autoplay="+(c?"1":"0")+"&api=1&player_id=amazingslider_vimeo_"+this.id;d.html("<iframe id='amazingslider_vimeo_"+this.id+"' width='"+this.options.width+"' height='"+this.options.height+"' src='"+e+"' frameborder='0' webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>");var f=a("#amazingslider_vimeo_"+this.id)[0],g=$f(f),h=this;g.addEvent("ready",function(){g.addEvent("finish",function(){h.tempPaused=!1,h.isPaused||h.slideRun(-1)})})},playYoutubeVideo:function(b,c){var d=a(".amazingslider-video-wrapper-"+this.id,this.container);if(d.css({display:"block",width:"100%",height:"100%"}),this.options.previewmode)return void d.html("<div class='amazingslider-error-"+this.id+"'>To view YouTube video, publish the slider then open it in your web browser</div>");var e=this;if(!ASYouTubeIframeAPIReady&&(ASYouTubeTimeout+=100,3e3>ASYouTubeTimeout))return void setTimeout(function(){e.playYoutubeVideo(b,c)},100);if(!ASYouTubeIframeAPIReady||ASPlatforms.isIE6()||ASPlatforms.isIE7()||ASPlatforms.isIOS()){var f=b+(b.indexOf("?")<0?"?":"&")+"autoplay=1&wmode=transparent&rel=0&autohide=1";d.html("<iframe width='"+e.options.width+"' height='"+e.options.height+"' src='"+f+"' frameborder='0' webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>")}else{d.html("<div id='amazingslider-video-"+this.id+"' style='display:block;'></div>");var g=b.match(/(\?v=|\/\d\/|\/embed\/|\/v\/|\.be\/)([a-zA-Z0-9\-\_]+)/)[2];new YT.Player("amazingslider-video-"+this.id,{width:e.options.width,height:e.options.height,videoId:g,playerVars:{autoplay:1,rel:0,autohide:1,wmode:"transparent"},events:{onReady:function(a){a.target.playVideo()},onStateChange:function(a){a.data==YT.PlayerState.ENDED&&(e.tempPaused=!1,e.isPaused||e.slideRun(-1))}}})}},checkVideoType:function(a){return a?a.match(/\.(flv)(.*)?$/i)?o:a.match(/\.(mp4|m4v)(.*)?$/i)?p:a.match(/\.(ogv|ogg)(.*)?$/i)?q:a.match(/\.(webm)(.*)?$/i)?r:a.match(/\:\/\/.*(youtube\.com)/i)||a.match(/\:\/\/.*(youtu\.be)/i)?s:a.match(/\:\/\/.*(vimeo\.com)/i)?t:0:-1},createText:function(){if("none"!=this.options.textstyle){var b=this,c=a(".amazingslider-text-wrapper-"+this.id,this.container);if("static"==this.options.textstyle)switch(c.html("<div class='amazingslider-text-"+this.id+"'><div class='amazingslider-text-bg-"+this.id+"'></div><div class='amazingslider-title-"+this.id+"'></div><div class='amazingslider-description-"+this.id+"'></div></div>"),c.css({display:this.options.textautohide?"none":"block",overflow:"hidden",width:"100%",height:"auto",position:"absolute"}),this.options.textautohide&&a(".amazingslider-slider-"+this.id,this.container).hover(function(){a(".amazingslider-text-wrapper-"+b.id,b.container).fadeIn()},function(){a(".amazingslider-text-wrapper-"+b.id,b.container).fadeOut()}),this.options.textpositionstatic){case"top":c.css({left:"0px",top:"0px","margin-top":this.options.textpositionmarginstatic+"px"});break;case"bottom":c.css({left:"0px",bottom:"0px","margin-bottom":this.options.textpositionmarginstatic+"px"});break;case"topoutside":c.css({left:"0px",bottom:"100%","margin-bottom":this.options.textpositionmarginstatic+"px"});break;case"bottomoutside":c.css({left:"0px",top:"100%","margin-top":this.options.textpositionmarginstatic+"px"})}else c.html("<div class='amazingslider-text-holding-"+this.id+"' style='visibility:hidden;"+this.options.textcss+"'><div class='amazingslider-text-bg-"+this.id+"'></div><div class='amazingslider-title-"+this.id+"'></div><div class='amazingslider-description-"+this.id+"'></div></div><div class='amazingslider-text-"+this.id+"' style='position:absolute;top:0%;left:0%;"+(ASPlatforms.isIE678()?"opacity:inherit;filter:inherit;":"")+"'><div class='amazingslider-text-bg-"+this.id+"'></div><div class='amazingslider-title-"+this.id+"'></div><div class='amazingslider-description-"+this.id+"'></div></div>"),c.css({display:"none",overflow:"hidden",position:"absolute"});a("head").append("<style type='text/css'>.amazingslider-text-"+this.id+" {"+this.options.textcss+"} .amazingslider-text-bg-"+this.id+" {"+this.options.textbgcss+"} .amazingslider-title-"+this.id+" {"+this.options.titlecss+"} .amazingslider-description-"+this.id+" {"+this.options.descriptioncss+"} </style>"),this.container.bind("amazingslider.switchtext",function(c,f,g){var h=a(".amazingslider-text-wrapper-"+b.id,b.container),i=a(".amazingslider-text-bg-"+b.id,b.container),j=a(".amazingslider-title-"+b.id,b.container),k=a(".amazingslider-description-"+b.id,b.container);"static"==b.options.textstyle?(j.html(b.elemArray[g][d]),k.html(b.elemArray[g][e]),b.elemArray[g][d]||b.elemArray[g][e]?i.show():i.hide()):"dynamic"==b.options.textstyle&&(b.elemArray[g][d]||b.elemArray[g][e]?h.fadeOut(function(){var c="bottomleft",f=b.options.textpositiondynamic;switch(f&&(f=f.split(","),c=f[Math.floor(Math.random()*f.length)],c=a.trim(c.toLowerCase())),c){case"topleft":h.css({left:"0px",right:"",top:"0px",bottom:""}),h.css({margin:b.options.textpositionmargintop+"px "+b.options.textpositionmarginleft+"px"});break;case"topright":h.css({left:"",right:"0px",top:"0px",bottom:""}),h.css({margin:b.options.textpositionmargintop+"px "+b.options.textpositionmarginright+"px"});break;case"bottomleft":h.css({left:"0px",right:"",top:"",bottom:"0px"}),h.css({margin:b.options.textpositionmarginbottom+"px "+b.options.textpositionmarginleft+"px"});break;case"bottomright":h.css({left:"",right:"0px",top:"",bottom:"0px"}),h.css({margin:b.options.textpositionmarginbottom+"px "+b.options.textpositionmarginright+"px"})}j.html(b.elemArray[g][d]),k.html(b.elemArray[g][e]);var i=null,l=b.options.texteffect;l&&(l=l.split(","),i=l[Math.floor(Math.random()*l.length)],i=a.trim(i.toLowerCase()));var m=a(".amazingslider-text-"+b.id,b.container);switch(i){case"fade":m.hide(),h.show(),m.delay(500).fadeIn(b.options.texteffectduration);break;case"slide":m.css({left:"-100%",opacity:0,display:"block"}),h.show(),m.delay(500).animate({left:"0%",opacity:1},b.options.texteffectduration,b.options.texteffecteasing);break;default:m.delay(500).show()}}):h.fadeOut())})}},resizeSlider:function(){this.container.parent()&&this.container.parent().width()&&(this.options.width=this.container.parent().width(),this.options.height=Math.round(this.options.width*this.options.originalheight/this.options.originalwidth),a(".amazingslider-space-"+this.id,this.container).css({width:this.options.width,height:this.options.height}),this.container.css({width:this.options.width,height:this.options.height}))},createStyle:function(){if(a(".amazingslider-space-"+this.id,this.container).css({width:this.options.width,height:this.options.height}),this.container.css({width:this.options.width,height:this.options.height}),this.options.isresponsive){this.options.originalwidth=this.options.width,this.options.originalheight=this.options.height,this.resizeSlider();var b=this;a(window).resize(function(){b.resizeSlider()})}var c=".amazingslider-wrapper-"+this.id+" {display:block;position:relative;width:100%;height:auto;}";if(c+=".amazingslider-slider-"+this.id+" {display:block;position:relative;left:0px;top:0px;width:100%;height:auto;",this.options.border>0&&(c+="margin-left:-"+this.options.border+"px;border-width:"+this.options.border+"px;border-style:solid;border-color:"+this.options.bordercolor+";"),this.options.borderradius>0&&(c+="border-radius:"+this.options.borderradius+"px;-moz-border-radius:"+this.options.borderradius+"px;-webkit-border-radius:"+this.options.borderradius+"px;"),this.options.showshadow){var d="0px 0px "+this.options.shadowsize+"px "+this.options.shadowcolor;c+="box-shadow:"+d+";-moz-box-shadow:"+d+";-webkit-box-shadow:"+d+";",(ASPlatforms.isIE678()||ASPlatforms.isIE9)&&(c+="filter:progid:DXImageTransform.Microsoft.Shadow(color="+this.options.shadowcolor+",direction=135,strength="+this.options.shadowsize+");")}if(c+="}",c+=".amazingslider-box-"+this.id+" {display:block;position:relative;left:0px;top:0px;width:100%;height:auto;}",c+=".amazingslider-swipe-box-"+this.id+" {display:block;position:relative;left:0px;top:0px;width:100%;height:auto;}",c+=".amazingslider-space-"+this.id+" {display:block;position:relative;left:0px;top:0px;width:100%;height:auto;visibility:hidden;line-height:0px;font-size:0px;}",c+=".amazingslider-img-box-"+this.id+" {display:block;position:absolute;left:0px;top:0px;width:100%;height:100%;}",c+=".amazingslider-lightbox-play-"+this.id+" {display:none;position:absolute;left:50%;top:50%;cursor:pointer;width:"+this.options.playvideoimagewidth+"px;height:"+this.options.playvideoimageheight+"px;margin-top:-"+Math.round(this.options.playvideoimageheight/2)+"px;margin-left:-"+Math.round(this.options.playvideoimagewidth/2)+"px; background:url('"+this.options.skinsfolder+this.options.playvideoimage+"') no-repeat left top;}",c+=".amazingslider-play-"+this.id+" {display:none;position:absolute;left:50%;top:50%;cursor:pointer;width:"+this.options.playvideoimagewidth+"px;height:"+this.options.playvideoimageheight+"px;margin-top:-"+Math.round(this.options.playvideoimageheight/2)+"px;margin-left:-"+Math.round(this.options.playvideoimagewidth/2)+"px; background:url('"+this.options.skinsfolder+this.options.playvideoimage+"') no-repeat left top;}",c+=".amazingslider-video-wrapper-"+this.id+" {display:none;position:absolute;left:0px;top:0px;background-color:#000;text-align:center;}",c+=".amazingslider-error-"+this.id+" {display:block;position:relative;margin:0 auto;width:80%;top:50%;color:#fff;font:16px Arial,Tahoma,Helvetica,sans-serif;}",this.options.showwatermark&&("text"==this.options.watermarkstyle&&this.options.watermarktext.length>0||"image"==this.options.watermarkstyle&&this.options.watermarkimage.length>0)&&(c+=".amazingslider-watermark-"+this.id+" {"+this.options.watermarkpositioncss,"text"==this.options.watermarkstyle&&this.options.watermarktext.length>0&&(c+=this.options.watermarktextcss),this.options.watermarklink&&(c+="cursor:pointer;"),c+="}"),this.options.showribbon){switch(c+=".amazingslider-ribbon-"+this.id+" {display:block;position:absolute;",this.options.ribbonposition){case"topleft":c+="left:"+this.options.ribbonimagex+"px;top:"+this.options.ribbonimagey+"px;";break;case"topright":c+="right:"+this.options.ribbonimagex+"px;top:"+this.options.ribbonimagey+"px;";break;case"bottomleft":c+="left:"+this.options.ribbonimagex+"px;bottom:"+this.options.ribbonimagey+"px;";break;case"bottomright":c+="right:"+this.options.ribbonimagex+"px;bottom:"+this.options.ribbonimagey+"px;";break;case"top":c+="width:100%;height:auto;margin:0 auto;top:"+this.options.ribbonimagey+"px;";case"bottom":c+="width:100%;height:auto;text-align:center;bottom:"+this.options.ribbonimagey+"px;"}c+="}"}c+=".amazingslider-video-wrapper-"+this.id+" video {max-width:100%;height:auto;}",c+=".amazingslider-video-wrapper-"+this.id+" iframe, .amazingslider-video-wrapper-"+this.id+" object, .amazingslider-video-wrapper-"+this.id+" embed {position:absolute;top:0;left:0;width:100%;height:100%;}","thumbnails"==this.options.navstyle&&"imageonly"!=this.options.navthumbstyle&&(c+=".amazingslider-nav-thumbnail-tite-"+this.id+" {"+this.options.navthumbtitlecss+"}",c+=".amazingslider-nav-thumbnail-tite-"+this.id+":hover {"+this.options.navthumbtitlehovercss+"}","imageandtitledescription"==this.options.navthumbstyle&&(c+=".amazingslider-nav-thumbnail-description-"+this.id+" {"+this.options.navthumbdescriptioncss+"}")),a("head").append("<style type='text/css'>"+c+"</style>")},createBottomShadow:function(){if(this.options.showbottomshadow){var b=a(".amazingslider-bottom-shadow-"+this.id,this.container),c=(100-this.options.bottomshadowimagewidth)/2;b.css({display:"block",position:"absolute",left:c+"%",top:this.options.bottomshadowimagetop+"%",width:this.options.bottomshadowimagewidth+"%",height:"auto"}),b.html("<img src='"+this.options.skinsfolder+this.options.bottomshadowimage+"' style='display:block;position:relative;width:100%;height:auto;' />")}},createBackgroundImage:function(){if(this.options.showbackgroundimage&&this.options.backgroundimage){var b=a(".amazingslider-background-image-"+this.id,this.container),c=(100-this.options.backgroundimagewidth)/2;b.css({display:"block",position:"absolute",left:c+"%",top:this.options.backgroundimagetop+"%",width:this.options.backgroundimagewidth+"%",height:"auto"}),b.html("<img src='"+this.options.skinsfolder+this.options.backgroundimage+"' style='display:block;position:relative;width:100%;height:auto;' />")}},createArrows:function(){if("none"!=this.options.arrowstyle){var b=this,c=a(".amazingslider-arrow-left-"+this.id,this.container),d=a(".amazingslider-arrow-right-"+this.id,this.container);c.css({overflow:"hidden",position:"absolute",cursor:"pointer",width:this.options.arrowwidth+"px",height:this.options.arrowheight+"px",left:this.options.arrowmargin+"px",top:this.options.arrowtop+"%","margin-top":"-"+this.options.arrowheight/2+"px",background:"url('"+this.options.skinsfolder+this.options.arrowimage+"') no-repeat left top"}),ASPlatforms.isIE678()&&c.css({opacity:"inherit",filter:"inherit"}),c.hover(function(){a(this).css({"background-position":"left bottom"})},function(){a(this).css({"background-position":"left top"})}),c.click(function(){b.slideRun(-2)}),d.css({overflow:"hidden",position:"absolute",cursor:"pointer",width:this.options.arrowwidth+"px",height:this.options.arrowheight+"px",right:this.options.arrowmargin+"px",top:this.options.arrowtop+"%","margin-top":"-"+this.options.arrowheight/2+"px",background:"url('"+this.options.skinsfolder+this.options.arrowimage+"') no-repeat right top"}),ASPlatforms.isIE678()&&d.css({opacity:"inherit",filter:"inherit"}),d.hover(function(){a(this).css({"background-position":"right bottom"})},function(){a(this).css({"background-position":"right top"})}),d.click(function(){b.slideRun(-1)}),"always"==this.options.arrowstyle?(c.css({display:"block"}),d.css({display:"block"})):(c.css({display:"none"}),d.css({display:"none"}),a(".amazingslider-slider-"+this.id,this.container).hover(function(){clearTimeout(b.arrowTimeout),ASPlatforms.isIE678()?(a(".amazingslider-arrow-left-"+b.id,b.container).show(),a(".amazingslider-arrow-right-"+b.id,b.container).show()):(a(".amazingslider-arrow-left-"+b.id,b.container).fadeIn(),a(".amazingslider-arrow-right-"+b.id,b.container).fadeIn())},function(){b.arrowTimeout=setTimeout(function(){ASPlatforms.isIE678()?(a(".amazingslider-arrow-left-"+b.id,b.container).hide(),a(".amazingslider-arrow-right-"+b.id,b.container).hide()):(a(".amazingslider-arrow-left-"+b.id,b.container).fadeOut(),a(".amazingslider-arrow-right-"+b.id,b.container).fadeOut())},b.options.arrowhideonmouseleave)}))}},carMoveLeft:function(){var b=a(".amazingslider-nav-container-"+this.id,this.container),c=a(".amazingslider-bullet-wrapper-"+this.id,this.container);if(!(b.width()>=c.width())){this.options.navshowpreview&&a(".amazingslider-nav-preview-"+this.id,this.container).hide();var d=b.width()+this.options.navspacing,e=(isNaN(parseInt(c.css("margin-left")))?0:parseInt(c.css("margin-left")))-d;e<=b.width()-c.width()&&(e=b.width()-c.width()),e>=0&&(e=0),c.animate({"margin-left":e},{queue:!1,duration:500,easing:"easeOutCirc"}),"auto"!=this.options.navthumbnavigationstyle&&this.updateCarouselLeftRightArrow(e)}},carMoveRight:function(){var b=a(".amazingslider-nav-container-"+this.id,this.container),c=a(".amazingslider-bullet-wrapper-"+this.id,this.container);if(!(b.width()>=c.width())){this.options.navshowpreview&&a(".amazingslider-nav-preview-"+this.id,this.container).hide();var d=b.width()+this.options.navspacing,e=(isNaN(parseInt(c.css("margin-left")))?0:parseInt(c.css("margin-left")))+d;e<=b.width()-c.width()&&(e=b.width()-c.width()),e>=0&&(e=0),c.animate({"margin-left":e},{queue:!1,duration:500,easing:"easeOutCirc"}),"auto"!=this.options.navthumbnavigationstyle&&this.updateCarouselLeftRightArrow(e)}},carMoveBottom:function(){var b=a(".amazingslider-nav-container-"+this.id,this.container),c=a(".amazingslider-bullet-wrapper-"+this.id,this.container);if(!(b.height()>=c.height())){this.options.navshowpreview&&a(".amazingslider-nav-preview-"+this.id,this.container).hide();var d=b.height()+this.options.navspacing,e=(isNaN(parseInt(c.css("margin-top")))?0:parseInt(c.css("margin-top")))+d;e<=b.height()-c.height()&&(e=b.height()-c.height()),e>=0&&(e=0),c.animate({"margin-top":e},{queue:!1,duration:500,easing:"easeOutCirc"}),"auto"!=this.options.navthumbnavigationstyle&&this.updateCarouselLeftRightArrow(e)}},carMoveTop:function(){var b=a(".amazingslider-nav-container-"+this.id,this.container),c=a(".amazingslider-bullet-wrapper-"+this.id,this.container);if(!(b.height()>=c.height())){this.options.navshowpreview&&a(".amazingslider-nav-preview-"+this.id,this.container).hide();var d=b.height()+this.options.navspacing,e=(isNaN(parseInt(c.css("margin-top")))?0:parseInt(c.css("margin-top")))-d;e<=b.height()-c.height()&&(e=b.height()-c.height()),e>=0&&(e=0),c.animate({"margin-top":e},{queue:!1,duration:500,easing:"easeOutCirc"}),"auto"!=this.options.navthumbnavigationstyle&&this.updateCarouselLeftRightArrow(e)}},updateCarouselLeftRightArrow:function(b){var c=a(".amazingslider-nav-container-"+this.id,this.container),d=a(".amazingslider-bullet-wrapper-"+this.id,this.container);"vertical"==this.options.navdirection?(0==b?(a(".amazingslider-car-left-arrow-"+this.id,this.container).css({"background-position":"left bottom",cursor:""}),a(".amazingslider-car-left-arrow-"+this.id,this.container).data("disabled",!0)):(a(".amazingslider-car-left-arrow-"+this.id,this.container).css({"background-position":"left top",cursor:"pointer"}),a(".amazingslider-car-left-arrow-"+this.id,this.container).data("disabled",!1)),b==c.height()-d.height()?(a(".amazingslider-car-right-arrow-"+this.id,this.container).css({"background-position":"right bottom",cursor:""}),a(".amazingslider-car-right-arrow-"+this.id,this.container).data("disabled",!0)):(a(".amazingslider-car-right-arrow-"+this.id,this.container).css({"background-position":"right top",cursor:"pointer"}),a(".amazingslider-car-right-arrow-"+this.id,this.container).data("disabled",!1))):(0==b?(a(".amazingslider-car-left-arrow-"+this.id,this.container).css({"background-position":"left bottom",cursor:""}),a(".amazingslider-car-left-arrow-"+this.id,this.container).data("disabled",!0)):(a(".amazingslider-car-left-arrow-"+this.id,this.container).css({"background-position":"left top",cursor:"pointer"}),a(".amazingslider-car-left-arrow-"+this.id,this.container).data("disabled",!1)),b==c.width()-d.width()?(a(".amazingslider-car-right-arrow-"+this.id,this.container).css({"background-position":"right bottom",cursor:""}),a(".amazingslider-car-right-arrow-"+this.id,this.container).data("disabled",!0)):(a(".amazingslider-car-right-arrow-"+this.id,this.container).css({"background-position":"right top",cursor:"pointer"}),a(".amazingslider-car-right-arrow-"+this.id,this.container).data("disabled",!1)))},createNav:function(){if("none"!=this.options.navstyle||this.options.navshowbuttons){var b,c=this,d=a(".amazingslider-nav-"+this.id,this.container),e=a(".amazingslider-nav-container-"+this.id,this.container),f=a("<div class='amazingslider-bullet-wrapper-"+this.id+"' style='display:block;position:relative;'></div>");if("thumbnails"==this.options.navstyle&&(this.options.navimagewidth=this.options.navwidth-2*this.options.navborder,this.options.navimageheight=this.options.navheight-2*this.options.navborder,"imageandtitle"==this.options.navthumbstyle?this.options.navheight+=this.options.navthumbtitleheight:"imageandtitledescription"==this.options.navthumbstyle&&(this.options.navwidth+=this.options.navthumbtitlewidth)),"vertical"==this.options.navdirection){var g="none"==this.options.navstyle?0:this.elemArray.length*this.options.navheight+(this.elemArray.length-1)*this.options.navspacing;this.options.navshowbuttons&&(this.options.navshowarrow&&(g+=g>0?this.options.navspacing:0,g+=2*this.options.navheight+this.options.navspacing),this.options.navshowplaypause&&!this.options.navshowplaypausestandalone&&(g+=g>0?this.options.navspacing:0,g+=this.options.navheight)),f.css({height:g+"px",width:"auto"})}else{var g="none"==this.options.navstyle?0:this.elemArray.length*this.options.navwidth+(this.elemArray.length-1)*this.options.navspacing;this.options.navshowbuttons&&(this.options.navshowarrow&&(g+=g>0?this.options.navspacing:0,g+=2*this.options.navwidth+this.options.navspacing),this.options.navshowplaypause&&!this.options.navshowplaypausestandalone&&(g+=g>0?this.options.navspacing:0,g+=this.options.navwidth)),f.css({width:g+"px",height:"auto"})}e.append(f);var h=0,i="vertical"==this.options.navdirection?this.options.navwidth:this.options.navheight;"thumbnails"==this.options.navstyle&&this.options.navshowfeaturedarrow&&(i+="vertical"==this.options.navdirection?this.options.navfeaturedarrowimagewidth:this.options.navfeaturedarrowimageheight,h="vertical"==this.options.navdirection?this.options.navfeaturedarrowimagewidth:this.options.navfeaturedarrowimageheight);var j="navmarginx"in this.options?this.options.navmarginx:this.options.navmargin,k="navmarginy"in this.options?this.options.navmarginy:this.options.navmargin;switch(d.css({display:"block",position:"absolute",height:"auto"}),this.options.navposition){case"top":f.css({"margin-left":"auto","margin-right":"auto",height:i+"px"}),d.css({overflow:"hidden",width:"100%",top:"0%",left:"0px","margin-top":k+"px"});break;case"topleft":f.css({height:i+"px"}),d.css({overflow:"hidden","max-width":"100%",top:"0px",left:"0px","margin-top":k+"px","margin-left":j+"px"});break;case"topright":f.css({height:i+"px"}),d.css({overflow:"hidden","max-width":"100%",top:"0px",right:"0px","margin-top":k+"px","margin-right":j+"px"});break;case"bottom":f.css({"margin-left":"auto","margin-right":"auto","margin-top":h+"px"}),d.css({overflow:"hidden",width:"100%",top:"100%",left:"0px","margin-top":String(k-h)+"px"});break;case"bottomleft":f.css({"margin-top":h+"px"}),d.css({overflow:"hidden","max-width":"100%",bottom:"0px",left:"0px","margin-bottom":k+"px","margin-top":String(k-h)+"px","margin-left":j+"px"});break;case"bottomright":f.css({"margin-top":h+"px"}),d.css({overflow:"hidden","max-width":"100%",bottom:"0px",right:"0px","margin-bottom":k+"px","margin-top":String(k-h)+"px","margin-right":j+"px"});break;case"left":f.css({width:i+"px"}),d.css({overflow:"hidden",height:"100%",width:i+"px",top:"0%",left:"0%","margin-left":j+"px"}),e.css({display:"block",position:"absolute",top:"0px",bottom:"0px",left:"0px",right:"0px",height:"auto"});break;case"right":f.css({"margin-left":h+"px"}),d.css({overflow:"hidden",height:"100%",width:i+"px",top:"0%",left:"100%","margin-left":String(j-h)+"px"}),e.css({display:"block",position:"absolute",top:"0px",bottom:"0px",left:"0px",right:"0px",height:"auto"})}if("none"!=this.options.navstyle){var l;for(b=0;b<this.elemArray.length;b++)l=this.createNavBullet(b),f.append(l);if(d.mouseenter(function(){c.pauseCarousel=!0}),d.mouseleave(function(){c.pauseCarousel=!1}),"auto"==c.options.navthumbnavigationstyle)d.mousemove(function(a){if("vertical"==c.options.navdirection){if(d.height()>=f.height())return;
var b=a.pageY-d.offset().top;10>b&&(b=0),b>d.height()-10&&(b=d.height());var e=b/d.height(),g=(d.height()-f.height())*e;f.animate({"margin-top":g},{queue:!1,duration:20,easing:"easeOutCubic"})}else{if(d.width()>=f.width())return;var b=a.pageX-d.offset().left;10>b&&(b=0),b>d.width()-10&&(b=d.width());var e=b/d.width(),g=(d.width()-f.width())*e;f.animate({"margin-left":g},{queue:!1,duration:20,easing:"easeOutCubic"})}});else if("vertical"==c.options.navdirection&&f.height()>e.height()||"horizontal"==c.options.navdirection&&f.width()>e.width()){var m=c.options.navthumbnavigationarrowimagewidth+c.options.navspacing;if("horizontal"==c.options.navdirection){{Math.floor((d.width()-2*m+c.options.navspacing)/(c.options.navwidth+c.options.navspacing))}m=35}e.css("vertical"==c.options.navdirection?{"margin-top":m+"px","margin-bottom":m+"px",overflow:"hidden"}:{"margin-left":m+"px","margin-right":m+"px",overflow:"hidden"});var n=a("<div class='amazingslider-car-left-arrow-"+c.id+"' style='display:none;'></div>"),o=a("<div class='amazingslider-car-right-arrow-"+c.id+"' style='display:none;'></div>");d.append(n),d.append(o),n.css({overflow:"hidden",position:"absolute",cursor:"pointer",width:c.options.navthumbnavigationarrowimagewidth+"px",height:c.options.navthumbnavigationarrowimageheight+"px",background:"url('"+c.options.skinsfolder+c.options.navthumbnavigationarrowimage+"') no-repeat left top"}),o.css({overflow:"hidden",position:"absolute",cursor:"pointer",width:c.options.navthumbnavigationarrowimagewidth+"px",height:c.options.navthumbnavigationarrowimageheight+"px",background:"url('"+c.options.skinsfolder+c.options.navthumbnavigationarrowimage+"') no-repeat right top"});var p="vertical"==c.options.navdirection?c.options.navwidth/2-c.options.navthumbnavigationarrowimagewidth/2:c.options.navheight/2-c.options.navthumbnavigationarrowimageheight/2;("bottomleft"==c.options.navposition||"bottomright"==c.options.navposition||"bottom"==c.options.navposition||"right"==c.options.navposition)&&(p+=h),"vertical"==c.options.navdirection?(n.css({top:"0px",left:"0px","margin-left":p+"px"}),o.css({bottom:"0px",left:"0px","margin-left":p+"px"})):(n.css({left:"0px",top:"0px","margin-top":p+"px"}),o.css({right:"0px",top:"0px","margin-top":p+"px"})),ASPlatforms.isIE678()&&n.css({opacity:"inherit",filter:"inherit"}),n.hover(function(){a(this).data("disabled")||a(this).css({"background-position":"left center"})},function(){a(this).data("disabled")||a(this).css({"background-position":"left top"})}),n.click(function(){"vertical"==c.options.navdirection?c.carMoveBottom():c.carMoveRight()}),ASPlatforms.isIE678()&&o.css({opacity:"inherit",filter:"inherit"}),o.hover(function(){a(this).data("disabled")||a(this).css({"background-position":"right center"})},function(){a(this).data("disabled")||a(this).css({"background-position":"right top"})}),o.click(function(){"vertical"==c.options.navdirection?c.carMoveTop():c.carMoveLeft()}),n.css({display:"block","background-position":"left bottom",cursor:""}),n.data("disabled",!0),o.css({display:"block"})}if(d.touchSwipe("vertical"==c.options.navdirection?{preventWebBrowser:!0,swipeTop:function(){c.carMoveTop()},swipeBottom:function(){c.carMoveBottom()}}:{preventWebBrowser:!1,swipeLeft:function(){c.carMoveLeft()},swipeRight:function(){c.carMoveRight()}}),this.container.bind("amazingslider.switch",function(b,d,e){a(".amazingslider-bullet-"+c.id+"-"+d,c.container)["bulletNormal"+c.id](),a(".amazingslider-bullet-"+c.id+"-"+e,c.container)["bulletSelected"+c.id]()}),this.options.navshowpreview){var q=a("<div class='amazingslider-nav-preview-"+this.id+"' style='display:none;position:absolute;width:"+this.options.navpreviewwidth+"px;height:"+this.options.navpreviewheight+"px;background-color:"+this.options.navpreviewbordercolor+";padding:"+c.options.navpreviewborder+"px;'></div>"),r=a("<div class='amazingslider-nav-preview-arrow-"+this.id+"' style='display:block;position:absolute;width:"+this.options.navpreviewarrowwidth+"px;height:"+this.options.navpreviewarrowheight+'px;background:url("'+this.options.skinsfolder+this.options.navpreviewarrowimage+"\") no-repeat center center;' ></div>");switch(this.options.navpreviewposition){case"bottom":r.css({left:"50%",bottom:"100%","margin-left":"-"+Math.round(this.options.navpreviewarrowwidth/2)+"px"});break;case"top":r.css({left:"50%",top:"100%","margin-left":"-"+Math.round(this.options.navpreviewarrowwidth/2)+"px"});break;case"left":r.css({top:"50%",left:"100%","margin-top":"-"+Math.round(this.options.navpreviewarrowheight/2)+"px"});break;case"right":r.css({top:"50%",right:"100%","margin-top":"-"+Math.round(this.options.navpreviewarrowheight/2)+"px"})}var s=a("<div class='amazingslider-nav-preview-images-"+this.id+"' style='display:block;position:relative;width:100%;height:100%;overflow:hidden;' />");if(q.append(r),q.append(s),this.options.navshowplayvideo){var t=a("<div class='amazingslider-nav-preview-play-"+this.id+"' style='display:none;position:absolute;left:0;top:0;width:100%;height:100%;background:url(\""+this.options.skinsfolder+this.options.navplayvideoimage+"\") no-repeat center center;' ></div>");q.append(t)}a(".amazingslider-wrapper-"+this.id,this.container).append(q)}this.options.navshowfeaturedarrow&&f.append("<div class='amazingslider-nav-featuredarrow-"+this.id+"' style='display:none;position:absolute;width:"+this.options.navfeaturedarrowimagewidth+"px;height:"+this.options.navfeaturedarrowimageheight+'px;background:url("'+this.options.skinsfolder+this.options.navfeaturedarrowimage+"\") no-repeat center center;'></div>")}if(this.options.navshowbuttons){var u="vertical"==this.options.navdirection?"top":"left",v="none"==this.options.navstyle?0:this.options.navspacing;if(this.options.navshowarrow){var w=a("<div class='amazingslider-nav-left-"+this.id+"' style='position:relative;float:"+u+";margin-"+u+":"+v+"px;width:"+this.options.navwidth+"px;height:"+this.options.navheight+"px;cursor:pointer;'></div>");f.append(w),this.options.navbuttonradius&&w.css(ASPlatforms.applyBrowserStyles({"border-radius":this.options.navbuttonradius+"px"})),this.options.navbuttoncolor&&w.css({"background-color":this.options.navbuttoncolor}),this.options.navarrowimage&&w.css({"background-image":"url('"+this.options.skinsfolder+this.options.navarrowimage+"')","background-repeat":"no-repeat","background-position":"left top"}),w.hover(function(){c.options.navbuttonhighlightcolor&&a(this).css({"background-color":c.options.navbuttonhighlightcolor}),c.options.navarrowimage&&a(this).css({"background-position":"left bottom"})},function(){c.options.navbuttoncolor&&a(this).css({"background-color":c.options.navbuttoncolor}),c.options.navarrowimage&&a(this).css({"background-position":"left top"})}),w.click(function(){c.slideRun(-2)}),v=this.options.navspacing}if(this.options.navshowplaypause){var x,y;if(this.options.navshowplaypausestandalone)switch(x=a("<div class='amazingslider-nav-play-"+this.id+"' style='position:absolute;width:"+this.options.navshowplaypausestandalonewidth+"px;height:"+this.options.navshowplaypausestandaloneheight+"px;'></div>"),this.$wrapper.append(x),y=a("<div class='amazingslider-nav-pause-"+this.id+"' style='position:absolute;width:"+this.options.navshowplaypausestandalonewidth+"px;height:"+this.options.navshowplaypausestandaloneheight+"px;'></div>"),this.$wrapper.append(y),this.options.navshowplaypausestandaloneposition){case"topleft":x.css({top:0,left:0,"margin-left":this.options.navshowplaypausestandalonemarginx+"px","margin-top":this.options.navshowplaypausestandalonemarginy+"px"}),y.css({top:0,left:0,"margin-left":this.options.navshowplaypausestandalonemarginx+"px","margin-top":this.options.navshowplaypausestandalonemarginy+"px"});break;case"topright":x.css({top:0,right:0,"margin-right":this.options.navshowplaypausestandalonemarginx+"px","margin-top":this.options.navshowplaypausestandalonemarginy+"px"}),y.css({top:0,right:0,"margin-right":this.options.navshowplaypausestandalonemarginx+"px","margin-top":this.options.navshowplaypausestandalonemarginy+"px"});break;case"bottomleft":x.css({bottom:0,left:0,"margin-left":this.options.navshowplaypausestandalonemarginx+"px","margin-bottom":this.options.navshowplaypausestandalonemarginy+"px"}),y.css({bottom:0,left:0,"margin-left":this.options.navshowplaypausestandalonemarginx+"px","margin-bottom":this.options.navshowplaypausestandalonemarginy+"px"});break;case"bottomright":x.css({bottom:0,right:0,"margin-right":this.options.navshowplaypausestandalonemarginx+"px","margin-bottom":this.options.navshowplaypausestandalonemarginy+"px"}),y.css({bottom:0,right:0,"margin-right":this.options.navshowplaypausestandalonemarginx+"px","margin-bottom":this.options.navshowplaypausestandalonemarginy+"px"});break;case"center":x.css({top:"50%",left:"50%","margin-left":"-"+Math.round(this.options.navshowplaypausestandalonewidth/2)+"px","margin-top":"-"+Math.round(this.options.navshowplaypausestandaloneheight/2)+"px"}),y.css({top:"50%",left:"50%","margin-left":"-"+Math.round(this.options.navshowplaypausestandalonewidth/2)+"px","margin-top":"-"+Math.round(this.options.navshowplaypausestandaloneheight/2)+"px"})}else x=a("<div class='amazingslider-nav-play-"+this.id+"' style='position:relative;float:"+u+";margin-"+u+":"+v+"px;width:"+this.options.navwidth+"px;height:"+this.options.navheight+"px;cursor:pointer;'></div>"),f.append(x),y=a("<div class='amazingslider-nav-pause-"+this.id+"' style='position:relative;float:"+u+";margin-"+u+":"+v+"px;width:"+this.options.navwidth+"px;height:"+this.options.navheight+"px;cursor:pointer;'></div>"),f.append(y);this.options.navbuttonradius&&x.css(ASPlatforms.applyBrowserStyles({"border-radius":this.options.navbuttonradius+"px"})),this.options.navbuttoncolor&&x.css({"background-color":this.options.navbuttoncolor}),this.options.navarrowimage&&x.css({"background-image":"url('"+this.options.skinsfolder+this.options.navplaypauseimage+"')","background-repeat":"no-repeat","background-position":"left top"}),x.hover(function(){c.options.navbuttonhighlightcolor&&a(this).css({"background-color":c.options.navbuttonhighlightcolor}),c.options.navarrowimage&&a(this).css({"background-position":"left bottom"})},function(){c.options.navbuttoncolor&&a(this).css({"background-color":c.options.navbuttoncolor}),c.options.navarrowimage&&a(this).css({"background-position":"left top"})}),x.click(function(){c.isPaused=!1,c.loopCount=0,c.tempPaused||c.sliderTimeout.start(),a(this).css({display:"none"}),a(".amazingslider-nav-pause-"+c.id,c.container).css({display:"block"})}),this.options.navbuttonradius&&y.css(ASPlatforms.applyBrowserStyles({"border-radius":this.options.navbuttonradius+"px"})),this.options.navbuttoncolor&&y.css({"background-color":this.options.navbuttoncolor}),this.options.navarrowimage&&y.css({"background-image":"url('"+this.options.skinsfolder+this.options.navplaypauseimage+"')","background-repeat":"no-repeat","background-position":"right top"}),y.hover(function(){c.options.navbuttonhighlightcolor&&a(this).css({"background-color":c.options.navbuttonhighlightcolor}),c.options.navarrowimage&&a(this).css({"background-position":"right bottom"})},function(){c.options.navbuttoncolor&&a(this).css({"background-color":c.options.navbuttoncolor}),c.options.navarrowimage&&a(this).css({"background-position":"right top"})}),y.click(function(){c.isPaused=!0,c.sliderTimeout.stop(),a(this).css({display:"none"}),a(".amazingslider-nav-play-"+c.id,c.container).css({display:"block"})}),this.options.navshowplaypausestandalone&&this.options.navshowplaypausestandaloneautohide?(x.css({display:"none"}),y.css({display:"none"}),this.$wrapper.hover(function(){c.isPaused?(x.fadeIn(),y.css({display:"none"})):(x.css({display:"none"}),y.fadeIn())},function(){x.fadeOut(),y.fadeOut()})):(x.css({display:c.isPaused?"block":"none"}),y.css({display:c.isPaused?"none":"block"}))}if(this.options.navshowarrow){var z=a("<div class='amazingslider-nav-right-"+this.id+"' style='position:relative;float:"+u+";margin-"+u+":"+v+"px;width:"+this.options.navwidth+"px;height:"+this.options.navheight+"px;cursor:pointer;'></div>");f.append(z),this.options.navbuttonradius&&z.css(ASPlatforms.applyBrowserStyles({"border-radius":this.options.navbuttonradius+"px"})),this.options.navbuttoncolor&&z.css({"background-color":this.options.navbuttoncolor}),this.options.navarrowimage&&z.css({"background-image":"url('"+this.options.skinsfolder+this.options.navarrowimage+"')","background-repeat":"no-repeat","background-position":"right top"}),z.hover(function(){c.options.navbuttonhighlightcolor&&a(this).css({"background-color":c.options.navbuttonhighlightcolor}),c.options.navarrowimage&&a(this).css({"background-position":"right bottom"})},function(){c.options.navbuttoncolor&&a(this).css({"background-color":c.options.navbuttoncolor}),c.options.navarrowimage&&a(this).css({"background-position":"right top"})}),z.click(function(){c.slideRun(-1)})}}}},createNavBullet:function(b){var g=this,k="vertical"==this.options.navdirection?"top":"left",l="vertical"==this.options.navdirection?"bottom":"right",m=b==this.elemArray.length-1?0:this.options.navspacing,n="thumbnails"==this.options.navstyle?this.options.navwidth-2*this.options.navborder:this.options.navwidth,o="thumbnails"==this.options.navstyle?this.options.navheight-2*this.options.navborder:this.options.navheight,p=a("<div class='amazingslider-bullet-"+this.id+"-"+b+"' style='position:relative;float:"+k+";margin-"+l+":"+m+"px;width:"+n+"px;height:"+o+"px;cursor:pointer;'></div>");if(p.data("index",b),p.hover(function(){a(this).data("index")!=g.curElem&&a(this)["bulletHighlight"+g.id]();var b=a(this).data("index");if(g.options.navswitchonmouseover&&b!=g.curElem&&g.slideRun(b),g.options.navshowpreview){var c=a(".amazingslider-nav-preview-"+g.id,g.container),d=a(".amazingslider-nav-preview-images-"+g.id,c);if(g.options.navshowplayvideo){var e=a(".amazingslider-nav-preview-play-"+g.id,c);g.elemArray[b][h].length>0||g.elemArray[b][f]&&g.elemArray[b][j]&&g.checkVideoType(g.elemArray[b][f])>0?e.show():e.hide()}var k=a(".amazingslider-nav-"+g.id,g.container),l=a(".amazingslider-bullet-wrapper-"+g.id,g.container),m=a(this).position(),n=k.position(),o=l.position();if(m.left+=n.left+o.left,m.left+=isNaN(parseInt(l.css("margin-left")))?0:parseInt(l.css("margin-left")),m.left+=isNaN(parseInt(k.css("margin-left")))?0:parseInt(k.css("margin-left")),m.top+=n.top+o.top,m.top+=isNaN(parseInt(l.css("margin-top")))?0:parseInt(l.css("margin-top")),m.top+=isNaN(parseInt(k.css("margin-top")))?0:parseInt(k.css("margin-top")),"vertical"==g.options.navdirection){var p=a(".amazingslider-nav-container-"+g.id,g.container);m.top+=isNaN(parseInt(p.css("margin-top")))?0:parseInt(p.css("margin-top"))}var q,r,s=m.left+g.options.navwidth/2-g.options.navpreviewwidth/2-g.options.navpreviewborder,t=m.top+g.options.navheight/2-g.options.navpreviewheight/2-g.options.navpreviewborder,u={};switch(g.options.navpreviewposition){case"bottom":q=m.top+g.options.navheight+g.options.navpreviewarrowheight,u={left:s+"px",top:q+"px"};break;case"top":q=m.top-g.options.navpreviewheight-2*g.options.navpreviewborder-g.options.navpreviewarrowheight,u={left:s+"px",top:q+"px"};break;case"left":r=m.left-g.options.navpreviewwidth-2*g.options.navpreviewborder-g.options.navpreviewarrowwidth,u={left:r+"px",top:t+"px"};break;case"right":r=m.left+g.options.navwidth+g.options.navpreviewarrowwidth,u={left:r+"px",top:t+"px"}}var v=new Image;a(v).load(function(){var e;e=this.width/this.height<=g.options.navpreviewwidth/g.options.navpreviewheight?"width:"+g.options.navpreviewwidth+"px;height:auto;margin-top:-"+Math.floor(this.height/this.width*g.options.navpreviewwidth/2-g.options.navpreviewheight/2)+"px":"width:auto;height:"+g.options.navpreviewheight+"px;margin-left:-"+Math.floor(this.width/this.height*g.options.navpreviewheight/2-g.options.navpreviewwidth/2)+"px",e+="max-width:none !important;";var f=a(".amazingslider-nav-preview-img-"+g.id,d);if("vertical"==g.options.navdirection){var h=a("<div class='amazingslider-nav-preview-img-"+g.id+"' style='display:block;position:absolute;overflow:hidden;width:"+g.options.navpreviewwidth+"px;height:"+g.options.navpreviewheight+"px;left:0px;top:"+g.options.navpreviewheight+"px;'><img src='"+g.elemArray[b][i]+"' style='display:block;position:absolute;left:0px;top:0px;"+e+"' /></div>");d.append(h),f.length>0&&f.animate({top:"-"+g.options.navpreviewheight+"px"},function(){f.remove()}),c.is(":visible")?(h.animate({top:"0px"}),c.stop(!0,!0).animate(u)):(h.css({top:"0px"}),c.stop(!0,!0).css(u).fadeIn())}else{var h=a("<div class='amazingslider-nav-preview-img-"+g.id+"' style='display:block;position:absolute;overflow:hidden;width:"+g.options.navpreviewwidth+"px;height:"+g.options.navpreviewheight+"px;left:"+g.options.navpreviewheight+"px;top:0px;'><img src='"+g.elemArray[b][i]+"' style='display:block;position:absolute;left:0px;top:0px;"+e+"' /></div>");d.append(h),f.length>0&&f.animate({left:"-"+g.options.navpreviewwidth+"px"},function(){f.remove()}),c.is(":visible")?(h.animate({left:"0px"}),c.stop(!0,!0).animate(u)):(h.css({left:"0px"}),c.stop(!0,!0).css(u).fadeIn())}}),v.src=g.elemArray[b][i]}},function(){if(a(this).data("index")!=g.curElem&&a(this)["bulletNormal"+g.id](),g.options.navshowpreview){var b=a(".amazingslider-nav-preview-"+g.id,g.container);b.delay(500).fadeOut()}}),p.click(function(){g.slideRun(a(this).data("index"),g.options.playvideoonclickthumb)}),"bullets"==this.options.navstyle)p.css({background:"url('"+this.options.skinsfolder+this.options.navimage+"') no-repeat left top"}),a.fn["bulletNormal"+this.id]=function(){a(this).css({"background-position":"left top"})},a.fn["bulletHighlight"+this.id]=a.fn["bulletSelected"+this.id]=function(){a(this).css({"background-position":"left bottom"})};else if("numbering"==this.options.navstyle)p.text(b+1),p.css({"background-color":this.options.navcolor,color:this.options.navfontcolor,"font-size":this.options.navfontsize,"font-family":this.options.navfont,"text-align":"center","line-height":this.options.navheight+"px"}),p.css(ASPlatforms.applyBrowserStyles({"border-radius":this.options.navradius+"px"})),this.options.navbuttonshowbgimage&&this.options.navbuttonbgimage&&p.css({background:"url('"+this.options.skinsfolder+this.options.navbuttonbgimage+"') no-repeat center top"}),a.fn["bulletNormal"+this.id]=function(){a(this).css({"background-color":g.options.navcolor,color:g.options.navfontcolor}),g.options.navbuttonshowbgimage&&g.options.navbuttonbgimage&&a(this).css({"background-position":"center top"})},a.fn["bulletHighlight"+this.id]=a.fn["bulletSelected"+this.id]=function(){a(this).css({"background-color":g.options.navhighlightcolor,color:g.options.navfonthighlightcolor}),g.options.navbuttonshowbgimage&&g.options.navbuttonbgimage&&a(this).css({"background-position":"center bottom"})};else if("thumbnails"==this.options.navstyle){p.css({padding:this.options.navborder+"px","background-color":this.options.navbordercolor}),p.css({opacity:this.options.navopacity,filter:"alpha(opacity="+Math.round(100*this.options.navopacity)+")"});var q=new Image,g=this;a(q).load(function(){var a;a=this.width/this.height<=g.options.navimagewidth/g.options.navimageheight?"max-width:none !important;width:100%;height:auto;margin-top:-"+Math.floor(this.height/this.width*g.options.navimagewidth/2-g.options.navimageheight/2)+"px":"max-width:none !important;width:auto;height:100%;margin-left:-"+Math.floor(this.width/this.height*g.options.navimageheight/2-g.options.navimagewidth/2)+"px";var k="<div style='display:block;position:absolute;width:"+g.options.navimagewidth+"px;height:"+g.options.navimageheight+"px;overflow:hidden;'>";if(g.options.lightboxmode&&(k=k+"<a href='"+g.elemArray[b][c]+"' data-lightbox='"+g.options.lightboxid+"'>"),k=k+"<img src='"+g.elemArray[b][i]+"' style='"+a+"' />",g.options.lightboxmode&&(k+="</a>"),k+="</div>",p.append(k),g.options.navshowplayvideo&&(g.elemArray[b][h].length>0||g.elemArray[b][f]&&g.elemArray[b][j]&&g.checkVideoType(g.elemArray[b][f])>0)&&p.append("<div style='display:block;position:absolute;margin-left:0;margin-top:0;width:"+g.options.navimagewidth+"px;height:"+g.options.navimageheight+'px;background:url("'+g.options.skinsfolder+g.options.navplayvideoimage+"\") no-repeat center center;' ></div>"),"imageonly"!=g.options.navthumbstyle){var l="<div style='display:block;position:absolute;overflow:hidden;";"imageandtitle"==g.options.navthumbstyle?l+="margin-left:0px;margin-top:"+g.options.navimageheight+"px;width:"+g.options.navimagewidth+"px;height:"+g.options.navthumbtitleheight+"px;":"imageandtitledescription"==g.options.navthumbstyle&&(l+="margin-left:"+g.options.navimagewidth+"px;margin-top:0px;width:"+g.options.navthumbtitlewidth+"px;height:"+g.options.navimageheight+"px;"),l+="'><div class='amazingslider-nav-thumbnail-tite-"+g.id+"'>"+g.elemArray[b][d]+"</div>","imageandtitledescription"==g.options.navthumbstyle&&(l+="<div class='amazingslider-nav-thumbnail-description-"+g.id+"'>"+g.elemArray[b][e]+"</div>"),l+="</div>",p.append(l)}}),q.src=this.elemArray[b][i],a.fn["bulletNormal"+this.id]=function(){a(this).css({opacity:g.options.navopacity,filter:"alpha(opacity="+Math.round(100*g.options.navopacity)+")"})},a.fn["bulletHighlight"+this.id]=function(){a(this).css({opacity:1,filter:"alpha(opacity=100)"})},a.fn["bulletSelected"+this.id]=function(){if(a(this).css({opacity:1,filter:"alpha(opacity=100)"}),g.options.navshowfeaturedarrow){var b=a(".amazingslider-nav-featuredarrow-"+g.id,g.container),c=a(this).position(),d=a(".amazingslider-nav-container-"+g.id,g.container),e=a(".amazingslider-bullet-wrapper-"+g.id,g.container);if("horizontal"==g.options.navdirection){var f,h=c.left+g.options.navwidth/2-g.options.navfeaturedarrowimagewidth/2;if(f="top"==g.options.navposition||"topleft"==g.options.navposition||"topright"==g.options.navposition?c.top+g.options.navheight:c.top-g.options.navfeaturedarrowimageheight,b.css({top:f+"px"}),b.is(":visible")?b.stop(!0,!0).animate({left:h+"px"}):b.css({display:"block",left:h+"px"}),d.width()<e.width()&&!g.pauseCarousel){var i=Math.abs(isNaN(parseInt(e.css("margin-left")))?0:parseInt(e.css("margin-left")));if(c.left<i||c.left+g.options.navwidth>i+d.width()){var j=-c.left;j<=d.width()-e.width()&&(j=d.width()-e.width()),j>=0&&(j=0),e.animate({"margin-left":j+"px"},{queue:!1,duration:500,easing:"easeOutCirc"}),g.updateCarouselLeftRightArrow(j)}}}else{var h,f=c.top+g.options.navheight/2-g.options.navfeaturedarrowimageheight/2;if(h="left"==g.options.navposition?c.left+g.options.navwidth:c.left-g.options.navfeaturedarrowimagewidth,b.css({left:h+"px"}),b.is(":visible")?b.stop(!0,!0).animate({top:f+"px"}):b.css({display:"block",top:f+"px"}),d.height()<e.height()&&!g.pauseCarousel){var i=Math.abs(isNaN(parseInt(e.css("margin-top")))?0:parseInt(e.css("margin-top")));if(c.top<i||c.top+g.options.navheight>i+d.height()){var j=-c.top;j<=d.height()-e.height()&&(j=d.height()-e.height()),j>=0&&(j=0),e.animate({"margin-top":j+"px"},{queue:!1,duration:500,easing:"easeOutCirc"}),g.updateCarouselLeftRightArrow(j)}}}}}}return p},slideRun:function(b,d){if(savedCur=this.curElem,this.calcIndex(b),savedCur!=this.curElem){if(this.isAnimating&&(this.transitionTimeout&&clearTimeout(this.transitionTimeout),a(".amazingslider-img-box-"+this.id,this.container).unbind("transitionFinished").html("<div class='amazingslider-img-"+this.id+" ' style='display:block;position:absolute;left:0px;top:0px;width:100%;height:100%;overflow:hidden;'><img style='position:absolute;max-width:100%;width:100%;height:auto;left:0%;top:0%;' src='"+this.elemArray[savedCur][c]+"' /></div>"),this.isAnimating=!1),this.sliderTimeout.stop(),this.tempPaused=!1,this.container.trigger("amazingslider.switch",[savedCur,this.curElem]),a(".amazingslider-video-wrapper-"+this.id,this.container).find("iframe").each(function(){a(this).attr("src","")}),(d||this.options.autoplayvideo)&&this.elemArray[this.curElem][h].length>0)this.playVideo(!0);else{a(".amazingslider-video-wrapper-"+this.id,this.container).css({display:"none"}).empty(),this.container.trigger("amazingslider.switchtext",[savedCur,this.curElem]);var e=!0;-2==b?e=!1:-1==b?e=!0:b>=0&&(e=this.curElem>savedCur?!0:!1),this.showImage(e)}(new Image).src=this.elemArray[this.prevElem][c],(new Image).src=this.elemArray[this.nextElem][c],!this.options.randomplay&&this.options.loop>0&&this.curElem==this.elemArray.length-1&&(this.loopCount++,this.options.loop<=this.loopCount&&(this.isPaused=!0)),!this.isPaused&&!this.tempPaused&&this.elemArray.length>1&&this.sliderTimeout.start()}},showImage:function(b){var d=this,e=new Image;a(e).load(function(){var e=100,i=a(".amazingslider-img-box-"+d.id,d.container),k=a(".amazingslider-img-"+d.id,d.container),l=a("<div class='amazingslider-img-"+d.id+" ' style='display:block;position:absolute;left:0px;top:0px;width:100%;height:100%;overflow:hidden;'><img style='position:absolute;"+(ASPlatforms.isIE678()?"opacity:inherit;filter:inherit;":"")+"max-width:"+e+"%;width:100%;height:auto;left:"+(100-e)/2+"%;top:0%;' src='"+d.elemArray[d.curElem][c]+"' /></div>");k.length>0?k.before(l):i.append(l);var m=d.firstslide&&!d.options.transitiononfirstslide?"":d.options.transition;d.firstslide=!1,d.isAnimating=!0,i.amazingsliderTransition(d.id,k,l,{effect:m,direction:b,duration:d.options.transitionduration,easing:d.options.transitioneasing,crossfade:d.options.crossfade,fade:d.options.fade,slide:d.options.slide,slice:d.options.slice,blinds:d.options.blinds,threed:d.options.threed,threedhorizontal:d.options.threedhorizontal,blocks:d.options.blocks,shuffle:d.options.shuffle},function(){d.isAnimating=!1},function(a){d.transitionTimeout=a});var n=a(".amazingslider-swipe-box-"+d.id,d.container);d.elemArray[d.curElem][f]?(n.css({cursor:"pointer"}),n.unbind("click").bind("click",function(){if(d.elemArray[d.curElem][j])d.html5Lightbox.showItem(d.elemArray[d.curElem][f]);else{var a=d.elemArray[d.curElem][g]?d.elemArray[d.curElem][g]:"_self";window.open(d.elemArray[d.curElem][f],a)}})):(n.css({cursor:""}),n.unbind("click"));var o=d.elemArray[d.curElem][f]&&d.elemArray[d.curElem][j]&&d.checkVideoType(d.elemArray[d.curElem][f])>0;a(".amazingslider-lightbox-play-"+d.id,d.container).css({display:o?"block":"none"}),a(".amazingslider-play-"+d.id,d.container).css({display:d.elemArray[d.curElem][h].length>0?"block":"none"})}),e.src=this.elemArray[this.curElem][c]},calcIndex:function(a){var b;-2==a?(this.nextElem=this.curElem,this.curElem=this.prevElem,this.prevElem=this.curElem-1<0?this.elemArray.length-1:this.curElem-1,this.options.randomplay&&(b=Math.floor(Math.random()*this.elemArray.length),b!=this.curElem&&(this.prevElem=b))):-1==a?(this.prevElem=this.curElem,this.curElem=this.nextElem,this.nextElem=this.curElem+1>=this.elemArray.length?0:this.curElem+1,this.options.randomplay&&(b=Math.floor(Math.random()*this.elemArray.length),b!=this.curElem&&(this.nextElem=b))):a>=0&&(this.curElem=a,this.prevElem=this.curElem-1<0?this.elemArray.length-1:this.curElem-1,this.nextElem=this.curElem+1>=this.elemArray.length?0:this.curElem+1,this.options.randomplay&&(b=Math.floor(Math.random()*this.elemArray.length),b!=this.curElem&&(this.prevElem=b),b=Math.floor(Math.random()*this.elemArray.length),b!=this.curElem&&(this.nextElem=b)))}},b=b||{};for(var v in b)v.toLowerCase()!==v&&(b[v.toLowerCase()]=b[v],delete b[v]);this.each(function(){this.options=a.extend({},b);var c=this;a.each(a(this).data(),function(a,b){c.options[a.toLowerCase()]=b});for(var d={},e=window.location.search.substring(1).split("&"),f=0;f<e.length;f++){var g=e[f].split("=");if(g&&2==g.length){var h=g[0].toLowerCase(),i=unescape(g[1]).toLowerCase();d[h]="true"==i?!0:"false"==i?!1:i}}this.options=a.extend(this.options,d);var j={lightboxmode:!1,lightboxid:"lightbox",previewmode:!1,isresponsive:!0,autoplay:!1,pauseonmouseover:!0,slideinterval:5e3,randomplay:!1,loop:0,skinsfoldername:"skins",showtimer:!0,timerposition:"bottom",timercolor:"#ffffff",timeropacity:.6,timerheight:2,autoplayvideo:!1,playvideoimage:"static/img/play-video.png",playvideoimagewidth:64,playvideoimageheight:64,playvideoonclickthumb:!1,enabletouchswipe:!0,border:6,bordercolor:"#ffffff",borderradius:0,showshadow:!0,shadowsize:5,shadowcolor:"#aaaaaa",showbottomshadow:!1,bottomshadowimage:"static/img/bottom-shadow.png",bottomshadowimagewidth:140,bottomshadowimagetop:90,showbackgroundimage:!1,backgroundimage:"static/img/background.png",backgroundimagewidth:120,backgroundimagetop:-10,arrowstyle:"mouseover",arrowimage:"static/img/arrows.png",arrowwidth:32,arrowheight:32,arrowmargin:0,arrowhideonmouseleave:1e3,arrowtop:50,showribbon:!1,ribbonimage:"static/img/ribbon_topleft-0.png",ribbonposition:"topleft",ribbonimagex:-11,ribbonimagey:-11,textstyle:"static",textpositionstatic:"bottom",textautohide:!1,textpositionmarginstatic:0,textpositiondynamic:"topleft,topright,bottomleft,bottomright",textpositionmarginleft:24,textpositionmarginright:24,textpositionmargintop:24,textpositionmarginbottom:24,texteffect:"slide",texteffecteasing:"easeOutCubic",texteffectduration:600,addgooglefonts:!0,googlefonts:"Inder",textcss:"display:block; padding:12px; text-align:left;",textbgcss:"display:block; position:absolute; top:0px; left:0px; width:100%; height:100%; background-color:#333333; opacity:0.6; filter:alpha(opacity=60);",titlecss:"display:block; position:relative; font:bold 14px Inder,Arial,Tahoma,Helvetica,sans-serif; color:#fff;",descriptioncss:"display:block; position:relative; font:12px Anaheim,Arial,Tahoma,Helvetica,sans-serif; color:#fff;",shownumbering:!1,numberingformat:"%NUM/%TOTAL ",navstyle:"thumbnails",navswitchonmouseover:!1,navdirection:"horizontal",navposition:"bottom",navmargin:24,navwidth:64,navheight:60,navspacing:8,navshowpreview:!0,navpreviewposition:"top",navpreviewarrowimage:"static/img/preview-arrow.png",navpreviewarrowwidth:20,navpreviewarrowheight:10,navpreviewwidth:120,navpreviewheight:60,navpreviewborder:8,navpreviewbordercolor:"#ffff00",navimage:"static/img/bullets.png",navradius:0,navcolor:"",navhighlightcolor:"",navfont:"Lucida Console, Arial",navfontcolor:"#666666",navfonthighlightcolor:"#666666",navfontsize:12,navbuttonshowbgimage:!0,navbuttonbgimage:"static/img/navbuttonbgimage.png",navshowbuttons:!1,navbuttonradius:2,navbuttoncolor:"#999999",navbuttonhighlightcolor:"#333333",navshowplaypause:!0,navshowarrow:!0,navplaypauseimage:"nav-play-pause.png",navarrowimage:"nav-arrows.png",navshowplaypausestandalone:!1,navshowplaypausestandaloneautohide:!1,navshowplaypausestandaloneposition:"bottomright",navshowplaypausestandalonemarginx:24,navshowplaypausestandalonemarginy:24,navshowplaypausestandalonewidth:32,navshowplaypausestandaloneheight:32,navopacity:.8,navborder:2,navbordercolor:"#ffffff",navshowfeaturedarrow:!0,navfeaturedarrowimage:"static/img/featured-arrow.png",navfeaturedarrowimagewidth:20,navfeaturedarrowimageheight:10,navthumbstyle:"imageonly",navthumbtitleheight:20,navthumbtitlewidth:120,navthumbtitlecss:"display:block;position:relative;padding:2px 4px;text-align:left;font:bold 14px Arial,Helvetica,sans-serif;color:#333;",navthumbtitlehovercss:"text-decoration:underline;",navthumbdescriptioncss:"display:block;position:relative;padding:2px 4px;text-align:left;font:normal 12px Arial,Helvetica,sans-serif;color:#333;",navthumbnavigationstyle:"arrow",navthumbnavigationarrowimage:"static/img/carousel-arrows-32-32-0.png",navthumbnavigationarrowimagewidth:32,navthumbnavigationarrowimageheight:32,navshowplayvideo:!0,navplayvideoimage:"static/img/play-32-32-0.png",transitiononfirstslide:!1,transition:"slide",transitionduration:1e3,transitioneasing:"easeOutQuad",fade:{duration:1e3,easing:"easeOutQuad"},crossfade:{duration:1e3,easing:"easeOutQuad"},slide:{duration:1e3,easing:"easeOutElastic"},slice:{duration:1500,easing:"easeOutQuad",effects:"up,down,updown",slicecount:8},blinds:{duration:1500,easing:"easeOutQuad",slicecount:4},threed:{duration:1500,easing:"easeOutQuad",slicecount:4,fallback:"slice",bgcolor:"#222222",perspective:1e3,perspectiveorigin:"right",scatter:5},threedhorizontal:{duration:1500,easing:"easeOutQuad",slicecount:3,fallback:"slice",bgcolor:"#222222",perspective:1e3,perspectiveorigin:"bottom",scatter:5},blocks:{duration:1500,easing:"easeOutQuad",effects:"topleft, bottomright, top, bottom, random",rowcount:4,columncount:3},shuffle:{duration:1500,easing:"easeOutQuad",rowcount:4,columncount:3},versionmark:"AMFree",showwatermarkdefault:!0,watermarkstyledefault:"text",watermarktextdefault:"amazingslider.com",watermarkimagedefault:"",watermarklinkdefault:"http://amazingslider.com?source=wm",watermarktargetdefault:"_blank",watermarkpositioncssdefault:"display:block;position:absolute;top:6px;left:6px;",watermarktextcssdefault:"font:12px Arial,Tahoma,Helvetica,sans-serif;color:#666;padding:2px 4px;-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px;background-color:#fff;opacity:0.9;filter:alpha(opacity=90);",watermarklinkcssdefault:"text-decoration:none;font:12px Arial,Tahoma,Helvetica,sans-serif;color:#333;"};
this.options=a.extend(j,this.options),"undefined"!=typeof amazingslider_previewmode&&(this.options.previewmode=amazingslider_previewmode),this.options.htmlfolder=window.location.href.substr(0,window.location.href.lastIndexOf("/")+1),this.options.skinsfolder=this.options.skinsfoldername.length>0?this.options.jsfolder+this.options.skinsfoldername+"/":this.options.jsfolder,"AMCom"!=this.options.versionmark&&(this.options.showwatermark=window.location.href.indexOf("://amazingslider.com")>=0?!1:!0,this.options.watermarkstyle=this.options.watermarkstyledefault,this.options.watermarktext="amazingslider.com",this.options.watermarkimage=this.options.watermarkimagedefault,this.options.watermarklink=this.options.watermarklinkdefault,this.options.watermarktarget=this.options.watermarktargetdefault,this.options.watermarkpositioncss=this.options.watermarkpositioncssdefault,this.options.watermarktextcss=this.options.watermarktextcssdefault,this.options.watermarklinkcss=this.options.watermarklinkcssdefault);var k=new u(a(this),this.options,amazingsliderId++);a(this).data("object",k),a(this).data("id",amazingsliderId),amazingsliderObjects.addObject(k)})}}(jQuery),function(a){a.fn.amazingsliderTransition=function(b,c,d,e,f,g){var h=this,i=e.effect,j=e.duration,k=e.easing,l=e.direction,m=null;i&&(i=i.split(","),m=i[Math.floor(Math.random()*i.length)],m=a.trim(m.toLowerCase())),"threed"!=m&&"threedhorizontal"!=m||ASPlatforms.css33dTransformSupported()||(m=e[m].fallback),m&&e[m]&&(e[m].duration&&(j=e[m].duration),e[m].easing&&(k=e[m].easing)),"fade"==m?(h.css({overflow:"hidden"}),d.show(),c.fadeOut(j,k,function(){c.remove(),f()})):"crossfade"==m?(h.css({overflow:"hidden"}),d.hide(),c.fadeOut(j/2,k,function(){d.fadeIn(j/2,k,function(){c.remove(),f()})})):"slide"==m?(h.css({overflow:"hidden"}),l?(d.css({left:"100%"}),d.animate({left:"0%"},j,k),c.animate({left:"-100%"},j,k,function(){c.remove(),f()})):(d.css({left:"-100%"}),d.animate({left:"0%"},j,k),c.animate({left:"100%"},j,k,function(){c.remove(),f()}))):"slice"==m?(h.css({overflow:"hidden"}),h.sliceTransition(b,c,d,a.extend({duration:j,easing:k,direction:l},e.slice),f,g)):"blinds"==m?(h.css({overflow:"hidden"}),h.blindsTransition(b,c,d,a.extend({duration:j,easing:k,direction:l},e.blinds),f,g)):"threed"==m?(h.css({overflow:"visible"}),h.threedTransition(b,c,d,a.extend({duration:j,easing:k,direction:l},e.threed),f,g)):"threedhorizontal"==m?(h.css({overflow:"visible"}),h.threedHorizontalTransition(b,c,d,a.extend({duration:j,easing:k,direction:l},e.threedhorizontal),f,g)):"blocks"==m?(h.css({overflow:"hidden"}),h.blocksTransition(b,c,d,a.extend({duration:j,easing:k,direction:l},e.blocks),f,g)):"shuffle"==m?(h.css({overflow:"visible"}),h.shuffleTransition(b,c,d,a.extend({duration:j,easing:k,direction:l},e.shuffle),f,g)):(d.show(),c.remove(),f())},a.fn.sliceTransition=function(b,c,d,e,f,g){var h,i,j=this,k=j.width(),l=Math.ceil(k/e.slicecount);for(d.hide(),h=0;h<e.slicecount;h++){var m=a("<div class='amazingslider-img-slice-"+b+" ' style='display:block;position:absolute;left:"+h*l+"px;top:0%;width:"+l+"px;height:100%;overflow:hidden;'></div>"),n=a("img",d).clone().css({"max-width":"",left:"-"+l*h+"px",width:100*e.slicecount+"%"});n.attr("style",n.attr("style")+"; max-width:"+k+"px !important;"),m.append(n),j.append(m)}var o=a(".amazingslider-img-slice-"+b,j);e.direction||(o=a(a.makeArray(o).reverse()));var p=e.effects.split(","),q=p[Math.floor(Math.random()*p.length)];q=a.trim(q.toLowerCase()),j.unbind("transitionFinished").bind("transitionFinished",function(){j.unbind("transitionFinished"),c.remove(),d.show(),o.remove(),f()});var r=e.duration/2,s=e.duration/2/e.slicecount;i=0,o.each(function(){var b=a(this);switch(q){case"up":b.css({top:"",bottom:"0%",height:"0%"});break;case"down":b.css({top:"0%",height:"0%"});break;case"updown":b.css(i%2==0?{top:"0%",height:"0%"}:{top:"",bottom:"0%",height:"0%"})}setTimeout(function(){b.animate({height:"100%"},r,e.easing)},s*i),i++});var t=setTimeout(function(){j.trigger("transitionFinished")},e.duration);g(t)},a.fn.blindsTransition=function(b,c,d,e,f,g){var h,i,j=this,k=j.width(),l=Math.ceil(k/e.slicecount);for(d.hide(),h=0;h<e.slicecount;h++){var m=a("<div class='amazingslider-img-slice-wrapper-"+b+" ' style='display:block;position:absolute;left:"+h*l+"px;top:0%;width:"+l+"px;height:100%;overflow:hidden;'></div>"),n=a("<div class='amazingslider-img-slice-"+b+" ' style='display:block;position:absolute;left:0%;top:0%;width:100%;height:100%;overflow:hidden;'></div>"),o=a("img",d).clone().css({"max-width":"",left:"-"+l*h+"px",width:100*e.slicecount+"%"});o.attr("style",o.attr("style")+"; max-width:"+k+"px !important;"),n.append(o),m.append(n),j.append(m)}var p=a(".amazingslider-img-slice-"+b,j);e.direction||(p=a(a.makeArray(p).reverse())),j.unbind("transitionFinished").bind("transitionFinished",function(){j.unbind("transitionFinished"),c.remove(),d.show(),a(".amazingslider-img-slice-wrapper-"+b,j).remove(),f()}),i=0,p.each(function(){var b,c=a(this);e.direction?(c.css({left:"-100%"}),b={left:"0%"}):(c.css({left:"",right:"-100%"}),b={right:"0%"}),c.animate(b,e.duration*(i+1)/e.slicecount,e.easing),i++});var q=setTimeout(function(){j.trigger("transitionFinished")},e.duration);g(q)},a.fn.threedTransition=function(b,c,d,e,f,g){var h,i,j=this,k=j.width(),l=j.height(),m=l/2,n=Math.ceil(k/e.slicecount),o=a("<div class='amazingslider-img-cube-wrapper-"+b+" ' style='display:block;position:absolute;left:0%;top:0%;width:100%;height:100%;'></div>");for(j.append(o),o.css(ASPlatforms.applyBrowserStyles({"transform-style":"preserve-3d",perspective:e.perspective,"perspective-origin":e.perspectiveorigin+" center"})),d.hide(),h=0;h<e.slicecount;h++){var p=a("img",d).clone().css({"max-width":"",left:"-"+n*h+"px",width:100*e.slicecount+"%"});p.attr("style",p.attr("style")+"; max-width:"+k+"px !important;");var q=a("<div class='amazingslider-img-slice-"+b+" ' style='display:block;position:absolute;left:0%;top:0%;width:100%;height:100%;overflow:hidden;outline:1px solid transparent;background-color:"+e.bgcolor+";'></div>");q.append(p);var r=a("img",c).clone().css({"max-width":"",left:"-"+n*h+"px",width:100*e.slicecount+"%"});r.attr("style",r.attr("style")+"; max-width:"+k+"px !important;");var s=a("<div class='amazingslider-img-slice-"+b+" ' style='display:block;position:absolute;left:0%;top:0%;width:100%;height:100%;overflow:hidden;outline:1px solid transparent;background-color:"+e.bgcolor+";'></div>");s.append(r);var t=a("<div class='amazingslider-img-slice-left-"+b+" ' style='display:block;position:absolute;left:2px;top:2px;width:"+(l-1)+"px;height:"+(l-1)+"px;overflow:hidden;outline:2px solid transparent;background-color:"+e.bgcolor+";'></div>"),u=a("<div class='amazingslider-img-slice-right-"+b+" ' style='display:block;position:absolute;left:0%;top:0%;width:"+(l-1)+"px;height:"+(l-1)+"px;overflow:hidden;outline:2px solid transparent;background-color:"+e.bgcolor+";'></div>"),v=a("<div class='amazingslider-img-cube-"+b+" ' style='display:block;position:absolute;left:"+h*n+"px;top:0%;width:"+n+"px;height:100%;'></div>");v.append(t),v.append(u),v.append(q),v.append(s),o.append(v),t.css(ASPlatforms.applyBrowserStyles({"transform-style":"preserve-3d","backface-visibility":"hidden",transform:"rotateY(-90deg) translateZ("+m+"px)"})),u.css(ASPlatforms.applyBrowserStyles({"transform-style":"preserve-3d","backface-visibility":"hidden",transform:"rotateY(90deg) translateZ("+(n-m)+"px)"})),s.css(ASPlatforms.applyBrowserStyles({"transform-style":"preserve-3d","backface-visibility":"hidden",transform:"translateZ("+m+"px)"})),q.css(ASPlatforms.applyBrowserStyles({"transform-style":"preserve-3d","backface-visibility":"hidden",transform:"rotateX("+(e.direction?"90":"-90")+"deg) translateZ("+m+"px)"}))}var w=a(".amazingslider-img-cube-"+b,j);j.unbind("transitionFinished").bind("transitionFinished",function(){j.unbind("transitionFinished"),c.remove(),d.show(),setTimeout(function(){o.remove()},100),f()});var x=e.duration/2/e.slicecount,y=e.duration/2;w.each(function(){a(this).css(ASPlatforms.applyBrowserStyles({"transform-style":"preserve-3d","backface-visibility":"hidden"})),a(this).css(ASPlatforms.applyBrowserStyles({"transition-property":"transform"},!0)),a(this).css(ASPlatforms.applyBrowserStyles({transform:"translateZ(-"+m+"px)"}))}),c.hide(),i=0,w.each(function(){var b=a(this),c=(e.slicecount-1)/2,d=Math.round((i-c)*e.scatter*k/100);setTimeout(function(){b.css(ASPlatforms.applyBrowserStyles({"transform-style":"preserve-3d","backface-visibility":"hidden"})),b.css(ASPlatforms.applyBrowserStyles({"transition-property":"transform"},!0)),b.css(ASPlatforms.applyBrowserStyles({"transition-duration":y+"ms",transform:"translateZ(-"+m+"px) rotateX("+(e.direction?"-89.99":"89.99")+"deg)"})),b.animate({left:"+="+d+"px"},y/2-50,function(){b.animate({left:"-="+d+"px"},y/2-50)})},x*i+100),i++});var z=setTimeout(function(){j.trigger("transitionFinished")},e.duration);g(z)},a.fn.threedHorizontalTransition=function(b,c,d,e,f,g){var h,i,j=this,k=j.width(),l=j.height(),m=k/2,n=Math.ceil(l/e.slicecount),o=a("<div class='amazingslider-img-cube-wrapper-"+b+" ' style='display:block;position:absolute;left:0%;top:0%;width:100%;height:100%;'></div>");for(j.append(o),o.css(ASPlatforms.applyBrowserStyles({"transform-style":"preserve-3d",perspective:e.perspective,"perspective-origin":"center "+e.perspectiveorigin})),d.hide(),h=0;h<e.slicecount;h++){var p=a("img",d).clone().css({"max-height":"",top:"-"+n*h+"px"});p.attr("style",p.attr("style"));var q=a("<div class='amazingslider-img-slice-"+b+" ' style='display:block;position:absolute;left:0%;top:0%;width:100%;height:100%;overflow:hidden;outline:1px solid transparent;background-color:"+e.bgcolor+";'></div>");q.append(p);var r=a("img",c).clone().css({"max-height":"",top:"-"+n*h+"px"});r.attr("style",r.attr("style"));var s=a("<div class='amazingslider-img-slice-"+b+" ' style='display:block;position:absolute;left:0%;top:0%;width:100%;height:100%;overflow:hidden;outline:1px solid transparent;background-color:"+e.bgcolor+";'></div>");s.append(r);var t=a("<div class='amazingslider-img-slice-left-"+b+" ' style='display:block;position:absolute;left:2px;top:2px;width:"+(k-1)+"px;height:"+(k-1)+"px;overflow:hidden;outline:2px solid transparent;background-color:"+e.bgcolor+";'></div>"),u=a("<div class='amazingslider-img-slice-right-"+b+" ' style='display:block;position:absolute;left:0%;top:0%;width:"+(k-1)+"px;height:"+(k-1)+"px;overflow:hidden;outline:2px solid transparent;background-color:"+e.bgcolor+";'></div>"),v=a("<div class='amazingslider-img-cube-"+b+" ' style='display:block;position:absolute;left:0%;top:"+h*n+"px;width:100%;height:"+n+"px;'></div>");v.append(t),v.append(u),v.append(q),v.append(s),o.append(v),t.css(ASPlatforms.applyBrowserStyles({"transform-style":"preserve-3d","backface-visibility":"hidden",transform:"rotateX(90deg) translateZ("+m+"px)"})),u.css(ASPlatforms.applyBrowserStyles({"transform-style":"preserve-3d","backface-visibility":"hidden",transform:"rotateX(-90deg) translateZ("+(n-m)+"px)"})),s.css(ASPlatforms.applyBrowserStyles({"transform-style":"preserve-3d","backface-visibility":"hidden",transform:"translateZ("+m+"px)"})),q.css(ASPlatforms.applyBrowserStyles({"transform-style":"preserve-3d","backface-visibility":"hidden",transform:"rotateY("+(e.direction?"-90":"90")+"deg) translateZ("+m+"px)"}))}var w=a(".amazingslider-img-cube-"+b,j);j.unbind("transitionFinished").bind("transitionFinished",function(){j.unbind("transitionFinished"),c.remove(),d.show(),setTimeout(function(){o.remove()},100),f()});var x=e.duration/2/e.slicecount,y=e.duration/2;w.each(function(){a(this).css(ASPlatforms.applyBrowserStyles({"transform-style":"preserve-3d","backface-visibility":"hidden"})),a(this).css(ASPlatforms.applyBrowserStyles({"transition-property":"transform"},!0)),a(this).css(ASPlatforms.applyBrowserStyles({transform:"translateZ(-"+m+"px)"}))}),c.hide(),i=0,w.each(function(){var b=a(this),c=(e.slicecount-1)/2,d=Math.round((i-c)*e.scatter*l/100);setTimeout(function(){b.css(ASPlatforms.applyBrowserStyles({"transform-style":"preserve-3d","backface-visibility":"hidden"})),b.css(ASPlatforms.applyBrowserStyles({"transition-property":"transform"},!0)),b.css(ASPlatforms.applyBrowserStyles({"transition-duration":y+"ms",transform:"translateZ(-"+m+"px) rotateY("+(e.direction?"89.99":"-89.99")+"deg)"})),b.animate({top:"+="+d+"px"},y/2-50,function(){b.animate({top:"-="+d+"px"},y/2-50)})},x*i+100),i++});var z=setTimeout(function(){j.trigger("transitionFinished")},e.duration);g(z)},a.fn.blocksTransition=function(b,c,d,e,f,g){var h,i,j,k=this,l=k.width(),m=k.height(),n=Math.ceil(l/e.columncount),o=Math.ceil(m/e.rowcount),p=e.effects.split(","),q=p[Math.floor(Math.random()*p.length)];for(q=a.trim(q.toLowerCase()),d.hide(),h=0;h<e.rowcount;h++)for(i=0;i<e.columncount;i++){var r=a("<div class='amazingslider-img-block-wrapper-"+b+" ' style='display:block;position:absolute;left:"+i*n+"px;top:"+h*o+"px;width:"+n+"px;height:"+o+"px;overflow:hidden;'></div>"),s=a("<div class='amazingslider-img-block-"+b+" ' style='display:block;position:absolute;left:0%;top:0%;width:100%;height:100%;overflow:hidden;'></div>"),t=a("img",d).clone().css({"max-width":"","max-height":"",left:"-"+n*i+"px",top:"-"+o*h+"px",width:100*e.rowcount+"%"});t.attr("style",t.attr("style")+"; max-width:"+l+"px !important;"),s.append(t),r.append(s),k.append(r)}var u=a(".amazingslider-img-block-"+b,k);k.unbind("transitionFinished").bind("transitionFinished",function(){k.unbind("transitionFinished"),c.remove(),d.show(),a(".amazingslider-img-block-wrapper-"+b,k).remove(),f()}),"bottomright"==q||"bottom"==q?u=a(a.makeArray(u).reverse()):"random"==q&&(u=a(a.makeArray(u).sort(function(){return.5-Math.random()}))),j=0,u.each(function(){var b,c,d=a(this);switch(b=Math.floor(j/e.columncount),c=j%e.columncount,d.hide(),q){case"topleft":case"bottomright":d.delay(e.duration*(b+c)/(e.rowcount+e.columncount)).fadeIn();break;case"top":case"bottom":case"random":d.delay(e.duration*j/(e.rowcount*e.columncount)).fadeIn()}j++});var v=setTimeout(function(){k.trigger("transitionFinished")},e.duration);g(v)},a.fn.shuffleTransition=function(b,c,d,e,f,g){var h,i,j,k=this,l=k.width(),m=k.height(),n=Math.ceil(l/e.columncount),o=Math.ceil(m/e.rowcount);for(h=0;h<e.rowcount;h++)for(i=0;i<e.columncount;i++){var p=a("<div class='amazingslider-img-block-wrapper-next-"+b+" ' style='display:block;position:absolute;left:"+i*n+"px;top:"+h*o+"px;width:"+n+"px;height:"+o+"px;overflow:hidden;'></div>"),q=a("<div class='amazingslider-img-block-next-"+b+" ' style='display:block;position:absolute;left:0%;top:0%;width:100%;height:100%;overflow:hidden;'></div>"),r=a("img",d).clone().css({"max-width":"","max-height":"",left:"-"+n*i+"px",top:"-"+o*h+"px",width:100*e.rowcount+"%"});r.attr("style",r.attr("style")+"; max-width:"+l+"px !important;"),q.append(r),p.append(q),k.append(p);var s=a("<div class='amazingslider-img-block-wrapper-prev-"+b+" ' style='display:block;position:absolute;left:"+i*n+"px;top:"+h*o+"px;width:"+n+"px;height:"+o+"px;overflow:hidden;'></div>"),t=a("<div class='amazingslider-img-block-prev-"+b+" ' style='display:block;position:absolute;left:0%;top:0%;width:100%;height:100%;overflow:hidden;'></div>"),u=a("img",c).clone().css({"max-width":"","max-height":"",left:"-"+n*i+"px",top:"-"+o*h+"px",width:100*e.rowcount+"%"});u.attr("style",u.attr("style")+"; max-width:"+l+"px !important;"),t.append(u),s.append(t),k.append(s)}d.hide(),c.hide();var v=a(".amazingslider-img-block-wrapper-next-"+b,k),w=a(".amazingslider-img-block-wrapper-prev-"+b,k);k.unbind("transitionFinished").bind("transitionFinished",function(){k.unbind("transitionFinished"),c.remove(),d.show(),a(".amazingslider-img-block-wrapper-next-"+b,k).remove(),a(".amazingslider-img-block-wrapper-prev-"+b,k).remove(),f()});var x=k.offset(),y=-x.left,z=a(window).width()-x.left-k.width()/e.columncount,A=100*-x.top/k.height(),B=a(window).height()-x.top-k.height()/e.rowcount;j=0,w.each(function(){var b=a(this),c=Math.random()*(z-y)+y,d=Math.random()*(B-A)+A;b.animate({left:c+"px",top:d+"px",opacity:0},e.duration,e.easing),j++}),j=0,v.each(function(){var b=a(this),c=Math.floor(j/e.columncount),d=j%e.columncount,f=Math.random()*(z-y)+y,g=Math.random()*(B-A)+A;b.css({left:f+"px",top:g+"px",opacity:0},e.duration,e.easing),b.animate({left:d*n+"px",top:c*o+"px",opacity:1},e.duration,e.easing),j++});var C=setTimeout(function(){k.trigger("transitionFinished")},e.duration);g(C)}}(jQuery),function(a){a.fn.touchSwipe=function(b){var c={preventWebBrowser:!1,swipeLeft:null,swipeRight:null,swipeTop:null,swipeBottom:null};return b&&a.extend(c,b),this.each(function(){function b(a){var b=a.originalEvent;b.targetTouches.length>=1?(h=b.targetTouches[0].pageX,i=b.targetTouches[0].pageY):f(a)}function d(a){c.preventWebBrowser&&a.preventDefault();var b=a.originalEvent;b.targetTouches.length>=1?(j=b.targetTouches[0].pageX,k=b.targetTouches[0].pageY):f(a)}function e(a){j>0||k>0?(g(),f(a)):f(a)}function f(){h=-1,i=-1,j=-1,k=-1}function g(){j>h?c.swipeRight&&c.swipeRight.call():c.swipeLeft&&c.swipeLeft.call(),k>i?c.swipeBottom&&c.swipeBottom.call():c.swipeTop&&c.swipeTop.call()}var h=-1,i=-1,j=-1,k=-1;try{a(this).bind("touchstart",b),a(this).bind("touchmove",d),a(this).bind("touchend",e),a(this).bind("touchcancel",f)}catch(l){}})}}(jQuery),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin(2*(b*e-f)*Math.PI/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=.3*e*1.5),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*h*Math.pow(2,10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)+c:h*Math.pow(2,-10*(b-=1))*Math.sin(2*(b*e-f)*Math.PI/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*b*b*(((f*=1.525)+1)*b-f)+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?7.5625*d*b*b+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return e/2>b?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}});var amazingsliderObjects=new function(){this.objects=[],this.addObject=function(a){this.objects.push(a)}};if("undefined"==typeof ASYouTubeIframeAPIReady)var ASYouTubeIframeAPIReady=!1,ASYouTubeTimeout=0;if("undefined"==typeof amazingsliderId)var amazingsliderId=0;